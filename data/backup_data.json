{
  "items": [
    {
      "tags": ["java", "mongodb", "spring-boot", "neo4j"],
      "owner": {
        "reputation": 110,
        "user_id": 11603305,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/4c05f4ec5f2385c24dbc484e35908a48?s=128&d=identicon&r=PG&f=1",
        "display_name": "AbsoluteBeginner",
        "link": "https://stackoverflow.com/users/11603305/absolutebeginner"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 3,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607866719,
      "creation_date": 1607866719,
      "question_id": 65276275,
      "share_link": "https://stackoverflow.com/q/65276275",
      "body_markdown": "I have a user entity which i want to save in two databases, one in MongoDb and one in Neo4j:\r\n\r\n @Node(&quot;User&quot;)\r\n @Document\r\n public class User {\r\n @Id\r\n @GeneratedValue(UUIDStringGenerator.class)\r\n @org.springframework.data.annotation.Id\r\n private String id;\r\n //some other fields\r\n private Set&lt;SomeObject&gt; objects = new HashSet&lt;&gt;();\r\n //getters and setters\r\n }\r\n\r\nThese are my dependencies for both databases:\r\n```\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.neo4j.springframework.data&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-data-neo4j-rx-spring-boot-starter&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nNow imagine that i want the set of objects to be saved in my MongoDb but not in my Neo4j database. If i mark this as @Transient it won&#39;t be saved in any one of them. Is there any way to do this?",
      "link": "https://stackoverflow.com/questions/65276275/how-can-i-map-one-entity-to-two-databases-mongodb-and-neo4j-with-custom-proper",
      "title": "How can i map one entity to two databases (MongoDb and Neo4j) with custom properties in each"
    },
    {
      "tags": ["database", "neo4j", "model"],
      "owner": {
        "reputation": 910,
        "user_id": 1753895,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://www.gravatar.com/avatar/53a2bde576628c1b92e0ec16b24e809a?s=128&d=identicon&r=PG",
        "display_name": "Anonymous Me",
        "link": "https://stackoverflow.com/users/1753895/anonymous-me"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 14,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607827303,
      "creation_date": 1607827303,
      "question_id": 65271883,
      "share_link": "https://stackoverflow.com/q/65271883",
      "body_markdown": "I am learning about Neo4j and trying to create a data model. Here is the relational data model \r\n\r\nhttps://www.vertabelo.com/blog/a-data-model-for-trading-stocks-funds-and-cryptocurrencies/\r\n\r\nSo far I have attempted to create the model as follows\r\n\r\n CREATE (USA:Country)\r\n CREATE (India:Country)\r\n \r\n CREATE (USD:Currency {code: &quot;USD&quot;, name: &quot;Dollar&quot;, is_active: true, is_base_currency: true})\r\n CREATE (INR:Currency {code: &quot;INR&quot;, name: &quot;Rupee&quot;, is_active: true, is_base_currency: true})\r\n \r\n CREATE (USD) -[:CURRENCY_USED {date_from: &quot;&quot;, date_to: &quot;&quot;}]-&gt; (USA)\r\n CREATE (INR) -[:CURRENCY_USED {date_from: &quot;&quot;, date_to: &quot;&quot;}]-&gt; (India)\r\n \r\n CREATE (INR:CurrencyRate {code: &quot;INR&quot;, name: &quot;Rupee&quot;, is_active: true, is_base_currency: true})\r\n CREATE (INR:CurrencyRate {code: &quot;INR&quot;, name: &quot;Rupee&quot;, is_active: true, is_base_currency: true})\r\n \r\n CREATE (Tesla:Item {code: &quot;TSLA&quot;, name: &quot;Tesla&quot;, is_active: true })\r\n CREATE (TeslaPrice:Price {buy: 400, sell: 399, timestamp: datetime()})\r\n \r\n CREATE (Tesla) -[:ITEM_PRICE]-&gt; (TeslaPrice)\r\n \r\n CREATE (TeslaPrice) -[:ITEM_CURRENCY]-&gt; (USD)\r\n \r\n CREATE (Adam:Trader {first_name: &quot;Adam&quot;, last_name: &quot;West&quot;, user_name: &quot;adam&quot;, password: &quot;12345&quot;})\r\n \r\n CREATE (Adam) -[:TRADER_COUNTRY]-&gt; (USA)\r\n CREATE (Adam) -[:TRADER_CURRENCY]-&gt; (USD)\r\n \r\n CREATE (AdamPortfolio:Portfolio)\r\n \r\n CREATE (AdamBuyTesla:Trade {qunatity: 10, unit_price: 400})\r\n CREATE (AdamBuyTeslaOffer:Offer {qunatity: 10, unit_price: 400, buy: true, sell: false, timestamp: datetime()})\r\n \r\n CREATE (AdamBuyTesla) -[:TRADE_OFFER]-&gt; (AdamBuyTeslaOffer)\r\n\r\nI am ignoring the report and seller. Want to get feedback from the Neo4j experts on the created model.",
      "link": "https://stackoverflow.com/questions/65271883/stock-portfolio-data-model-in-neo4j",
      "title": "Stock Portfolio data model in neo4j"
    },
    {
      "tags": ["python", "graph", "neo4j", "py2neo"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1306,
            "user_id": 7658051,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
            "display_name": "Tms91",
            "link": "https://stackoverflow.com/users/7658051/tms91"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607823743,
          "creation_date": 1607823743,
          "answer_id": 65271636,
          "question_id": 65271635,
          "share_link": "https://stackoverflow.com/a/65271636",
          "body_markdown": "These are the equivalent methods for py2neo V3\r\n\r\n - `merge_one` -&gt; `merge`\r\n\r\n - `create_unique` -&gt; in you example it is simply `merge`, because this\r\n is sufficient to ensure that \r\n \r\n &gt; only relationships that do not already exist are created.\r\n\r\n - `find_one` -&gt;\r\n \r\n this is more complex and has to be splitted into more operations, &lt;br&gt;\r\n you can do it with `NodeMatcher` function and `match` method. &lt;br&gt;\r\n I&#39;ll show it directly in the example below.\r\n\r\nHere are your examples changed to py2neo V3 commands:\r\n\r\ngraph.merge_one\r\n-------------------\r\n\r\n&gt; Match or create a node by label and optional property and return a\r\n&gt; single matching node. This method is intended to be used with a unique\r\n&gt; constraint and does not fail if more than one matching node is found. ([read the docs][3])\r\n\r\ne.g.\r\n \r\n from py2neo import Node, Graph\r\n nicole = Node(&quot;Person&quot;, name=&quot;Nicole&quot;, age=24) \r\n \r\n # adds the nicole element to the graph if it does not already exist a node labelled as &quot;Person&quot; having attribute &quot;name&quot; and &quot;Person&quot; and having their values equal to those of &quot;nicole&quot; element.\r\n graph.merge(nicole, &quot;Person&quot;, &quot;name&quot;) \r\n\r\n \r\ngraph.create_unique\r\n-----------------------\r\n\r\n&gt; Create one or more unique paths or relationships in a single\r\n&gt; transaction. This is similar to create() but uses a Cypher CREATE\r\n&gt; UNIQUE clause to ensure that only relationships that do not already\r\n&gt; exist are created. ([read the docs][4])\r\n\r\ne.g.\r\n\r\n from py2neo import Node, Relationship, Graph\r\n \r\n kenny = Node(&quot;Person&quot;, name=&quot;Kenny&quot;)\r\n graph.create(kenny)\r\n \r\n kingfish = Node(&quot;Bar&quot;, name=&quot;Kingfish&quot;)\r\n graph.create(kingfish)\r\n \r\n rel = Relationship(kenny, &quot;LIKES&quot;, kingfish)\r\n \r\n # creates the relationship (kenny)-[:LIKES]-&gt;(kingfish), but only if it does not exist yet.\r\n graph.merge(rel)\r\n\r\n\r\n\r\ngraph.find_one\r\n------------------\r\n\r\n&gt; Find a single node by label and optional property. This method is\r\n&gt; intended to be used with a unique constraint and does not fail if more\r\n&gt; than one matching node is found. ([read the docs][5])\r\n\r\n\r\ne.g.\r\n\r\n from py2neo import Graph\r\n \r\n # Find one node (and take only one if there are many) matching these conditions: its type is &quot;Person&quot; and it has an attribute &quot;name&quot; equal to &quot;Kenny&quot;, and then save it inside &quot;kenny&quot; variable.\r\n from py2neo import NodeMatcher\r\n matcher = NodeMatcher(graph)\r\n kenny = matcher.match(&#39;Person&#39;, name=&#39;Kenny&#39;).first()",
          "link": "https://stackoverflow.com/questions/65271635/which-are-the-equivalent-methods-of-py2neo-v2-merge-one-create-unique-find-one/65271636#65271636",
          "title": "Which are the equivalent methods of py2neo-v2 merge_one, create_unique, find_one for py2neo v3?"
        }
      ],
      "owner": {
        "reputation": 1306,
        "user_id": 7658051,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
        "display_name": "Tms91",
        "link": "https://stackoverflow.com/users/7658051/tms91"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 5,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607823743,
      "creation_date": 1607823743,
      "question_id": 65271635,
      "share_link": "https://stackoverflow.com/q/65271635",
      "body_markdown": "I recently switched my py2neo library from [version V2][1] to [version V3][2] and I don&#39;t know the new commands to perform certain opertions.\r\n\r\nIn particular I am stuck with:\r\n\r\ngraph.merge_one\r\n-------------------\r\n\r\n&gt; Match or create a node by label and optional property and return a\r\n&gt; single matching node. This method is intended to be used with a unique\r\n&gt; constraint and does not fail if more than one matching node is found. ([read the docs][3])\r\n\r\ne.g.\r\n \r\n from py2neo import Node, Graph\r\n nicole = Node(&quot;Person&quot;, name=&quot;Nicole&quot;, age=24) \r\n \r\n # adds the nicole element to the graph if it does not already exist a node labelled as &quot;Person&quot; having attribute &quot;name&quot; equal to &quot;Nicole&quot;.\r\n graph.merge_one(&quot;Person&quot;, &quot;name&quot;, &quot;Nicole&quot;) #&lt;-- What&#39;s the equivalent py2neo V3 command?\r\n\r\n \r\ngraph.create_unique\r\n-----------------------\r\n\r\n&gt; Create one or more unique paths or relationships in a single\r\n&gt; transaction. This is similar to create() but uses a Cypher CREATE\r\n&gt; UNIQUE clause to ensure that only relationships that do not already\r\n&gt; exist are created. ([read the docs][4])\r\n\r\ne.g.\r\n\r\n from py2neo import Node, Relationship, Graph\r\n \r\n kenny = Node(&quot;Person&quot;, name=&quot;Kenny&quot;)\r\n graph.create(kenny)\r\n \r\n kingfish = Node(&quot;Bar&quot;, name=&quot;Kingfish&quot;)\r\n graph.create(kingfish)\r\n \r\n rel = Relationship(kenny, &quot;LIKES&quot;, kingfish)\r\n \r\n # creates the relationship (kenny)-[:LIKES]-&gt;(kingfish), but only if it does not exist yet.\r\n graph.create_unique(rel) #&lt;-- What&#39;s the equivalent py2neo V3 command?\r\n\r\n\r\n\r\ngraph.find_one\r\n------------------\r\n\r\n&gt; Find a single node by label and optional property. This method is\r\n&gt; intended to be used with a unique constraint and does not fail if more\r\n&gt; than one matching node is found. ([read the docs][5])\r\n\r\n\r\ne.g.\r\n\r\n from py2neo import Graph\r\n \r\n # Find one node (and take only one if there are many) matching these conditions: its type is &quot;Person&quot; and it has an attribute &quot;name&quot; equal to &quot;Kenny&quot;, and then save it inside &quot;kenny&quot; variable.\r\n kenny = graph.find_one(&quot;Person&quot;, &quot;name&quot;, &quot;Kenny&quot;) #&lt;-- What&#39;s the equivalent py2neo V3 command?\r\n\r\nI found out that these methods are no longer available in py2neo V3, &lt;br&gt;\r\nso what&#39;s the equivalent of these methods for py2neo V3 ?\r\n\r\n [1]: https://py2neo.org/2.0/\r\n [2]: https://py2neo.org/v3/index.html\r\n [3]: https://py2neo.org/2.0/essentials.html?highlight=merge_one#py2neo.Graph.merge_one\r\n [4]: https://py2neo.org/2.0/essentials.html?highlight=create_unique#py2neo.Graph.create_unique\r\n [5]: https://py2neo.org/2.0/essentials.html?highlight=find_one#py2neo.Graph.find_one",
      "link": "https://stackoverflow.com/questions/65271635/which-are-the-equivalent-methods-of-py2neo-v2-merge-one-create-unique-find-one",
      "title": "Which are the equivalent methods of py2neo-v2 merge_one, create_unique, find_one for py2neo v3?"
    },
    {
      "tags": ["sql", "neo4j", "dataset", "cypher", "aggregate-functions"],
      "comments": [
        {
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607817235,
          "post_id": 65268516,
          "comment_id": 115392990,
          "link": "https://stackoverflow.com/questions/65268516/how-do-i-group-nodes-by-a-different-node-property-and-order-by-a-different-one-i#comment115392990_65268516"
        },
        {
          "owner": {
            "reputation": 3,
            "user_id": 14814438,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6dd472c60ce1b4fabb2323c1223ceaa3?s=128&d=identicon&r=PG&f=1",
            "display_name": "Divya Rustagi",
            "link": "https://stackoverflow.com/users/14814438/divya-rustagi"
          },
          "reply_to_user": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607871345,
          "post_id": 65268516,
          "comment_id": 115402721,
          "link": "https://stackoverflow.com/questions/65268516/how-do-i-group-nodes-by-a-different-node-property-and-order-by-a-different-one-i#comment115402721_65268516"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 3,
                "user_id": 14814438,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6dd472c60ce1b4fabb2323c1223ceaa3?s=128&d=identicon&r=PG&f=1",
                "display_name": "Divya Rustagi",
                "link": "https://stackoverflow.com/users/14814438/divya-rustagi"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607871927,
              "post_id": 65276118,
              "comment_id": 115402867,
              "link": "https://stackoverflow.com/questions/65268516/how-do-i-group-nodes-by-a-different-node-property-and-order-by-a-different-one-i/65276118#comment115402867_65276118"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 17897,
            "user_id": 232671,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://www.gravatar.com/avatar/9fafab68e922fdf068c5c36f823687fe?s=128&d=identicon&r=PG",
            "display_name": "Luanne",
            "link": "https://stackoverflow.com/users/232671/luanne"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1607865740,
          "creation_date": 1607865740,
          "answer_id": 65276118,
          "question_id": 65268516,
          "share_link": "https://stackoverflow.com/a/65276118",
          "body_markdown": "How about something like this:\r\n\r\n MATCH (c:Crime)\r\n WITH c.year AS year, c.offense_code_group AS code, count(c.offense_code_group) AS count\r\n ORDER BY year, count DESC\r\n WITH year, COLLECT(code) AS codes, COLLECT(count) AS counts\r\n RETURN year, codes[0], counts[0]",
          "link": "https://stackoverflow.com/questions/65268516/how-do-i-group-nodes-by-a-different-node-property-and-order-by-a-different-one-i/65276118#65276118",
          "title": "How do I group nodes by a different node property and order by a different one in Neo4j?"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 14814438,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/6dd472c60ce1b4fabb2323c1223ceaa3?s=128&d=identicon&r=PG&f=1",
        "display_name": "Divya Rustagi",
        "link": "https://stackoverflow.com/users/14814438/divya-rustagi"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 15,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65276118,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607865740,
      "creation_date": 1607798401,
      "question_id": 65268516,
      "share_link": "https://stackoverflow.com/q/65268516",
      "body_markdown": "I am working with [crimes in Boston][1] dataset, with each crime as nodes in Neo4j. I want to query and display the most committed crimes each year to get a result like this:\r\n\r\n\r\n|Year | offense_code_group | count(offense_code_group) |\r\n|:----|:-------------------------:|--------------------------:|\r\n|2015 | Aggravated Assault | 5827 |\r\n|2016 | Larceny From Motor Vehicle| 11534 |\r\n|2017 | Verbal Disputes | 12049 |\r\n|2018 | Investigate Person | 8724 |\r\n\r\n\r\n*Note: The result is just an example of how I want it to group and look, not the actual result I&#39;ll get after querying the dataset.*\r\n\r\nBut this is the best I have been able to do so far:\r\n[query and output in neo4j desktop][2]\r\n\r\nI know there is no GROUP BY clause in Neo4j and I have tried using collect(), but I can&#39;t get it to work. \r\n\r\n\r\n [1]: https://www.kaggle.com/ankkur13/boston-crime-data?select=crime.csv\r\n [2]: https://i.stack.imgur.com/MeqmS.png",
      "link": "https://stackoverflow.com/questions/65268516/how-do-i-group-nodes-by-a-different-node-property-and-order-by-a-different-one-i",
      "title": "How do I group nodes by a different node property and order by a different one in Neo4j?"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 383,
                "user_id": 7412939,
                "user_type": "registered",
                "profile_image": "https://lh4.googleusercontent.com/-uv2TVrsCd30/AAAAAAAAAAI/AAAAAAAALTM/lyg2bLk4sBA/photo.jpg?sz=128",
                "display_name": "Doug",
                "link": "https://stackoverflow.com/users/7412939/doug"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607846567,
              "post_id": 65266257,
              "comment_id": 115396921,
              "link": "https://stackoverflow.com/questions/65262945/neo4j-deleting-nodes-increased-store-file-size/65266257#comment115396921_65266257"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607784488,
          "creation_date": 1607784488,
          "answer_id": 65266257,
          "question_id": 65262945,
          "share_link": "https://stackoverflow.com/a/65266257",
          "body_markdown": "This is probably due to the transaction log files. Look at the *Logging configuration* section of the `neo4j.conf` file and limit the size of logs. Look at the [documentation][1] for more information.\r\n\r\n\r\n [1]: https://neo4j.com/docs/operations-manual/current/monitoring/logging/#transaction-logging",
          "link": "https://stackoverflow.com/questions/65262945/neo4j-deleting-nodes-increased-store-file-size/65266257#65266257",
          "title": "Neo4j: Deleting nodes increased store file size"
        }
      ],
      "owner": {
        "reputation": 383,
        "user_id": 7412939,
        "user_type": "registered",
        "profile_image": "https://lh4.googleusercontent.com/-uv2TVrsCd30/AAAAAAAAAAI/AAAAAAAALTM/lyg2bLk4sBA/photo.jpg?sz=128",
        "display_name": "Doug",
        "link": "https://stackoverflow.com/users/7412939/doug"
      },
      "last_editor": {
        "reputation": 38577,
        "user_id": 4001592,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1",
        "display_name": "Dani Mesejo",
        "link": "https://stackoverflow.com/users/4001592/dani-mesejo"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607784488,
      "creation_date": 1607761298,
      "last_edit_date": 1607765335,
      "question_id": 65262945,
      "share_link": "https://stackoverflow.com/q/65262945",
      "body_markdown": "Neo4j 3.5.12\r\n\r\nI ran a delete of 9.5M nodes. \r\n\r\nBefore the delete, the total size of all files in the `/var/lib/neo4j/data/databases/graph.db` folder was 9.1Gb.\r\n\r\nAfter the delete they are 16Gb (i.e. bigger).\r\n\r\nI understand [this article][1], but my aim is to reduce the memory that the database uses and according to [these calculations ][2] the `dbms.memory.pagecache.size` should be the sum of the sizes of the $NEO4J_HOME/data/graph.db/neostore.\\*.db files and adding e.g. 20% for growth. My neostore *.db files are now 6.4Gb (I didn&#39;t calculate them before the delete annoyingly, so I am unsure if this reduced).\r\n\r\nAm I correct in thinking that even though the total size of all files in `/var/lib/neo4j/data/databases/graph.db` has got bigger, the RAM required will have got smaller as the neostore *.db files within those will have got smaller?\r\n\r\nAlso, I note that the `dbms.tx_log.rotation.retention_policy` setting for my database is 1 day. I assume this means that after one day any `neostore.transaction.db` files created by the delete operations would be removed and the total size of all files in the `/var/lib/neo4j/data/databases/graph.db` would therefore go back down again. Is that correct?\r\n\r\n [1]: https://neo4j.com/developer/kb/understanding-database-growth/?_gl=1*1yalts*_ga*MTMwNjM1OTAxMC4xNTg5NTI5MTU4*_ga_DL38Q8KGQC*MTYwNzc1OTI2MC40My4xLjE2MDc3NjAyMTcuMA..&amp;_ga=2.148433204.2069798556.1607685753-1306359010.1589529158\r\n [2]: https://neo4j.com/developer/guide-performance-tuning/",
      "link": "https://stackoverflow.com/questions/65262945/neo4j-deleting-nodes-increased-store-file-size",
      "title": "Neo4j: Deleting nodes increased store file size"
    },
    {
      "tags": ["neo4j", "cypher", "graph-databases"],
      "owner": {
        "reputation": 1,
        "user_id": 14812050,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-EQDj54sUGmg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucktiQGfVtYqxN96_1x96sgiK3pzmg/s96-c/photo.jpg?sz=128",
        "display_name": "Muhammad umer",
        "link": "https://stackoverflow.com/users/14812050/muhammad-umer"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": -1,
      "last_activity_date": 1607759318,
      "creation_date": 1607759318,
      "question_id": 65262707,
      "share_link": "https://stackoverflow.com/q/65262707",
      "body_markdown": "I want to filter data between nodes as below:\r\n\r\n**with g,f\r\nmatch(g) where g.name&lt;&gt;f.name\r\nreturn distinct g.name**\r\n\r\nbut its still returning the names including f.name values also.\r\n\r\nI want only the nodes in g where f is not included",
      "link": "https://stackoverflow.com/questions/65262707/filtering-neo4j-data",
      "title": "Filtering neo4j data"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607784575,
          "creation_date": 1607784575,
          "answer_id": 65266276,
          "question_id": 65262319,
          "share_link": "https://stackoverflow.com/a/65266276",
          "body_markdown": "This can be achieved with a simple `WHERE` clause:\r\n\r\n MATCH (d:Document)\r\n WHERE NOT (d)-[:HAS_PARENT]-&gt;(:Document)\r\n RETURN d",
          "link": "https://stackoverflow.com/questions/65262319/neo4j-query-to-get-a-document-with-no-parent/65266276#65266276",
          "title": "Neo4j query to get a document with no parent"
        }
      ],
      "owner": {
        "reputation": 75,
        "user_id": 2626210,
        "user_type": "registered",
        "accept_rate": 0,
        "profile_image": "https://www.gravatar.com/avatar/51fc09551fa3d8fcf9404c3cad094270?s=128&d=identicon&r=PG",
        "display_name": "user2626210",
        "link": "https://stackoverflow.com/users/2626210/user2626210"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1607784575,
      "creation_date": 1607755549,
      "question_id": 65262319,
      "share_link": "https://stackoverflow.com/q/65262319",
      "body_markdown": "I have a relation in neo4j \r\n```\r\n(d:Document)-[r:HAS_PARENT]-&gt;(p:Document)\r\n```\r\nbut sometime my document have parents. \r\n\r\nI want to fetch documents who are not linked with other document by the HAS_PARENT relation ship \r\n\r\nHow can I do ? \r\n\r\n\r\nThanks in advance",
      "link": "https://stackoverflow.com/questions/65262319/neo4j-query-to-get-a-document-with-no-parent",
      "title": "Neo4j query to get a document with no parent"
    },
    {
      "tags": ["neo4j", "neo4j-aura"],
      "owner": {
        "reputation": 1,
        "user_id": 14811586,
        "user_type": "registered",
        "profile_image": "https://lh4.googleusercontent.com/-gjLLw9uyDXY/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnHPOudF9IT7Bc07VwYhNOM6rhNwA/s96-c/photo.jpg?sz=128",
        "display_name": "Gayatri Patil",
        "link": "https://stackoverflow.com/users/14811586/gayatri-patil"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607750448,
      "creation_date": 1607750448,
      "question_id": 65261893,
      "share_link": "https://stackoverflow.com/q/65261893",
      "body_markdown": "I am using Neo4j Aura for my company. The version currently we are using is 3.5. So we want to upgarde it to version 4. For that i found this link : https://aura.support.neo4j.com/hc/en-us/articles/360048499853-Upgrading-Your-Existing-Aura-3-5-Database-to-Aura-4 \r\n\r\nIn Neo4j Aura, automatic backups are taken in every 24 hours. In our case, as data is being uploaded on real time basis, we want to upgrade at a specific time when the data traffic is low. For that, I want to know that whether there is an option to take manual backup in Neo4j other than the automatic backups. If yes, please let me know how.\r\n\r\nThanks in advance.",
      "link": "https://stackoverflow.com/questions/65261893/neo4j-aura-backup",
      "title": "Neo4j Aura backup"
    },
    {
      "tags": ["neo4j", "graph-databases", "circuit-diagram"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 11,
            "user_id": 7365769,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ed8a9c70ebf645311df9c8f8c643f6c9?s=128&d=identicon&r=PG&f=1",
            "display_name": "James Fleming",
            "link": "https://stackoverflow.com/users/7365769/james-fleming"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607855145,
          "creation_date": 1607855145,
          "answer_id": 65274531,
          "question_id": 65261204,
          "share_link": "https://stackoverflow.com/a/65274531",
          "body_markdown": "Definitely possible.\r\n\r\nI&#39;ve been working on this problem with Neo4j, and [Restagraph](https://github.com/equill/restagraph) is the result. It provides a REST API that enforces a schema on any updates to the database, and I&#39;ve packaged it as a Docker image.\r\n\r\nI haven&#39;t really promoted it so far, because it&#39;s only recently been mature enough for my own use, and I _really_ need to improve the documentation. If you try it out, though, I&#39;d love to hear any feedback you have.",
          "link": "https://stackoverflow.com/questions/65261204/graph-databases-for-modeling-very-specific-domain/65274531#65274531",
          "title": "Graph databases for modeling very specific domain"
        }
      ],
      "owner": {
        "reputation": 91547,
        "user_id": 651174,
        "user_type": "registered",
        "accept_rate": 92,
        "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG",
        "display_name": "David542",
        "link": "https://stackoverflow.com/users/651174/david542"
      },
      "last_editor": {
        "reputation": 91547,
        "user_id": 651174,
        "user_type": "registered",
        "accept_rate": 92,
        "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG",
        "display_name": "David542",
        "link": "https://stackoverflow.com/users/651174/david542"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1607855145,
      "creation_date": 1607742281,
      "last_edit_date": 1607742600,
      "question_id": 65261204,
      "share_link": "https://stackoverflow.com/q/65261204",
      "body_markdown": "With a normal &#39;graph database&#39; the data is broken up into nodes and edges, and there isn&#39;t much of a restriction/schema between the connections. With this, it seems great for modeling straightforward graphs where the relationships are relatively consistent -- Movies with cast and crew; Computer networks with IPs and devices; Social networks with users and connections; etc.\r\n\r\nAre there any graph-like databases that can be more specialized? For example to be able to model something like an electrical circuit where each component has a sort of &#39;schema&#39; or well defined input and output -- i.e., a Resistor has two connections and has various properties:\r\n\r\n[![enter image description here][1]][1]a Transistor takes has three connections and has various properties, etc. \r\n\r\nI&#39;m not asking about particular circuit simulators, such as https://www.falstad.com/circuit/circuitjs.html, but more about whether it&#39;s possible in any graph (or pseudo-graph) databases to model and enforce very specific, well-defined relationships in a network, such as circuit design.\r\n\r\n\r\n [1]: https://i.stack.imgur.com/qqBeR.png",
      "link": "https://stackoverflow.com/questions/65261204/graph-databases-for-modeling-very-specific-domain",
      "title": "Graph databases for modeling very specific domain"
    },
    {
      "tags": ["javascript", "neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 211,
                "user_id": 2167741,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/edb162a96cd10ea3e2185fa6976a322c?s=128&d=identicon&r=PG",
                "display_name": "user2167741",
                "link": "https://stackoverflow.com/users/2167741/user2167741"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607785630,
              "post_id": 65266301,
              "comment_id": 115384654,
              "link": "https://stackoverflow.com/questions/65259010/read-only-access-to-neovis-js/65266301#comment115384654_65266301"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607784721,
          "creation_date": 1607784721,
          "answer_id": 65266301,
          "question_id": 65259010,
          "share_link": "https://stackoverflow.com/a/65266301",
          "body_markdown": "Either don&#39;t allow any queries with the `CREATE`, `MERGE`, `SET` in your application to be executed or if you have an enterprise version create a read-only user.",
          "link": "https://stackoverflow.com/questions/65259010/read-only-access-to-neovis-js/65266301#65266301",
          "title": "Read only access to Neovis.js"
        }
      ],
      "owner": {
        "reputation": 211,
        "user_id": 2167741,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/edb162a96cd10ea3e2185fa6976a322c?s=128&d=identicon&r=PG",
        "display_name": "user2167741",
        "link": "https://stackoverflow.com/users/2167741/user2167741"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65266301,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607784721,
      "creation_date": 1607722961,
      "question_id": 65259010,
      "share_link": "https://stackoverflow.com/q/65259010",
      "body_markdown": "I am a rookie both in Neo4j and javascript. \r\n\r\nI found out that the javascript Neovis.js can be used with a Neo4j database to render a visualization for queries. This is an excellent tool to develop and embed web applications using Neo4j. However, I soon realized that this has the potential to screw up the entire database since those queries can both read and write the database.\r\n\r\nHow do we avoid writing into the database when using Neovis.js? ",
      "link": "https://stackoverflow.com/questions/65259010/read-only-access-to-neovis-js",
      "title": "Read only access to Neovis.js"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 13776216,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gjp_ksJuTAojOQ_9sSKQLd4zuFyb1XmWa5ZEx6m=k-s128",
        "display_name": "nouamane floyd",
        "link": "https://stackoverflow.com/users/13776216/nouamane-floyd"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607715348,
      "creation_date": 1607715348,
      "question_id": 65257553,
      "share_link": "https://stackoverflow.com/q/65257553",
      "body_markdown": "I m having a network of nodes N with value V between each 2 nodes. \r\nis there please a way to fromulate a calculation in Cypher where I am looking to find out the best path between 2 nodes based on the condition below: \r\n- The path choice between a node and direct candidates C1,C2.. will be the based on the highest value of V1,V2..\r\n- This rule should apply from the start node S till the end node E.\r\n- I enclosed here an example with with few nodes just as an illustrations \r\n\r\n[enter image description here][1]\r\nthank you for your help\r\n\r\n\r\n [1]: https://i.stack.imgur.com/MDOVV.png",
      "link": "https://stackoverflow.com/questions/65257553/best-path-between-2-nodes-based-on-conditions",
      "title": "best path between 2 nodes based on conditions"
    },
    {
      "tags": ["neo4j", "wikidata", "knowledge-graph", "wikibase"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 11,
            "user_id": 7365769,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ed8a9c70ebf645311df9c8f8c643f6c9?s=128&d=identicon&r=PG&f=1",
            "display_name": "James Fleming",
            "link": "https://stackoverflow.com/users/7365769/james-fleming"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607854786,
          "creation_date": 1607854786,
          "answer_id": 65274476,
          "question_id": 65257130,
          "share_link": "https://stackoverflow.com/a/65274476",
          "body_markdown": "If you haven&#39;t found an existing tool, you may have to write it yourself.\r\n\r\nI just looked at the Wikibase home page; it&#39;s based on MediaWiki and has a SPARQL interface, so at first glance this is a very solvable problem.\r\n\r\nSince Neo4j doesn&#39;t have a schema as such, there&#39;s at least one problem you won&#39;t have to solve :)",
          "link": "https://stackoverflow.com/questions/65257130/synchronizing-wikibase-and-neo4j/65274476#65274476",
          "title": "synchronizing wikibase and neo4j"
        }
      ],
      "owner": {
        "reputation": 31,
        "user_id": 1301189,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7f974b94adf21719695f3981d38fada1?s=128&d=identicon&r=PG",
        "display_name": "Reza",
        "link": "https://stackoverflow.com/users/1301189/reza"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": -1,
      "last_activity_date": 1607854786,
      "creation_date": 1607713256,
      "question_id": 65257130,
      "share_link": "https://stackoverflow.com/q/65257130",
      "body_markdown": "recently I want to use wikibase as my knowledgebase and neo4j as knowledge graph, which gives me the ability to inferring on my knowledgebase. so I need to synchronizing wikibase and neo4j data and schema. How can I reach this goal ? is there any reliable way to do this?\r\n\r\nthanks\r\n",
      "link": "https://stackoverflow.com/questions/65257130/synchronizing-wikibase-and-neo4j",
      "title": "synchronizing wikibase and neo4j"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 3,
                "user_id": 14808176,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/2192905370720714/picture?type=large",
                "display_name": "HappyCamper",
                "link": "https://stackoverflow.com/users/14808176/happycamper"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607713101,
              "post_id": 65256590,
              "comment_id": 115368432,
              "link": "https://stackoverflow.com/questions/65254226/neo4js-online-exercisesmovie-database-finding-friends-and-paths-question/65256590#comment115368432_65256590"
            },
            {
              "owner": {
                "reputation": 3,
                "user_id": 14808176,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/2192905370720714/picture?type=large",
                "display_name": "HappyCamper",
                "link": "https://stackoverflow.com/users/14808176/happycamper"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607713110,
              "post_id": 65256590,
              "comment_id": 115368436,
              "link": "https://stackoverflow.com/questions/65254226/neo4js-online-exercisesmovie-database-finding-friends-and-paths-question/65256590#comment115368436_65256590"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1607710612,
          "creation_date": 1607710612,
          "answer_id": 65256590,
          "question_id": 65254226,
          "share_link": "https://stackoverflow.com/a/65256590",
          "body_markdown": "You&#39;re close!\r\nFirst, you can indeed fetch the co-actors of Tom Hanks:\r\n\r\n (tom:Person {name: &quot;Tom Hanks&quot;})-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(coActor:Person)\r\n\r\nThen, you want to find the co-actors of Tom Hanks co-actors:\r\n\r\n (coCoActor:Person)-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(coActor)\r\n\r\nBut you want to make sure that these &quot;co-co-actors&quot; never played in any movie with Tom Hanks:\r\n\r\n WHERE NOT (coCoActor)-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(tom)\r\n\r\nThe whole query becomes then:\r\n\r\n MATCH (tom:Person {name: &quot;Tom Hanks&quot;})-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(coActor:Person),\r\n (coCoActor:Person)-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(coActor)\r\n WHERE NOT (coCoActor)-[:ACTED_IN]-&gt;(:Movie)&lt;-[:ACTED_IN]-(tom)\r\n RETURN coCoActor.name AS `co-co-actor`\r\n\r\nFor instance, Jack Nicholson seems to be a co-co-actor of Tom Hanks. \r\nLet&#39;s check:\r\n\r\n MATCH (tom:Person {name: &quot;Tom Hanks&quot;}), (jack:Person {name: &quot;Jack Nicholson&quot;})\r\n RETURN shortestPath((tom)-[*]-(jack))\r\n\r\n[![shortest path between Tom Hanks and Jack Nicholson][1]][1]\r\n\r\nIt seems to be the case, hurray!\r\n\r\n\r\n [1]: https://i.stack.imgur.com/Kox1L.png",
          "link": "https://stackoverflow.com/questions/65254226/neo4js-online-exercisesmovie-database-finding-friends-and-paths-question/65256590#65256590",
          "title": "Neo4j&#39;s online exercises:Movie Database - Finding &#39;friends&#39; and &#39;paths&#39; question"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 14808176,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/2192905370720714/picture?type=large",
        "display_name": "HappyCamper",
        "link": "https://stackoverflow.com/users/14808176/happycamper"
      },
      "last_editor": {
        "reputation": 3,
        "user_id": 14808176,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/2192905370720714/picture?type=large",
        "display_name": "HappyCamper",
        "link": "https://stackoverflow.com/users/14808176/happycamper"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65256590,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607710612,
      "creation_date": 1607700879,
      "last_edit_date": 1607703323,
      "question_id": 65254226,
      "share_link": "https://stackoverflow.com/q/65254226",
      "body_markdown": "so I&#39;m following this guide/exercise on neo4j about a movie database, where I&#39;m also using the same data from there([link here][1]).\r\nNow my problem is trying to find the co-co actors of a particular person. eg Tom Hanks.\r\nco co actors are all the actors who have acted in a movie with a co-actor of Tom Hanks, but have not acted in a movie with Hanks\r\nNow looking at the solutions for exercise 5.4 from the link, my code should look something like this right?\r\nI run the code, but there&#39;s no output/records\r\n\r\n MATCH (a:Actor)-[:ACTED_IN*2]-&gt;(a2:Actor) \r\n WHERE a.name = &quot;Tom Hanks&quot;\r\n AND NOT((a)-[:ACTED_IN]-(a2))\r\n RETURN a2.name AS `co-co-actors`\r\n\r\n\r\nor maybe like this? \r\n\r\n MATCH (a:Actor)-[:ACTED_IN]-&gt;(m:Movie)&lt;-[:ACTED_IN]-(a2:Actor), \r\n \t(a2:Actor)-[:ACTED_IN]-&gt;(m:Movie)&lt;-[:ACTED_IN]-(a3:Actor)\r\n WHERE a.name = &#39;Tom Hanks&#39;\r\n RETURN a3.name AS `co-co-actors`\r\n\r\n [1]: http://guides.neo4j.com/intro-neo4j-exercises/05.html",
      "link": "https://stackoverflow.com/questions/65254226/neo4js-online-exercisesmovie-database-finding-friends-and-paths-question",
      "title": "Neo4j&#39;s online exercises:Movie Database - Finding &#39;friends&#39; and &#39;paths&#39; question"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607704705,
          "post_id": 65246908,
          "comment_id": 115364830,
          "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result#comment115364830_65246908"
        },
        {
          "owner": {
            "reputation": 57,
            "user_id": 11150376,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/7ef72b9b641850ade376e8dd4fcf9341?s=128&d=identicon&r=PG&f=1",
            "display_name": "Jennifer L",
            "link": "https://stackoverflow.com/users/11150376/jennifer-l"
          },
          "reply_to_user": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607705843,
          "post_id": 65246908,
          "comment_id": 115365364,
          "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result#comment115365364_65246908"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 57,
                "user_id": 11150376,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7ef72b9b641850ade376e8dd4fcf9341?s=128&d=identicon&r=PG&f=1",
                "display_name": "Jennifer L",
                "link": "https://stackoverflow.com/users/11150376/jennifer-l"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607708118,
              "post_id": 65255203,
              "comment_id": 115366376,
              "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result/65255203#comment115366376_65255203"
            },
            {
              "owner": {
                "reputation": 540,
                "user_id": 1379830,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
                "display_name": "Adrian Keister",
                "link": "https://stackoverflow.com/users/1379830/adrian-keister"
              },
              "reply_to_user": {
                "reputation": 57,
                "user_id": 11150376,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7ef72b9b641850ade376e8dd4fcf9341?s=128&d=identicon&r=PG&f=1",
                "display_name": "Jennifer L",
                "link": "https://stackoverflow.com/users/11150376/jennifer-l"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607713153,
              "post_id": 65255203,
              "comment_id": 115368448,
              "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result/65255203#comment115368448_65255203"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "last_editor": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607713131,
          "last_edit_date": 1607713131,
          "creation_date": 1607704658,
          "answer_id": 65255203,
          "question_id": 65246908,
          "share_link": "https://stackoverflow.com/a/65255203",
          "body_markdown": "`MATCH` clauses are more flexible than that. Try this:\r\n```\r\nMATCH (n:Person)-[:Know]-&gt;(m:Person)&lt;-[:Know]-(p:Person)-[:Know]-&gt;(n)\r\nWHERE NOT EXISTS (()-[:Know]-&gt;(p))\r\n AND NOT EXISTS {\r\n WITH m, n, p\r\n MATCH (q:Person)-[:Know]-&gt;(m)\r\n WHERE q &lt;&gt; n \r\n AND q &lt;&gt; p\r\n }\r\n AND NOT EXISTS {\r\n WITH m, n, p\r\n MATCH (q:Person)-[:Know]-&gt;(n)\r\n WHERE q &lt;&gt; p\r\n }\r\nRETURN m, n, p\r\n```\r\nYou might have to use a unique ID property, and I&#39;m not sure if the `WITH` clause will work here as I&#39;ve gotten it; but with subqueries, you are generally able to import variables from above using `WITH`. ",
          "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result/65255203#65255203",
          "title": "Separating matching nodes in a query result"
        }
      ],
      "owner": {
        "reputation": 57,
        "user_id": 11150376,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7ef72b9b641850ade376e8dd4fcf9341?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jennifer L",
        "link": "https://stackoverflow.com/users/11150376/jennifer-l"
      },
      "last_editor": {
        "reputation": 57,
        "user_id": 11150376,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7ef72b9b641850ade376e8dd4fcf9341?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jennifer L",
        "link": "https://stackoverflow.com/users/11150376/jennifer-l"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607713131,
      "creation_date": 1607669308,
      "last_edit_date": 1607669691,
      "question_id": 65246908,
      "share_link": "https://stackoverflow.com/q/65246908",
      "body_markdown": "I defined the directed relation ``Know`` on person nodes. For example, if Sara knows Alice then Sara-&gt; Alice. I wrote this Cypher query to find all the people who know both the right and left side of the directed relation. \r\n \r\n match ((n:Person)-[:Know]-&gt; (m:Person)),(p:Person)\r\n where EXISTS ((m)&lt;-[:Know]-(p)-[:Know]-&gt;(n))\r\n RETURN m,n,p\r\n\r\nI need to get subgraphs with 3 nodes in the query&#39;s result but the result I get is a graph with many nodes. Is there any method to change the query to generate subgraphs with just 3 nodes (for example, a subgraph of Alex-&gt; Sara, Alex-&gt; Alice, Sara-&gt; Alice and if Sara has the same condition on two other people it is shown in another subgraph). This requires repeating some nodes in the output.",
      "link": "https://stackoverflow.com/questions/65246908/separating-matching-nodes-in-a-query-result",
      "title": "Separating matching nodes in a query result"
    },
    {
      "tags": ["django-models", "neo4j", "graph-databases", "neo4j-ogm", "neomodel"],
      "comments": [
        {
          "owner": {
            "reputation": 73,
            "user_id": 11805175,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/pf3Bo.png?s=128&g=1",
            "display_name": "gitkp",
            "link": "https://stackoverflow.com/users/11805175/gitkp"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607664891,
          "post_id": 65246248,
          "comment_id": 115348962,
          "link": "https://stackoverflow.com/questions/65246248/cyphersyntaxerrorthe-old-parameter-syntax-param-is-no-longer-supported-ple#comment115348962_65246248"
        },
        {
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607709694,
          "post_id": 65246248,
          "comment_id": 115367023,
          "link": "https://stackoverflow.com/questions/65246248/cyphersyntaxerrorthe-old-parameter-syntax-param-is-no-longer-supported-ple#comment115367023_65246248"
        },
        {
          "owner": {
            "reputation": 73,
            "user_id": 11805175,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/pf3Bo.png?s=128&g=1",
            "display_name": "gitkp",
            "link": "https://stackoverflow.com/users/11805175/gitkp"
          },
          "reply_to_user": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607712255,
          "post_id": 65246248,
          "comment_id": 115368118,
          "link": "https://stackoverflow.com/questions/65246248/cyphersyntaxerrorthe-old-parameter-syntax-param-is-no-longer-supported-ple#comment115368118_65246248"
        }
      ],
      "owner": {
        "reputation": 73,
        "user_id": 11805175,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/pf3Bo.png?s=128&g=1",
        "display_name": "gitkp",
        "link": "https://stackoverflow.com/users/11805175/gitkp"
      },
      "last_editor": {
        "reputation": 73,
        "user_id": 11805175,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/pf3Bo.png?s=128&g=1",
        "display_name": "gitkp",
        "link": "https://stackoverflow.com/users/11805175/gitkp"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 0,
      "score": 1,
      "last_activity_date": 1607712458,
      "creation_date": 1607664747,
      "last_edit_date": 1607712458,
      "question_id": 65246248,
      "share_link": "https://stackoverflow.com/q/65246248",
      "body_markdown": "This issue is resolved in *neo4j v4.1* update. But my question is related to **neomodel v4.0.1**. How do we resolve this issue in neomodel v4.0.1.\r\n\r\nMy queries:\r\nI have **models.py** as\r\n\r\n```\r\nfrom neomodel import StructuredNode, StringProperty, UniqueIdProperty()\r\n\r\nclass Person(StructuredNode):\r\n person_id = UniqueIdProperty()\r\n person_name = StringProperty()\r\n```\r\n\r\n\r\nwhen i execute \r\n&gt;`python manage.py install_labels` \r\nit works fine with no errors\r\n\r\n```\r\n$ python manage.py install_labels\r\nSetting up indexes and constraints...\r\n\r\nFound django_neomodel.DjangoNode\r\n ! Skipping class django_neomodel.DjangoNode is abstract\r\nFound neo4japp.models.Person\r\n + Creating unique constraint for person_id on label Person for class neo4japp.models.Person\r\n\r\nFinished 2 classes.\r\n```\r\nBut when I create its object like\r\n&gt;`modiji = Person(person_id=&#39;1&#39;, person_name=&#39;modiji&#39;).save()`\r\n\r\nit gives me this error\r\n```\r\nCypherSyntaxError: The old parameter syntax `{param}` is no longer supported. Please use `$param` instead (line 1, column 18 (offset: 17)) &quot;CREATE (n:Person {create_params}) RETURN n&quot;\r\n```\r\n\r\n**As in OGM we cant manipulate cypher queries how do i make it work. Please help.**\r\nI want to make **use of OGM and dont want to hard code cypher queries to make my code effectively using django framework &amp; neomodel**\r\n\r\n**If not then what is the alternative to neomodel to use OGM queries like the one in ORM so as to ease the database quering stuff?**",
      "link": "https://stackoverflow.com/questions/65246248/cyphersyntaxerrorthe-old-parameter-syntax-param-is-no-longer-supported-ple",
      "title": "CypherSyntaxError:The old parameter syntax `{param}` is no longer supported. Please use `$param` instead. in noemodel v4.0.1 not in neo4j v4.1"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 23,
        "user_id": 6150878,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/870ee19a379af8f18565abb23b4c2ccd?s=128&d=identicon&r=PG&f=1",
        "display_name": "S.Carven",
        "link": "https://stackoverflow.com/users/6150878/s-carven"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607652461,
      "creation_date": 1607652461,
      "question_id": 65244841,
      "share_link": "https://stackoverflow.com/q/65244841",
      "body_markdown": "On my Windows computer, I install and start Neo4j correctly. But after three hours or four, a worker named `Commons Daemon Service Runner` will use nearly all the CPU and make other programs slowly. \r\n\r\nI am pretty sure that worker is started and used by Neo4j. Anyone else met the same question? How to limit its CPU usage?",
      "link": "https://stackoverflow.com/questions/65244841/why-commons-daemon-service-runner-uses-so-much-cpu-when-started-neo4j-service",
      "title": "Why `Commons Daemon Service Runner` uses so much CPU when started Neo4j service on Windows for a couple of hours?"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607677552,
              "post_id": 65242752,
              "comment_id": 115352740,
              "link": "https://stackoverflow.com/questions/65241258/how-to-loop-throught-a-list-property-in-each-node-and-see-if-it-appears-in-other/65242752#comment115352740_65242752"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607636638,
          "creation_date": 1607636638,
          "answer_id": 65242752,
          "question_id": 65241258,
          "share_link": "https://stackoverflow.com/a/65242752",
          "body_markdown": "You can get all articles topics then for each topic, find the corresponding topic node. Create a relationship CONNECTED_TO (or create your own name).\r\n\r\n\r\n MATCH (a:ARTICLE)\r\n UNWIND a.topics as articleTopic\r\n MATCH (t:TOPICS {topic: articleTopic})\r\n MERGE p=(a)-[:CONNECTED_TO]-&gt;(t)\r\n RETURN p\r\n\r\nSample result:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/81sD5.png",
          "link": "https://stackoverflow.com/questions/65241258/how-to-loop-throught-a-list-property-in-each-node-and-see-if-it-appears-in-other/65242752#65242752",
          "title": "How to loop throught a list property in each node and see if it appears in other node property?"
        }
      ],
      "owner": {
        "reputation": 23,
        "user_id": 14728691,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
        "display_name": "civodul",
        "link": "https://stackoverflow.com/users/14728691/civodul"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65242752,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607636638,
      "creation_date": 1607629368,
      "question_id": 65241258,
      "share_link": "https://stackoverflow.com/q/65241258",
      "body_markdown": "I have data in Neo4j looking like this: (ARTICLE) and (TOPIC) nodes.\r\n\r\nIn each ARTICLE nodes I have a property that contains a list of strings like this, the property is topics:\r\n\r\n&quot;topics&quot;: [&quot;sun&quot;, &quot;sky&quot;]\r\n\r\nI have a lot of topics nodes and I would like to create a relation between ARTICLE nodes and TOPICS nodes every time the string correponding to the name of a TOPIC node.\r\n\r\nFor example if I have a TOPIC node with the property topic and the value sun, I would like to create a relationship between article containing the string sun (in the topics list property of ARTICLE nodes) and TOPIC nodes.\r\n\r\nHow can I do this ? I thought about looping in every list of nodes and see if it is in topic nodes.",
      "link": "https://stackoverflow.com/questions/65241258/how-to-loop-throught-a-list-property-in-each-node-and-see-if-it-appears-in-other",
      "title": "How to loop throught a list property in each node and see if it appears in other node property?"
    },
    {
      "tags": ["javascript", "neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 1124,
            "user_id": 1139696,
            "user_type": "registered",
            "accept_rate": 92,
            "profile_image": "https://www.gravatar.com/avatar/7a3c74e28453128dd49f8b16751042b0?s=128&d=identicon&r=PG",
            "display_name": "pabrams",
            "link": "https://stackoverflow.com/users/1139696/pabrams"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607638808,
          "post_id": 65238445,
          "comment_id": 115343614,
          "link": "https://stackoverflow.com/questions/65238445/why-do-i-not-have-a-global-neo4j-object-although-i-integrated-the-javascript-dri#comment115343614_65238445"
        },
        {
          "owner": {
            "reputation": 1124,
            "user_id": 1139696,
            "user_type": "registered",
            "accept_rate": 92,
            "profile_image": "https://www.gravatar.com/avatar/7a3c74e28453128dd49f8b16751042b0?s=128&d=identicon&r=PG",
            "display_name": "pabrams",
            "link": "https://stackoverflow.com/users/1139696/pabrams"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607638923,
          "post_id": 65238445,
          "comment_id": 115343656,
          "link": "https://stackoverflow.com/questions/65238445/why-do-i-not-have-a-global-neo4j-object-although-i-integrated-the-javascript-dri#comment115343656_65238445"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 14802449,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/d8e243797106a70cccff1deb712477c3?s=128&d=identicon&r=PG&f=1",
        "display_name": "sammy_3108",
        "link": "https://stackoverflow.com/users/14802449/sammy-3108"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 5,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607617584,
      "creation_date": 1607617584,
      "question_id": 65238445,
      "share_link": "https://stackoverflow.com/q/65238445",
      "body_markdown": "I have a problem when trying to ask my neo4j databse with the Javascript-driver. I researched a lot, but didn&#39;t found any solution.\r\n\r\nWhen running my code, I get that error: Uncaught TypeError: Cannot read property &#39;basic&#39; of undefined. But why is there no neo4j object? I followed the doc on https://github.com/neo4j/neo4j-javascript-driver and I don&#39;t know what i did wrong.\r\n\r\n```&lt;script src=&quot;https://cdn.jsdelivr.net/npm/neo4j-driver@1.5.3/lib/browser/neo4j-web.min.js&quot;&gt;&lt;/script&gt;```\r\n\r\n &lt;script&gt;\r\n // Create a driver instance, for the user neo4j with password neo4j.\r\n // It should be enough to have a single driver per database per application.\r\n \r\n let driver = neo4j.driver(&#39;bolt://localhost&#39;, neo4j.auth.basic(&#39;neo4j&#39;, &#39;password&#39;))\r\n\r\n // Create a session to run Cypher statements in.\r\n // Note: Always make sure to close sessions when you are done using them!\r\n let session = driver.session();\r\n\r\n // the Promise way, where the complete result is collected before we act on it:\r\n session\r\n .run(&#39;MERGE (t:Topics {name : {nameParam} }) RETURN t.name AS name LIMIT 20&#39;, {\r\n nameParam: &#39;Magic&#39;\r\n })\r\n .then(function (result) {\r\n result.records.forEach(function (record) {\r\n console.log(record.get(&#39;name&#39;));\r\n });\r\n session.close();\r\n })\r\n .catch(function (error) {\r\n console.log(error);\r\n });\r\n\r\n // Close the driver when application exits.\r\n // This closes all used network connections.\r\n driver.close();\r\n &lt;/script&gt;```\r\n",
      "link": "https://stackoverflow.com/questions/65238445/why-do-i-not-have-a-global-neo4j-object-although-i-integrated-the-javascript-dri",
      "title": "Why do I not have a global neo4j object although I integrated the javascript-driver?"
    },
    {
      "tags": ["if-statement", "foreach", "neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1607618984,
          "creation_date": 1607618984,
          "answer_id": 65238811,
          "question_id": 65235897,
          "share_link": "https://stackoverflow.com/a/65238811",
          "body_markdown": "You don&#39;t need to do any FOREACH, you can just create them : \r\n\r\n```\r\nMATCH p=((n:Node)-[:STARTS]-(r:Road)-[:ENDS]-(z:Node))\r\nCREATE (:Node {name : n.name, subID : ID(n)})\r\nCREATE (:Road {name : r.name, subID : ID(r)})\r\n```",
          "link": "https://stackoverflow.com/questions/65235897/if-else-statement-in-foreach-query-in-neo4j/65238811#65238811",
          "title": "If/else statement in foreach query in neo4j"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 9284774,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/10208987597407030/picture?type=large",
        "display_name": "Igor Betkier",
        "link": "https://stackoverflow.com/users/9284774/igor-betkier"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 15,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65238811,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607618984,
      "creation_date": 1607608447,
      "question_id": 65235897,
      "share_link": "https://stackoverflow.com/q/65235897",
      "body_markdown": "I would like to duplicate every node in my graph by using foreach loop. I try to use if/else statement to create specific kind of node - (:Node) if n:Node has &#39;Node&#39; label and (:Road) if r:Road has &#39;Road label. How to fix this query?\r\n\r\n```\r\nMATCH p=((n:Node)-[:STARTS]-(r:Road)-[:ENDS]-(z:Node))\r\nFOREACH (x in nodes(p) | \r\nWITH CASE head(labels(x)) \r\nWHEN &#39;Node&#39; \r\nTHEN\r\nCREATE (:Node {name : x.name, subID : ID(x)})\r\nELSE \r\nCREATE (:Road {name : x.name, subID : ID(x)}))\r\n```",
      "link": "https://stackoverflow.com/questions/65235897/if-else-statement-in-foreach-query-in-neo4j",
      "title": "If/else statement in foreach query in neo4j"
    },
    {
      "tags": ["neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607614068,
          "post_id": 65233864,
          "comment_id": 115333138,
          "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables#comment115333138_65233864"
        },
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607615378,
          "post_id": 65233864,
          "comment_id": 115333857,
          "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables#comment115333857_65233864"
        },
        {
          "owner": {
            "reputation": 872,
            "user_id": 1760615,
            "user_type": "registered",
            "accept_rate": 51,
            "profile_image": "https://www.gravatar.com/avatar/1f4024259ceab3bfa03ae7570c5ea17c?s=128&d=identicon&r=PG",
            "display_name": "Lucidnonsense",
            "link": "https://stackoverflow.com/users/1760615/lucidnonsense"
          },
          "reply_to_user": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607617662,
          "post_id": 65233864,
          "comment_id": 115335095,
          "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables#comment115335095_65233864"
        },
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607621384,
          "post_id": 65233864,
          "comment_id": 115336602,
          "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables#comment115336602_65233864"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607621524,
          "creation_date": 1607621524,
          "answer_id": 65239435,
          "question_id": 65233864,
          "share_link": "https://stackoverflow.com/a/65239435",
          "body_markdown": "Try this:\r\n\r\n```\r\n// using three extant nodes, merge a child node\r\n// THe child should only be created if the whole pattern doesnt exist\r\n\r\nMERGE (parent1:Parent1 {parent1id: 0})\r\nMERGE (parent2:Parent2 {parent2id: 0})\r\nMERGE (parent3:Parent3 {parent3id: 0})\r\n\r\nMATCH (parent1:Parent1 {parent1id: 0})\r\nMATCH (parent2:Parent2 {parent2id: 0})\r\nMATCH (parent3:Parent3 {parent3id: 0})\r\nCALL {\r\n WITH parent1, parent2, parent3\r\n WHERE NOT EXISTS{MATCH (parent2)--&gt;(matched: Child {childi: 0})&lt;--(parent1), (parent3)--&gt;(matched)}\r\n RETURN 1 as result\r\n}\r\nRETURN *\r\n```\r\nI think the issue is that a `MERGE` command is a sort of &quot;finishing&quot; clause, and variables go out-of-scope after it.",
          "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables/65239435#65239435",
          "title": "Neo4j &quot;variable not defined&quot; error in a subquery - cannot see outer variables"
        }
      ],
      "owner": {
        "reputation": 872,
        "user_id": 1760615,
        "user_type": "registered",
        "accept_rate": 51,
        "profile_image": "https://www.gravatar.com/avatar/1f4024259ceab3bfa03ae7570c5ea17c?s=128&d=identicon&r=PG",
        "display_name": "Lucidnonsense",
        "link": "https://stackoverflow.com/users/1760615/lucidnonsense"
      },
      "comment_count": 4,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607621524,
      "creation_date": 1607600655,
      "question_id": 65233864,
      "share_link": "https://stackoverflow.com/q/65233864",
      "body_markdown": "The Neo4j subquery appears to not recieve the outer variables `parent1, parent2, parent3`. \r\n\r\nInstead it throws an error: \r\n\r\n Variable `parent1` not defined (line 10, column 8 (offset: 282))\r\n &quot; WITH parent1, parent2, parent3&quot;\r\n\r\n`parent1` is very clearly defined above. This error only occurs if I use the `EXISTS` clause.\r\n\r\nMy minimal breaking script is below:\r\n\r\n // using three extant nodes, merge a child node\r\n // THe child should only be created if the whole pattern doesnt exist\r\n \r\n MERGE (parent1:Parent1 {parent1id: 0})\r\n MERGE (parent2:Parent2 {parent2id: 0})\r\n MERGE (parent3:Parent3 {parent3id: 0})\r\n \r\n WITH parent1, parent2, parent3\r\n CALL {\r\n WITH parent1, parent2, parent3\r\n WHERE NOT EXISTS{MATCH (parent2)--&gt;(matched: Child {childi: 0})&lt;--(parent1), (parent3)--&gt;(matched)}\r\n RETURN 1 as result\r\n }\r\n RETURN *\r\n\r\nDoes anyone know why?",
      "link": "https://stackoverflow.com/questions/65233864/neo4j-variable-not-defined-error-in-a-subquery-cannot-see-outer-variables",
      "title": "Neo4j &quot;variable not defined&quot; error in a subquery - cannot see outer variables"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 14800709,
        "user_type": "registered",
        "profile_image": "https://lh4.googleusercontent.com/-DpI6YMFMWvw/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclLVztBoxrYe_VO7swl-oaymvPZzA/s96-c/photo.jpg?sz=128",
        "display_name": "Adriano Cuccu",
        "link": "https://stackoverflow.com/users/14800709/adriano-cuccu"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 7,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "closed_date": 1607619953,
      "answer_count": 0,
      "score": -1,
      "last_activity_date": 1607599342,
      "creation_date": 1607599342,
      "question_id": 65233558,
      "share_link": "https://stackoverflow.com/q/65233558",
      "body_markdown": "I would get an autoincremented label for each node I add to the graph database. Thank you.",
      "link": "https://stackoverflow.com/questions/65233558/is-there-a-way-to-generate-autoincremented-node-labels-characters-not-numbers",
      "closed_reason": "Needs details or clarity",
      "title": "Is there a way to generate autoincremented node labels (characters, not numbers) in neo4j?"
    },
    {
      "tags": ["python", "neo4j", "py2neo"],
      "comments": [
        {
          "owner": {
            "reputation": 2653,
            "user_id": 7148638,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/gxiUZ.jpg?s=128&g=1",
            "display_name": "Rajat Mishra",
            "link": "https://stackoverflow.com/users/7148638/rajat-mishra"
          },
          "edited": false,
          "score": 3,
          "creation_date": 1607562911,
          "post_id": 65227140,
          "comment_id": 115315275,
          "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n#comment115315275_65227140"
        },
        {
          "owner": {
            "reputation": 1306,
            "user_id": 7658051,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
            "display_name": "Tms91",
            "link": "https://stackoverflow.com/users/7658051/tms91"
          },
          "reply_to_user": {
            "reputation": 2653,
            "user_id": 7148638,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/gxiUZ.jpg?s=128&g=1",
            "display_name": "Rajat Mishra",
            "link": "https://stackoverflow.com/users/7148638/rajat-mishra"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607638424,
          "post_id": 65227140,
          "comment_id": 115343494,
          "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n#comment115343494_65227140"
        },
        {
          "owner": {
            "reputation": 2653,
            "user_id": 7148638,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/gxiUZ.jpg?s=128&g=1",
            "display_name": "Rajat Mishra",
            "link": "https://stackoverflow.com/users/7148638/rajat-mishra"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607662203,
          "post_id": 65227140,
          "comment_id": 115348446,
          "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n#comment115348446_65227140"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 4138,
            "user_id": 823822,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/cafc3df1c732144084a706d768564bd4?s=128&d=identicon&r=PG",
            "display_name": "Nigel Small",
            "link": "https://stackoverflow.com/users/823822/nigel-small"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1607598325,
          "creation_date": 1607598325,
          "answer_id": 65233329,
          "question_id": 65227140,
          "share_link": "https://stackoverflow.com/a/65233329",
          "body_markdown": "Your code simply creates a local node. To create it in the graph, use:\r\n\r\n graph.create(nicole)\r\n\r\nThen it will appear in your browser query.",
          "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n/65233329#65233329",
          "title": "Added a node to a graph connected via prompt with py2neo but MATCH (n) RETURN (n) shows empty graph in Neo4j browser"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 2653,
            "user_id": 7148638,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/gxiUZ.jpg?s=128&g=1",
            "display_name": "Rajat Mishra",
            "link": "https://stackoverflow.com/users/7148638/rajat-mishra"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607657724,
          "creation_date": 1607657724,
          "answer_id": 65245435,
          "question_id": 65227140,
          "share_link": "https://stackoverflow.com/a/65245435",
          "body_markdown": "As mentioned in the comments, you need to use the `graph.create()` to save the object in the database. \r\n\r\n```\r\ngraph = Graph(&quot;bolt://localhost:7687&quot;, user=&quot;neo4j&quot;, password=&quot;Neo4j&quot;)\r\n\r\n&gt;&gt;&gt; graph\r\nGraph(&#39;bolt://neo4j@localhost:7687&#39;)\r\nnicole = Node(&quot;person&quot;, name=&quot;Nicole&quot;, age=24)\r\n\r\n&gt;&gt;&gt; nicole\r\nNode(&#39;person&#39;, age=24, name=&#39;Nicole&#39;)\r\n\r\n&gt;&gt;&gt; graph.create(nicole)\r\n\r\n```\r\n\r\nYou can read more [here][1]\r\n\r\n\r\n [1]: https://py2neo.org/2.0/essentials.html#py2neo.Graph.create",
          "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n/65245435#65245435",
          "title": "Added a node to a graph connected via prompt with py2neo but MATCH (n) RETURN (n) shows empty graph in Neo4j browser"
        }
      ],
      "owner": {
        "reputation": 1306,
        "user_id": 7658051,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
        "display_name": "Tms91",
        "link": "https://stackoverflow.com/users/7658051/tms91"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 23,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65245435,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1607657724,
      "creation_date": 1607562645,
      "question_id": 65227140,
      "share_link": "https://stackoverflow.com/q/65227140",
      "body_markdown": "I am moving the first steps with py2neo.\r\n\r\nI have created a graph via Neo4j Desktop\r\n\r\n&gt; DBMS Name: Neo4j\r\n&gt; \r\n&gt; password: Neo4j\r\n\r\nand I have started it. Then I opened it with Neo4j browser, where it shows I am connected as user `neo4j` to `bolt://localhost:7687`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen, I connected to it from my prompt by typing\r\n\r\n graph = Graph(&quot;bolt://localhost:7687&quot;, user=&quot;neo4j&quot;, password=&quot;Neo4j&quot;)\r\n\r\n &gt;&gt;&gt; graph\r\n Graph(&#39;bolt://neo4j@localhost:7687&#39;)\r\n\r\nI created a node\r\n\r\n nicole = Node(&quot;person&quot;, name=&quot;Nicole&quot;, age=24)\r\n \r\n &gt;&gt;&gt; nicole\r\n Node(&#39;person&#39;, age=24, name=&#39;Nicole&#39;)\r\n\r\nand then I in my Neo4j browser, I expect to see my node if I type the query:\r\n\r\n MATCH (n) RETURN (n)\r\n\r\nBut it returns nothing. \r\n\r\n\r\n1) Why?\r\n\r\n2) Also, if in my Chrome browser URL Bar I type `http://localhost:7474/`, it returns the same view of the Neo4j browser ( `MATCH (n) RETURN (n)` does not work even here )\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut if in my Chrome browser URL Bar I type `http://localhost:7687/`, it returns a void window with just the message \r\n\r\n&gt; not a WebSocket handshake request: missing upgrade\r\n\r\nWhy I don&#39;t get a Neo4j-browser-like view even in this second case?\r\n\r\n [1]: https://i.stack.imgur.com/sse6o.jpg\r\n [2]: https://i.stack.imgur.com/VgXo0.jpg",
      "link": "https://stackoverflow.com/questions/65227140/added-a-node-to-a-graph-connected-via-prompt-with-py2neo-but-match-n-return-n",
      "title": "Added a node to a graph connected via prompt with py2neo but MATCH (n) RETURN (n) shows empty graph in Neo4j browser"
    },
    {
      "tags": ["python", "neo4j", "anaconda", "py2neo"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1306,
            "user_id": 7658051,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
            "display_name": "Tms91",
            "link": "https://stackoverflow.com/users/7658051/tms91"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607559733,
          "creation_date": 1607559733,
          "answer_id": 65226824,
          "question_id": 65226823,
          "share_link": "https://stackoverflow.com/a/65226824",
          "body_markdown": "You are trying to authenticate by using your DBMS name instead of your user name, that by default is `neo4j`.\r\n\r\nActually the Neo4j browser is telling you that:\r\n\r\n&gt; You are connected as user neo4j \r\n&gt; \r\n&gt; to bolt://localhost:7687\r\n\r\nSo the correct command to connect to your graph is\r\n\r\n graph = Graph(&quot;bolt://localhost:7687&quot;, user=&quot;neo4j&quot;, password=&quot;Neo4j&quot;)",
          "link": "https://stackoverflow.com/questions/65226823/py2neo-database-work-clienterror-security-unauthorized-the-client-is-unauthor/65226824#65226824",
          "title": "py2neo.database.work.ClientError: [Security.Unauthorized] The client is unauthorized due to authentication failure"
        }
      ],
      "owner": {
        "reputation": 1306,
        "user_id": 7658051,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/4N4vy.jpg?s=128&g=1",
        "display_name": "Tms91",
        "link": "https://stackoverflow.com/users/7658051/tms91"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65226824,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607559733,
      "creation_date": 1607559733,
      "question_id": 65226823,
      "share_link": "https://stackoverflow.com/q/65226823",
      "body_markdown": "I am following a tutorial about py2neo, I am moving the first steps.\r\n\r\nI want to connect to a graph I created by using the command `graph = Graph()`\r\n\r\nHere is what I did from the very beginning:\r\n\r\nI open Neo4j Desktop (v. 1.3.11), create a new project, and then create a new database:\r\n\r\n**add database** &gt; **create a local database**\r\n\r\n&gt; DBMS Name: Neo4j &lt;br&gt;\r\n&gt; Password: Neo4j\r\n\r\nThen I **start** it and then I click on open, so that the Neo4j browser opens and it connects to the database.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSince I see the message that I am connected, I can go on.\r\n\r\n\r\nI am using Anaconda as prompt.\r\n\r\nI type `python` to activate the python shell, and the output is: \r\n\r\n Python 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 16:07:46) [MSC v.1900 32 bit (Intel)] on win32\r\n Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n &gt;&gt;&gt;\r\n\r\nI type:\r\n\r\n from py2neo import Graph\r\n\r\nand then\r\n\r\n graph = Graph()\r\n\r\nBut then the prompt returns:\r\n\r\n Traceback (most recent call last):\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 450, in acquire\r\n cx = self._free_list.popleft()\r\n IndexError: pop from an empty deque\r\n \r\n During handling of the above exception, another exception occurred:\r\n \r\n Traceback (most recent call last):\r\n File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\database\\__init__.py&quot;, line 358, in __init__\r\n self.service = GraphService(profile, **settings)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\database\\__init__.py&quot;, line 189, in __init__\r\n self._connector = Connector(profile, **connector_settings)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 603, in __init__\r\n self.add_pools(self._profile)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 631, in add_pools\r\n on_broken=self._on_broken)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 316, in open\r\n seeds = [pool.acquire() for _ in range(init_size or cls.default_init_size)]\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 316, in &lt;listcomp&gt;\r\n seeds = [pool.acquire() for _ in range(init_size or cls.default_init_size)]\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 460, in acquire\r\n on_broken=lambda msg: self.__on_broken(msg))\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\__init__.py&quot;, line 118, in open\r\n on_release=on_release, on_broken=on_broken)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\bolt.py&quot;, line 213, in open\r\n bolt._hello()\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\bolt.py&quot;, line 653, in _hello\r\n self._audit(response)\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\bolt.py&quot;, line 626, in _audit\r\n task.audit()\r\n File &quot;C:\\Applicazioni_Tommaso\\Phyton\\lib\\site-packages\\py2neo\\client\\bolt.py&quot;, line 1062, in audit\r\n raise self._failure\r\n py2neo.database.work.ClientError: [Security.Unauthorized] The client is unauthorized due to authentication failure.\r\n\r\n\r\nI see that the problem is due to security reasons, so I tryed with\r\n\r\n graph = Graph(&quot;bolt://localhost:7687&quot;, user=&quot;Neo4j&quot;, password=&quot;Neo4j&quot;)\r\n\r\nBut I get the same error. What is wrong?\r\n\r\n [1]: https://i.stack.imgur.com/8X9ij.jpg\r\n [2]: https://i.stack.imgur.com/FWDG7.jpg",
      "link": "https://stackoverflow.com/questions/65226823/py2neo-database-work-clienterror-security-unauthorized-the-client-is-unauthor",
      "title": "py2neo.database.work.ClientError: [Security.Unauthorized] The client is unauthorized due to authentication failure"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 8981,
            "user_id": 541404,
            "user_type": "registered",
            "accept_rate": 98,
            "profile_image": "https://www.gravatar.com/avatar/599c7e31296da6999371bd6718b61ef5?s=128&d=identicon&r=PG",
            "display_name": "Cameron Tinker",
            "link": "https://stackoverflow.com/users/541404/cameron-tinker"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607541723,
          "post_id": 65222369,
          "comment_id": 115308423,
          "link": "https://stackoverflow.com/questions/65222369/neo4j-cypher-query-to-fetch-posts-created-by-followers#comment115308423_65222369"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1607564266,
          "creation_date": 1607564266,
          "answer_id": 65227323,
          "question_id": 65222369,
          "share_link": "https://stackoverflow.com/a/65227323",
          "body_markdown": "Your [WITH](https://neo4j.com/docs/cypher-manual/current/clauses/with/) clauses are not specifying all the variables that need to be carried forward to the remainder of the query. Also, there has at least one typo (a missing comma).\r\n\r\nIn fact, your query does not even need any `WITH` clauses. Nor does it need to `COLLECT` a list only to immediately `UNWIND` it.\r\n\r\nThis query should work better:\r\n\r\n MATCH (user:User{lastName: &quot;mylastname&quot;})-[:FOLLOWS {status: &quot;accepted&quot;}]-&gt;(following)\r\n OPTIONAL MATCH (post:Post {type: &quot;PRODUCT&quot;})-[r:CREATED_BY]-&gt;(following)\r\n OPTIONAL MATCH (post)-[:INCLUDES]-&gt;(product:Product)\r\n RETURN {post:post, datetime: r.datetime, type:&quot;PRODUCT&quot;, product:product, user: following} AS row\r\n ORDER BY row.datetime DESC\r\n LIMIT 10\r\n",
          "link": "https://stackoverflow.com/questions/65222369/neo4j-cypher-query-to-fetch-posts-created-by-followers/65227323#65227323",
          "title": "Neo4j Cypher query to fetch posts created by followers"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 11545627,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-Zkkrlc2Kqog/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekNImEiG68XMQPMvLGxNY1Vbo9aA/mo/photo.jpg?sz=128",
        "display_name": "Nourish Cherish",
        "link": "https://stackoverflow.com/users/11545627/nourish-cherish"
      },
      "last_editor": {
        "reputation": 16775,
        "user_id": 2662355,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
        "display_name": "Christophe Willemsen",
        "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607564266,
      "creation_date": 1607536742,
      "last_edit_date": 1607547972,
      "question_id": 65222369,
      "share_link": "https://stackoverflow.com/q/65222369",
      "body_markdown": "I am creating an app kind of like Facebook. It is an app where people can share products and collections of products. In the &quot;create a post&quot; popup, people can either select a product or a collection (group of products but consider it as a single object) or just text to create a post. I need to fetch the posts created by my followers.\r\n\r\nEach post will have a property of type PRODUCT, COLLECTION, OR TEXT to indicate what type of post it is.\r\n\r\nIn my neo4j DB, there is a Post object, product object, collection object and user object.\r\nWhen you create a post, relations will be created between them. \r\n\r\n```\r\n(post)-[:CREATED_BY]-&gt;(USER)\r\n(post{type:&quot;PRODUCT&quot;})-[:INCLUDES]-&gt;(product)\r\n(post{type:&quot;COLLECTION})-[:INCLUDES]-&gt;(collection)\r\n```\r\nThis is what I tried to get the posts of type &quot;PRODUCT&quot;. IT shows an error. but just to give a basic idea of our properties.\r\n\r\n```\r\n\r\n MATCH (user:User{lastName: &quot;mylastname&quot;})-[:FOLLOWS {status: &quot;accepted&quot;}]-&gt;(following) WITH following \r\n OPTIONAL MATCH (post:Post {type: &quot;PRODUCT&quot;})-[r:CREATED_BY]-&gt;(following) WITH post,user, r OPTIONAL \r\n MATCH \r\n (post)-[:INCLUDES]-&gt;(product:Product) WITH COLLECT({post:post, datetime: r.datetime, \r\n type:&quot;PRODUCT&quot;,product:product user: following}) as productPosts\r\n UNWIND productPosts AS row\r\n RETURN row\r\n ORDER BY row.datetime DESC\r\n SKIP 0\r\n LIMIT 10\r\n\r\n```",
      "link": "https://stackoverflow.com/questions/65222369/neo4j-cypher-query-to-fetch-posts-created-by-followers",
      "title": "Neo4j Cypher query to fetch posts created by followers"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 486,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1607547872,
          "creation_date": 1607547872,
          "answer_id": 65224882,
          "question_id": 65221248,
          "share_link": "https://stackoverflow.com/a/65224882",
          "body_markdown": "Did you try something like:\r\n\r\n MATCH (n:Person) \r\n WITH n \r\n MATCH (p:Pet)\r\n WHERE toLower(n.name) = toLower(p.owner)\r\n RETURN *",
          "link": "https://stackoverflow.com/questions/65221248/case-insensitive-parameter-match/65224882#65224882",
          "title": "Case insensitive parameter match"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607566591,
          "creation_date": 1607566591,
          "answer_id": 65227595,
          "question_id": 65221248,
          "share_link": "https://stackoverflow.com/a/65227595",
          "body_markdown": "### Option 1 - Convert the relevant strings to lower-case while importing into the DB\r\n\r\nThis would allow you to keep using the existing query with less processing.\r\n\r\nNOTE: the following query is a more concise form of your query. Also, you should consider creating an [index](https://neo4j.com/docs/cypher-manual/current/administration/indexes-for-search-performance/) on `:Pet(owner)` to fully optimize the query.\r\n\r\n MATCH (n:Person), (p:Pet {owner: n.name})\r\n RETURN *\r\n\r\n### Option 2 - Use a case-insensitive regular expression\r\n\r\nIf you cannot alter the imported strings for some reason, then you can use Cypher&#39;s support for [case-insensitive regular expressions](https://neo4j.com/docs/cypher-manual/current/clauses/where/#case-insensitive-regular-expressions), as in:\r\n\r\n MATCH (n:Person), (p:Pet)\r\n WHERE n.name =~ &#39;(?i)&#39; + p.owner\r\n RETURN *\r\n\r\nThis option would be *significantly* slower than Option 1, since it cannot take advantage of indexing, and requires expensive text processing for *each and every pair* of `Person` and `Pet` nodes.",
          "link": "https://stackoverflow.com/questions/65221248/case-insensitive-parameter-match/65227595#65227595",
          "title": "Case insensitive parameter match"
        }
      ],
      "owner": {
        "reputation": 9316,
        "user_id": 2018084,
        "user_type": "registered",
        "accept_rate": 65,
        "profile_image": "https://www.gravatar.com/avatar/44a1fa8aae7cbaea8f09afe47b8819bf?s=128&d=identicon&r=PG",
        "display_name": "Juicy",
        "link": "https://stackoverflow.com/users/2018084/juicy"
      },
      "last_editor": {
        "reputation": 56623,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1607566659,
      "creation_date": 1607532719,
      "last_edit_date": 1607566659,
      "question_id": 65221248,
      "share_link": "https://stackoverflow.com/q/65221248",
      "body_markdown": "I would like to match pets and their owners. Currently I do:\r\n\r\n```\r\nMATCH (n:Person) WITH n MATCH (p:Pet{owner: n.name})\r\nRETURN *\r\n```\r\n\r\nThis works, but doesn&#39;t find all my results. \r\n\r\nThe reason it fails to find all my results is because the letter case between `p.owner` and `n.name` doesn&#39;t always match. The Person `name` could be upper or lower case, and the Pet `owner` could be upper or lower case. There is no consistency and sanitising the data before database input is not an option in this scenario.\r\n\r\nWhat I need is to match Persons and Pets while ignoring any casing issues, ideally by lowercasing both the `p.owner` and `n.name`.\r\n\r\nI tried using `toLower()` but that doesn&#39;t let me lowercase the `owner` in the query (syntax error).\r\n",
      "link": "https://stackoverflow.com/questions/65221248/case-insensitive-parameter-match",
      "title": "Case insensitive parameter match"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 8981,
            "user_id": 541404,
            "user_type": "registered",
            "accept_rate": 98,
            "profile_image": "https://www.gravatar.com/avatar/599c7e31296da6999371bd6718b61ef5?s=128&d=identicon&r=PG",
            "display_name": "Cameron Tinker",
            "link": "https://stackoverflow.com/users/541404/cameron-tinker"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607529401,
          "post_id": 65219893,
          "comment_id": 115302530,
          "link": "https://stackoverflow.com/questions/65219893/creating-many-relationships-in-one-script#comment115302530_65219893"
        },
        {
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607566773,
          "post_id": 65219893,
          "comment_id": 115316053,
          "link": "https://stackoverflow.com/questions/65219893/creating-many-relationships-in-one-script#comment115316053_65219893"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 71,
            "user_id": 4164240,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/lX0rq.jpg?s=128&g=1",
            "display_name": "jndnzl",
            "link": "https://stackoverflow.com/users/4164240/jndnzl"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607577407,
          "creation_date": 1607577407,
          "answer_id": 65228877,
          "question_id": 65219893,
          "share_link": "https://stackoverflow.com/a/65228877",
          "body_markdown": "By default, Neo4j Browser only allows one Cypher statement to be executed at a time. This can be changed by going to the browser settings on the sidebar (gear icon), and then checking the `Enable multi statement query editor` checkbox. Afterward, you should be able to execute multiple Cypher statements on the query editor.",
          "link": "https://stackoverflow.com/questions/65219893/creating-many-relationships-in-one-script/65228877#65228877",
          "title": "Creating many relationships in one script"
        }
      ],
      "owner": {
        "reputation": 1927,
        "user_id": 459222,
        "user_type": "registered",
        "accept_rate": 44,
        "profile_image": "https://i.stack.imgur.com/fIQLC.jpg?s=128&g=1",
        "display_name": "Raghav",
        "link": "https://stackoverflow.com/users/459222/raghav"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607577407,
      "creation_date": 1607528090,
      "question_id": 65219893,
      "share_link": "https://stackoverflow.com/q/65219893",
      "body_markdown": "I am a relative newbie to the world of cypher programming, and therefore hoping for a solution to this problem from the experts community here.\r\n\r\nI am creating a graph from an excel file, which contains different categories, items and so on. One item can belong to multiple categories and so on.\r\n\r\nI have generated the relevant create relationship statements (there are about 200 of them). However, when i put them through neo4j browser, the interface complains that i can only run one match - create command at a time.\r\n\r\ni am not using any other programming language or their API and simply using neo4j browser to achieve this.\r\n\r\nKindly suggest path forward.\r\n\r\nmy env : neo4j desktop 4.1.3 on Windows 10 Enterprise.\r\napoc plugin is enabled, but i m not using it yet.\r\n\r\nThanks\r\nraghav",
      "link": "https://stackoverflow.com/questions/65219893/creating-many-relationships-in-one-script",
      "title": "Creating many relationships in one script"
    },
    {
      "tags": ["neo4j", "spring-data-neo4j"],
      "owner": {
        "reputation": 3,
        "user_id": 9437949,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7c86612bb0ef543d7fd5b326db837395?s=128&d=identicon&r=PG&f=1",
        "display_name": "Vimal23",
        "link": "https://stackoverflow.com/users/9437949/vimal23"
      },
      "last_editor": {
        "reputation": 3,
        "user_id": 9437949,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7c86612bb0ef543d7fd5b326db837395?s=128&d=identicon&r=PG&f=1",
        "display_name": "Vimal23",
        "link": "https://stackoverflow.com/users/9437949/vimal23"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607786442,
      "creation_date": 1607525736,
      "last_edit_date": 1607786442,
      "question_id": 65219223,
      "share_link": "https://stackoverflow.com/q/65219223",
      "body_markdown": "\r\nType of relation we want is as follows\r\nCREATE (jack:Person {name:&quot;Jack&quot;})-[:KNOWS]-&gt;(jill:Person {name:&quot;Jill&quot;})\r\nWITH jack, jill\r\nCREATE (jack)&lt;-[:KNOWS]-(jill);\r\n\r\nHow do we model this in the following?\r\n```\r\n@Node\r\npublic class User {\r\n\r\n @Id\r\n @GeneratedValue\r\n private UUID id;\r\n\r\n private String name;\r\n\r\n private String phoneNumber;\r\n\r\n private String email;\r\n\r\n private boolean isActive;\r\n\r\n @JsonIgnore\r\n @Relationship(type = &quot;Knows&quot;, direction = Relationship.Direction.OUTGOING)\r\n private Set&lt;Knows&gt; knows;\r\n\r\n @JsonIgnore\r\n @Relationship(type = &quot;Knows&quot;, direction = Relationship.Direction.INCOMING)\r\n private Set&lt;Knows&gt; knownBy; \r\n\r\n public User() {\r\n }\r\n\r\n public void knows(Knows to) {\r\n if (knows == null) {\r\n knows = new HashSet&lt;&gt;();\r\n }\r\n knows.add(to);\r\n }\r\n\r\n public void knownBy(Knows from) {\r\n if (knownBy == null) {\r\n knownBy = new HashSet&lt;&gt;();\r\n }\r\n knownBy.add(from);\r\n }\r\n }\r\n\r\n```\r\n```\r\n@RelationshipProperties\r\npublic class Knows {\r\n\r\n private String as;\r\n\r\n @CreatedDate\r\n private Instant createdAt;\r\n\r\n @JsonIgnore\r\n @TargetNode\r\n private User User;\r\n}\r\n```\r\nsnippet to save the users\r\n```\r\n User user1 = userRepository.findById(id1);\r\n User user2 = userRepository.findById(id2);\r\n Knows knows = new Knows(&quot;as&quot;, Instant.now(), user1);\r\n Knows knownBy = new Knows(&quot;as&quot;, Instant.now(), user2);\r\n user2.knows(knows);\r\n user1.knownBy(knownBy);\r\n userRepository.save(user2);\r\n\r\n```\r\n\r\nWith this, we are getting StackOverflow while saving the User entity.\r\nWe want to understand is this the correct way to model it or is there a better way?",
      "link": "https://stackoverflow.com/questions/65219223/neo4j-spring-create-a-2-way-relationship-between-same-type-of-entities",
      "title": "Neo4j spring - Create a 2 way relationship between same type of entities"
    },
    {
      "tags": ["neo4j", "query-optimization"],
      "comments": [
        {
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607545541,
          "post_id": 65218978,
          "comment_id": 115309964,
          "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved#comment115309964_65218978"
        },
        {
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607562605,
          "post_id": 65218978,
          "comment_id": 115315198,
          "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved#comment115315198_65218978"
        },
        {
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607562803,
          "post_id": 65218978,
          "comment_id": 115315248,
          "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved#comment115315248_65218978"
        },
        {
          "owner": {
            "reputation": 4242,
            "user_id": 1006944,
            "user_type": "registered",
            "accept_rate": 74,
            "profile_image": "https://i.stack.imgur.com/SWvNb.jpg?s=128&g=1",
            "display_name": "Selvakumar Ponnusamy",
            "link": "https://stackoverflow.com/users/1006944/selvakumar-ponnusamy"
          },
          "reply_to_user": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607872481,
          "post_id": 65218978,
          "comment_id": 115403034,
          "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved#comment115403034_65218978"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 38,
            "user_id": 13134499,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lukasmp3",
            "link": "https://stackoverflow.com/users/13134499/lukasmp3"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607593039,
          "creation_date": 1607593039,
          "answer_id": 65231926,
          "question_id": 65218978,
          "share_link": "https://stackoverflow.com/a/65231926",
          "body_markdown": "Try the followings: \r\nNodes, that have **at least one** of given labels:\r\n```\r\nMATCH (p)-[r]-&gt;(c)\r\nWHERE ALL (label IN labels(p) WHERE label IN $parent_labels)\r\n```\r\n\r\nNodes, that have **all** given labels:\r\n```\r\nMATCH (p)-[r]-&gt;(c)\r\nWHERE ALL (parent_label IN $parent_labels WHERE parent_label IN labels(p))\r\n```",
          "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved/65231926#65231926",
          "title": "Improve neo4j match when multiple types involved"
        }
      ],
      "owner": {
        "reputation": 4242,
        "user_id": 1006944,
        "user_type": "registered",
        "accept_rate": 74,
        "profile_image": "https://i.stack.imgur.com/SWvNb.jpg?s=128&g=1",
        "display_name": "Selvakumar Ponnusamy",
        "link": "https://stackoverflow.com/users/1006944/selvakumar-ponnusamy"
      },
      "last_editor": {
        "reputation": 4242,
        "user_id": 1006944,
        "user_type": "registered",
        "accept_rate": 74,
        "profile_image": "https://i.stack.imgur.com/SWvNb.jpg?s=128&g=1",
        "display_name": "Selvakumar Ponnusamy",
        "link": "https://stackoverflow.com/users/1006944/selvakumar-ponnusamy"
      },
      "comment_count": 4,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607593039,
      "creation_date": 1607524856,
      "last_edit_date": 1607566370,
      "question_id": 65218978,
      "share_link": "https://stackoverflow.com/q/65218978",
      "body_markdown": "We have an usecase in neo4j that query matches for more than a type as below\r\n\r\n MATCH (p)-[r]-&gt;(c) WHERE labels(p) in $parent_labels \r\n\r\nThis query very slow comparing when the type is given which makes sense because doesn&#39;t need to scan too many nodes. But my usecase would have more than a type. Is there anyway to improve the query performance\r\n\r\n\r\n ",
      "link": "https://stackoverflow.com/questions/65218978/improve-neo4j-match-when-multiple-types-involved",
      "title": "Improve neo4j match when multiple types involved"
    },
    {
      "tags": ["database", "neo4j", "nosql", "graph-databases", "rdms"],
      "comments": [
        {
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607567050,
          "post_id": 65217583,
          "comment_id": 115316116,
          "link": "https://stackoverflow.com/questions/65217583/nosql-offline-standalone-query-graphdb-file-directly-without-exe-application#comment115316116_65217583"
        },
        {
          "owner": {
            "reputation": 67,
            "user_id": 3681384,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/4bf3bfd3a07a9cf89d07aa7add7c4651?s=128&d=identicon&r=PG&f=1",
            "display_name": "user3681384",
            "link": "https://stackoverflow.com/users/3681384/user3681384"
          },
          "reply_to_user": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607569940,
          "post_id": 65217583,
          "comment_id": 115316680,
          "link": "https://stackoverflow.com/questions/65217583/nosql-offline-standalone-query-graphdb-file-directly-without-exe-application#comment115316680_65217583"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 67,
            "user_id": 3681384,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/4bf3bfd3a07a9cf89d07aa7add7c4651?s=128&d=identicon&r=PG&f=1",
            "display_name": "user3681384",
            "link": "https://stackoverflow.com/users/3681384/user3681384"
          },
          "last_editor": {
            "reputation": 67,
            "user_id": 3681384,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/4bf3bfd3a07a9cf89d07aa7add7c4651?s=128&d=identicon&r=PG&f=1",
            "display_name": "user3681384",
            "link": "https://stackoverflow.com/users/3681384/user3681384"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607575488,
          "last_edit_date": 1607575488,
          "creation_date": 1607574660,
          "answer_id": 65228543,
          "question_id": 65217583,
          "share_link": "https://stackoverflow.com/a/65228543",
          "body_markdown": "Well, i found the answer to my question, and it&#39;s &quot;yes, you can create a standalone **graph.db** to query from (in neo4j).&quot; However it&#39;s only limited to Java and not supported by other languages or frameworks. \r\n\r\nNeo4j calls it an &quot;[embedded][1]&quot; database. Which is exactly what i was asking in my question, though i was hoping to be able to use the services in a .net application, which turns out to not be [compatible][2].\r\n\r\nIf anyone has any alternate solutions that can work with netcore, i would love to see it posted here. I&#39;m happy to know that i was right, and that it is possible to run queries on a hard file. Just disappointed that because neo4j is native to java, the technology is only available to java apps. Has no one written a c# port yet? (Not [in-memory][3], but to and from hard file.) \r\n\r\nAnyways, i&#39;ll continue to research and look more into all of this. Thank you.\r\n\r\nEdit-1: https://stackoverflow.com/questions/816055/graph-database-for-net\r\n\r\n\r\n [1]: https://neo4j.com/docs/java-reference/current/java-embedded/\r\n [2]: https://stackoverflow.com/questions/30892776/how-to-create-an-embedded-neo4j-database-in-c-sharp\r\n [3]: https://stackoverflow.com/questions/27957730/fast-in-memory-graph-database",
          "link": "https://stackoverflow.com/questions/65217583/nosql-offline-standalone-query-graphdb-file-directly-without-exe-application/65228543#65228543",
          "title": "NoSQL Offline/Standalone - Query GraphDB File directly without exe application?"
        }
      ],
      "owner": {
        "reputation": 67,
        "user_id": 3681384,
        "user_type": "registered",
        "accept_rate": 60,
        "profile_image": "https://www.gravatar.com/avatar/4bf3bfd3a07a9cf89d07aa7add7c4651?s=128&d=identicon&r=PG&f=1",
        "display_name": "user3681384",
        "link": "https://stackoverflow.com/users/3681384/user3681384"
      },
      "last_editor": {
        "reputation": 9515,
        "user_id": 7879193,
        "user_type": "registered",
        "profile_image": "https://lh5.googleusercontent.com/-bVdcN0nQCio/AAAAAAAAAAI/AAAAAAAACfs/jPa4Dr_Nzbk/photo.jpg?sz=128",
        "display_name": "Stanislav Kralin",
        "link": "https://stackoverflow.com/users/7879193/stanislav-kralin"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607575488,
      "creation_date": 1607519814,
      "last_edit_date": 1607520668,
      "question_id": 65217583,
      "share_link": "https://stackoverflow.com/q/65217583",
      "body_markdown": "Every relationship database can be used without the need for installation of any software or tools, as most of the query read/write is all done to read a file that stores data in a specific format. \r\n\r\nCan the same thing be done with a graph database (doesnt have to be neo4j, i wouldnt mind an alternative) without installing software, or having terminal endpoint running for access to database?\r\n\r\n**Example:** \r\n\r\n - MySql is a db file you can query\r\n - MSSQL is a db file you can query\r\n - SqlCE is a db file you can query\r\n - Sqlite is a db file you can query\r\n\r\n**Neo4j:** You need to download, install, have running and query through ip address? \r\nOR... pay higher rates (2-5x cost?) for graph DB hosting in comparison to RDMS which is so inexpensive, it&#39;s practically given for free for most web hosting services.\r\n\r\n\r\n----------\r\n\r\n\r\n**Purpose and Reasoning for Question** \r\n\r\n&gt; I&#39;m looking for some cost efficient solutions to run a graph database\r\n&gt; with all the bells and whistles, that i can run from web host or\r\n&gt; application (that only handle IIS and hard-file transfer services --\r\n&gt; maybe it can do netcore, but dont know if you can run graphdb through\r\n&gt; netcore as a module service). \r\n&gt; \r\n&gt; Yeah, MSSQL is doing it now, but it&#39;s\r\n&gt; limited in what it can do and handle, as well as the tutorials are\r\n&gt; lacking in how to properly write NoSQL queries as fluent as the SQL\r\n&gt; stuff...",
      "link": "https://stackoverflow.com/questions/65217583/nosql-offline-standalone-query-graphdb-file-directly-without-exe-application",
      "title": "NoSQL Offline/Standalone - Query GraphDB File directly without exe application?"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 75,
            "user_id": 12022239,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3800e5f098dfb3fcc1a127425a9ee5f5?s=128&d=identicon&r=PG&f=1",
            "display_name": "Vawkx",
            "link": "https://stackoverflow.com/users/12022239/vawkx"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607519805,
          "creation_date": 1607519805,
          "answer_id": 65217579,
          "question_id": 65217212,
          "share_link": "https://stackoverflow.com/a/65217579",
          "body_markdown": "Managed to figure it out by myself.\r\n\r\n```\r\nMATCH (user:USER)-[:FOLLOWS]-&gt;(followedUser:USER)-[:LIKES]-&gt;(artist:ARTIST)\r\nWHERE NOT (user)-[:LIKES]-&gt;(artist)\r\nRETURN artist",
          "link": "https://stackoverflow.com/questions/65217212/what-would-be-a-good-query-to-recommend-artists-to-a-user/65217579#65217579",
          "title": "What would be a good query to recommend artists to a user?"
        }
      ],
      "owner": {
        "reputation": 75,
        "user_id": 12022239,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3800e5f098dfb3fcc1a127425a9ee5f5?s=128&d=identicon&r=PG&f=1",
        "display_name": "Vawkx",
        "link": "https://stackoverflow.com/users/12022239/vawkx"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": -1,
      "last_activity_date": 1607519805,
      "creation_date": 1607518589,
      "question_id": 65217212,
      "share_link": "https://stackoverflow.com/q/65217212",
      "body_markdown": "[![enter image description here][1]][1]\r\n\r\nMy Neo4j database has two nodes: USER and ARTIST. Users can follow other users and users can like artists. I would like to write a query that does the following:\r\n\r\n- For a specific user, let&#39;s say Iza, check who this user is following, which would be Stefan in this case.\r\n- For the users Iza is following, check which artists they have liked which Iza hasn&#39;t liked herself. In this case that would be Arctic Monkeys and Fall Out Boy. Then, return all the artists that meet the criteria.\r\n\r\nI&#39;m still fairly new to Cypher and I could really use a helping hand to figure out how to write a query like this. Any help is welcome!\r\n\r\n\r\n [1]: https://i.stack.imgur.com/K10zE.png",
      "link": "https://stackoverflow.com/questions/65217212/what-would-be-a-good-query-to-recommend-artists-to-a-user",
      "title": "What would be a good query to recommend artists to a user?"
    },
    {
      "tags": ["neo4j", "spring-data-neo4j", "neo4j-ogm"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 5863,
            "user_id": 2650436,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
            "display_name": "meistermeier",
            "link": "https://stackoverflow.com/users/2650436/meistermeier"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1607668578,
          "creation_date": 1607668578,
          "answer_id": 65246793,
          "question_id": 65216923,
          "share_link": "https://stackoverflow.com/a/65246793",
          "body_markdown": "You are correct: the latest SDN does not depend on Neo4j anymore.\nIt comes with its own annotations for mapping. There is a migration section in the documentation that is intended to help you with the move towards SDN 6. https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#Migrating",
          "link": "https://stackoverflow.com/questions/65216923/spring-boot-starter-data-neo4j-not-loading-the-ogm-core-annotations/65246793#65246793",
          "title": "spring-boot-starter-data-neo4j not loading the OGM core annotations"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 9437949,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/7c86612bb0ef543d7fd5b326db837395?s=128&d=identicon&r=PG&f=1",
        "display_name": "Vimal23",
        "link": "https://stackoverflow.com/users/9437949/vimal23"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 7,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65246793,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607668578,
      "creation_date": 1607517408,
      "question_id": 65216923,
      "share_link": "https://stackoverflow.com/q/65216923",
      "body_markdown": "Following is the pom xml file which i am using. Problem here is it doesn&#39;t include @NodeEntity, @RelatedTo annotations and rather it has @Node @Relationship annotations. Later one is I guess the new set which is also used with SDN reactive. I want to understand is it that with newer version the OGM annotations are not bundled or am i missing something here?\r\n\r\n\r\nPom xml\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n &lt;parent&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n &lt;version&gt;2.4.0&lt;/version&gt;\r\n &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n &lt;/parent&gt;\r\n &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n &lt;artifactId&gt;be&lt;/artifactId&gt;\r\n &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n &lt;name&gt;demo-be&lt;/name&gt;\r\n &lt;description&gt;demo backend project&lt;/description&gt;\r\n\r\n &lt;properties&gt;\r\n &lt;java.version&gt;11&lt;/java.version&gt;\r\n &lt;/properties&gt;\r\n\r\n &lt;dependencies&gt;\r\n\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n &lt;scope&gt;test&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n\r\n\r\n &lt;!---google client libs--&gt;\r\n &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n &lt;version&gt;1.31.1&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n\r\n &lt;/dependencies&gt;\r\n\r\n &lt;build&gt;\r\n &lt;plugins&gt;\r\n &lt;plugin&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n &lt;/plugin&gt;\r\n &lt;/plugins&gt;\r\n &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```",
      "link": "https://stackoverflow.com/questions/65216923/spring-boot-starter-data-neo4j-not-loading-the-ogm-core-annotations",
      "title": "spring-boot-starter-data-neo4j not loading the OGM core annotations"
    },
    {
      "tags": ["neo4j", "bolt"],
      "owner": {
        "reputation": 1643,
        "user_id": 3943868,
        "user_type": "registered",
        "accept_rate": 57,
        "profile_image": "https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
        "display_name": "marlon",
        "link": "https://stackoverflow.com/users/3943868/marlon"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607455688,
      "creation_date": 1607455688,
      "question_id": 65205614,
      "share_link": "https://stackoverflow.com/q/65205614",
      "body_markdown": " @staticmethod\r\n def _create_and_return_friendship(tx, person1_name, person2_name):\r\n \r\n # To learn more about the Cypher syntax,\r\n # see https://neo4j.com/docs/cypher-manual/current/\r\n \r\n # The Reference Card is also a good resource for keywords,\r\n # see https://neo4j.com/docs/cypher-refcard/current/\r\n \r\n query = (\r\n &quot;CREATE (p1:Person { name: $person1_name }) &quot;\r\n &quot;CREATE (p2:Person { name: $person2_name }) &quot;\r\n &quot;CREATE (p1)-[:KNOWS]-&gt;(p2) &quot;\r\n &quot;RETURN p1, p2&quot;\r\n )\r\n result = tx.run(query, person1_name=person1_name, person2_name=person2_name)\r\n try:\r\n return [{&quot;p1&quot;: record[&quot;p1&quot;][&quot;name&quot;], &quot;p2&quot;: record[&quot;p2&quot;][&quot;name&quot;]}\r\n for record in result]\r\n # Capture any errors along with the query and data for traceability\r\n except ServiceUnavailable as exception:\r\n logging.error(&quot;{query} raised an error: \\n {exception}&quot;.format(\r\n query=query, exception=exception))\r\n raise\r\n\r\nI followed this example to throw ServiceUnavailable in querying neo4j, but the exception isn&#39;t captured. Instead I had to use Exception to capture it. What&#39;s the specific exception should I capture? ",
      "link": "https://stackoverflow.com/questions/65205614/what-exception-should-i-capture-in-querying-neo4j",
      "title": "what exception should I capture in querying neo4j?"
    },
    {
      "tags": ["javascript", "neo4j", "geojson"],
      "owner": {
        "reputation": 590,
        "user_id": 5261991,
        "user_type": "registered",
        "accept_rate": 92,
        "profile_image": "https://i.stack.imgur.com/GDSQC.png?s=128&g=1",
        "display_name": "proph3t",
        "link": "https://stackoverflow.com/users/5261991/proph3t"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607440366,
      "creation_date": 1607440366,
      "question_id": 65201542,
      "share_link": "https://stackoverflow.com/q/65201542",
      "body_markdown": "I am attempting to store a GeoJSON object as a property of a node in a Neo4j database with the following cypher statement where `boundary.boundary` is a FeatureCollection and `boundary.centroid` is a Point:\r\n \r\n UNWIND $fieldsToCreate AS obj\r\n\r\n MERGE (f:Field {\r\n id: apoc.create.uuid(),\r\n xId: obj.fieldXId,\r\n legacyId: obj.legacyId,\r\n name: obj.name\r\n })\r\n\r\n FOREACH (boundary IN obj.boundary |\r\n CREATE (b:Boundary) SET\r\n b.id = apoc.create.uuid(),\r\n b.boundary = boundary.boundary,\r\n b.centroid = boundary.centroid,\r\n b.name = boundary.name\r\n MERGE (f)-[:HAS_BOUNDARY { from: datetime() }]-&gt;(b)\r\n )\r\n\r\n RETURN f AS field\r\n\r\nThe following error is returned:\r\n\r\n`Neo4jError: Property values can only be of primitive types or arrays thereof`\r\n\r\nWhat is the proper way to store GeoJSON to a Neo4j database?",
      "link": "https://stackoverflow.com/questions/65201542/javascript-neo4j-store-geojson-object-as-node-property",
      "title": "Javascript / Neo4j - Store GeoJSON Object as Node Property"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607443213,
          "post_id": 65198980,
          "comment_id": 115271077,
          "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database#comment115271077_65198980"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607441234,
              "post_id": 65201630,
              "comment_id": 115269953,
              "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65201630#comment115269953_65201630"
            },
            {
              "owner": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607447641,
              "post_id": 65201630,
              "comment_id": 115273298,
              "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65201630#comment115273298_65201630"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 38,
            "user_id": 13134499,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lukasmp3",
            "link": "https://stackoverflow.com/users/13134499/lukasmp3"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607440658,
          "creation_date": 1607440658,
          "answer_id": 65201630,
          "question_id": 65198980,
          "share_link": "https://stackoverflow.com/a/65201630",
          "body_markdown": "Use `MERGE` instead of `CREATE`. You can use it for both nodes and relationships.\r\n```\r\nMERGE (charlie { name: &#39;Charlie Sheen&#39;, age: 10 })\r\n```\r\nCreate a single node with properties where not all properties match any existing node.\r\n\r\n\r\n```\r\nMATCH (a:Person {name: &quot;Martin&quot;}),\r\n (b:Person {name: &quot;Marie&quot;})\r\nMERGE (a)-[r:LOVES]-&gt;(b)\r\n```\r\nFinds or creates a relationship between the nodes.\r\n",
          "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65201630#65201630",
          "title": "Neo4j: how to avoid node to be created again if it is already in the database?"
        },
        {
          "comments": [
            {
              "owner": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607522972,
              "post_id": 65207377,
              "comment_id": 115298982,
              "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65207377#comment115298982_65207377"
            },
            {
              "owner": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607523643,
              "post_id": 65207377,
              "comment_id": 115299371,
              "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65207377#comment115299371_65207377"
            },
            {
              "owner": {
                "reputation": 56623,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 23,
                "user_id": 14728691,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "civodul",
                "link": "https://stackoverflow.com/users/14728691/civodul"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607561849,
              "post_id": 65207377,
              "comment_id": 115315038,
              "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65207377#comment115315038_65207377"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1607466723,
          "last_edit_date": 1607466723,
          "creation_date": 1607463877,
          "answer_id": 65207377,
          "question_id": 65198980,
          "share_link": "https://stackoverflow.com/a/65207377",
          "body_markdown": "A [MERGE](https://neo4j.com/docs/cypher-manual/current/clauses/merge/) clause will **create** its entire pattern if *any* part of it does not already exist. So, for a `MERGE` clause to work reasonably, the pattern used with it must only specify the *minimum* data necessary to uniquely identify a node (or a relationship).\r\n\r\nFor instance, assuming `ARTICLE` nodes are supposed to have unique `id` properties, then you should replace your `CREATE` clause:\r\n\r\n CREATE (a:ARTICLE {id:$id, title:$title, img_url:$img_url, link:$link, sentence:$sentence, published:$published})\r\n\r\nwith something like this:\r\n\r\n MERGE (a:ARTICLE {id:$id})\r\n SET a += {title:$title, img_url:$img_url, link:$link, sentence:$sentence, published:$published}\r\n\r\nIn the above example, the `SET` clause will always overwrite the non-`id` properties. If you want to set those properties only when the node is created, you can use [ON CREATE](https://neo4j.com/docs/cypher-manual/current/clauses/merge/#merge-merge-with-on-create) before the `SET` clause.",
          "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database/65207377#65207377",
          "title": "Neo4j: how to avoid node to be created again if it is already in the database?"
        }
      ],
      "owner": {
        "reputation": 23,
        "user_id": 14728691,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
        "display_name": "civodul",
        "link": "https://stackoverflow.com/users/14728691/civodul"
      },
      "last_editor": {
        "reputation": 23,
        "user_id": 14728691,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/facf426de0da5af7d49817af2b5671aa?s=128&d=identicon&r=PG&f=1",
        "display_name": "civodul",
        "link": "https://stackoverflow.com/users/14728691/civodul"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 50,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 2,
      "score": 1,
      "last_activity_date": 1607466723,
      "creation_date": 1607430712,
      "last_edit_date": 1607449307,
      "question_id": 65198980,
      "share_link": "https://stackoverflow.com/q/65198980",
      "body_markdown": "I have a question about Cypher requests and the update of a database.\r\nI have a python script that does web scrapping and generate a csv at the end. I use this csv to import data in a neo4j database.\r\n\r\nThe scrapping is done 5 times a day. So every time a new scraping is done the csv is updated, new data is added to the the previous csv and so on.\r\nI import the data after each scraping.\r\nActually when I import the data after each scraping to update the DB, I have all the nodes created again even if it is already in the DB.\r\n\r\nFor example the first csv gives 5 rows and I insert this in Neo4j.\r\nNext the new scraping gives 2 rows so the csv has now 7 rows. And if I insert the data I will have the first five rows twice in the DB.\r\nI would like to have everything unique and not added if it is already in the database.\r\n\r\nFor example when I try to create node ARTICLE I do this:\r\n\r\n CREATE (a:ARTICLE {id:$id, title:$title, img_url:$img_url, link:$link, sentence:$sentence, published:$published})\r\n\r\nI think MERGE instead of CREATE should solve the solution, but it doesn&#39;t and I can&#39;t figure it out why.\r\n\r\nHow can I do this ?\r\n\r\n",
      "link": "https://stackoverflow.com/questions/65198980/neo4j-how-to-avoid-node-to-be-created-again-if-it-is-already-in-the-database",
      "title": "Neo4j: how to avoid node to be created again if it is already in the database?"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 81,
            "user_id": 2963800,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/6txnz.jpg?s=128&g=1",
            "display_name": "Calvin Ku",
            "link": "https://stackoverflow.com/users/2963800/calvin-ku"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607431024,
          "creation_date": 1607431024,
          "answer_id": 65199064,
          "question_id": 65197753,
          "share_link": "https://stackoverflow.com/a/65199064",
          "body_markdown": "Turned out the answer is extremely easy...thanks to @tomasi from the Neo4j Slack Group.\r\n\r\nHere in case anyone needs it:\r\n\r\n```\r\nMATCH (n:Label)\r\nWHERE NOT ()-[:RELATIONSHIP]-&gt;(n)\r\nRETURN n\r\n```\r\n",
          "link": "https://stackoverflow.com/questions/65197753/how-to-find-the-head-of-a-series-of-connected-nodes-in-neo4j-with-cypher/65199064#65199064",
          "title": "How to find the head of a series of connected nodes in Neo4j with Cypher?"
        }
      ],
      "owner": {
        "reputation": 81,
        "user_id": 2963800,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/6txnz.jpg?s=128&g=1",
        "display_name": "Calvin Ku",
        "link": "https://stackoverflow.com/users/2963800/calvin-ku"
      },
      "last_editor": {
        "reputation": 81,
        "user_id": 2963800,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/6txnz.jpg?s=128&g=1",
        "display_name": "Calvin Ku",
        "link": "https://stackoverflow.com/users/2963800/calvin-ku"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607431024,
      "creation_date": 1607425565,
      "last_edit_date": 1607426431,
      "question_id": 65197753,
      "share_link": "https://stackoverflow.com/q/65197753",
      "body_markdown": "I&#39;m still quite new with Neo4j and I thought this would be a really easy task but after some serious goolging I realized it&#39;s probably not so easy (or I just used the wrong keywords...) \r\n\r\nI&#39;m trying to find the head of a series of nodes connected with a particular relationship. The relationship is based on the timestamp property of each node. Here&#39;s my first attempt query:\r\n\r\n```\r\nMATCH (n1)-[:RELATIONSHIP*]-&gt;()\r\nORDER BY n1.timestamp\r\nRETURN n1\r\n```\r\n\r\nThen I found the `startNode` function and tried:\r\n\r\n```\r\nMATCH ()-[rel:RELATIONSHIP]-&gt;()\r\nRETURN startNode(rel)\r\n```\r\n\r\nBut it doesn&#39;t always return the start nodes. Sometimes it returns some nodes in the middle. I&#39;d like to find all of the heads and connect them to nodes of some other labels. Thanks!",
      "link": "https://stackoverflow.com/questions/65197753/how-to-find-the-head-of-a-series-of-connected-nodes-in-neo4j-with-cypher",
      "title": "How to find the head of a series of connected nodes in Neo4j with Cypher?"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 14783363,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/b3731f4b6d1458cded2a6576efa5bd83?s=128&d=identicon&r=PG&f=1",
        "display_name": "stuckingraph",
        "link": "https://stackoverflow.com/users/14783363/stuckingraph"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 9,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607385615,
      "creation_date": 1607385615,
      "question_id": 65191211,
      "share_link": "https://stackoverflow.com/q/65191211",
      "body_markdown": "I&#39;m trying to analyze and find some patterns in the browsing behavior of our site&#39;s userbase. To go about this a graph database seemed like a good choice compared to a relational database since there are hundreds of millions of records. I extracted our our User Information, their session id&#39;s, activity_uuid and page name into nodes with 4 labels (users, session, activity and page). The relationship that I have formed is as follows:\r\n(User)-[:Browsers]-&gt;(Session)-[:Click]-&gt;(Activity)-[:View]-&gt;(Page)\r\n\r\n[RelationShip][1]\r\n\r\nand the activity node is related to itself with the [:Next] relationship so that we can have a sequence of events in a browsing session.[Example of User, Session, Activity and Page nodes for a session][2]\r\nThe Page information is also present as one of the properties in the Activity node along with timestamp.\r\n\r\nSince I&#39;m new to Cypher I&#39;m wondering how do I go about writing query for finding out browsing pattern of users who bought something (page=Order Conformation) vs those who didn&#39;t or new users to the site (property in the session node) vs old and difference in their browsing behavior.\r\n [1]: https://i.stack.imgur.com/98qB6.png\r\n [2]: https://i.stack.imgur.com/9shj5.png",
      "link": "https://stackoverflow.com/questions/65191211/cypher-query-for-clickstream-analysis",
      "title": "Cypher Query for Clickstream analysis"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 1643,
        "user_id": 3943868,
        "user_type": "registered",
        "accept_rate": 57,
        "profile_image": "https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
        "display_name": "marlon",
        "link": "https://stackoverflow.com/users/3943868/marlon"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607383779,
      "creation_date": 1607383779,
      "question_id": 65190948,
      "share_link": "https://stackoverflow.com/q/65190948",
      "body_markdown": "For example:\r\nfrom neo4j import GraphDatabase\r\n\r\n class HelloWorldExample(object):\r\n \r\n def __init__(self, uri, user, password):\r\n self._driver = GraphDatabase.driver(uri, auth=(user, password), encrypted=False)\r\n \r\n def close(self):\r\n self._driver.close()\r\n \r\n def print_greeting(self, message):\r\n with self._driver.session() as session:\r\n greeting = session.write_transaction(self._create_and_return_greeting, message)\r\n print(greeting)\r\n \r\n @staticmethod\r\n def _create_and_return_greeting(tx, message):\r\n result = tx.run(&quot;CREATE (a:Greeting) &quot;\r\n &quot;SET a.message = $message &quot;\r\n &quot;RETURN a.message + &#39;, from node &#39; + id(a)&quot;, message=message)\r\n return result.single()[0]\r\n \r\n if __name__ == &#39;__main__&#39;:\r\n example = HelloWorldExample(&#39;bolt://localhost:7687&#39;, &#39;neo4j&#39;, &#39;neo4j&#39;)\r\n example.print_greeting(&#39;Hello&#39;)\r\n\r\nIn this example, should I call the close() method after the example.print_greeting()?\r\n\r\nIf I am writing an API for client to query my neo4j db and I can&#39;t depend on clients to close the connection. In such a case , how to close the connection, or I should simply leave connections always open? \r\n\r\nMy code may look like the following:\r\n\r\n \r\n\r\n class KgApp(object):\r\n \r\n def __init__(self):\r\n config = Configuration.get_configs()\r\n self.schemas = config.schemas\r\n self.neo4j_driver = config.get_driver()\r\n \r\n logger.info(&#39;Initialize KgApp done ...&#39;)\r\n \r\n def close(self):\r\n self.neo4j_driver.close()\r\n \r\n \r\n def node(self, property: str, limit: int) -&gt; List:\r\n \r\n with self.neo4j_driver.session() as session:\r\n return session.read_transaction(self._query_by_node_property, property, limit)\r\n\r\nThe client can call the &#39;node()&#39; function to get result. So when should I call the close() function?",
      "link": "https://stackoverflow.com/questions/65190948/when-should-i-close-the-driver-connection-in-neo4j",
      "title": "When should I close the driver connection in neo4j?"
    },
    {
      "tags": ["neo4j", "graph-databases"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 71,
            "user_id": 4164240,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/lX0rq.jpg?s=128&g=1",
            "display_name": "jndnzl",
            "link": "https://stackoverflow.com/users/4164240/jndnzl"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607494792,
          "creation_date": 1607494792,
          "answer_id": 65211619,
          "question_id": 65189179,
          "share_link": "https://stackoverflow.com/a/65211619",
          "body_markdown": "I would suggest using [Neo4j Bloom](https://neo4j.com/product/bloom/). This will provide you better visualization of your Neo4j data.",
          "link": "https://stackoverflow.com/questions/65189179/neo4j-large-data-rendering/65211619#65211619",
          "title": "Neo4j Large Data Rendering"
        }
      ],
      "owner": {
        "reputation": 425,
        "user_id": 9872841,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/07aeef46cbf6242c14920b49279e3996?s=128&d=identicon&r=PG&f=1",
        "display_name": "Hysii",
        "link": "https://stackoverflow.com/users/9872841/hysii"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607494792,
      "creation_date": 1607374292,
      "question_id": 65189179,
      "share_link": "https://stackoverflow.com/q/65189179",
      "body_markdown": "I&#39;m working with a large data set that really warrants a graph db. My goal is to visualize identify trends in the data set to make decisions. \r\n\r\nI&#39;m currently using neo4j and i really like the tool, however the nodes returned are capped at 300. This number is only a fraction of my data, and doesnt really allow me to gain the insight i&#39;ve been looking for, even with queries to filter out portions. Additionally, I&#39;d really like to add node weights and color per conditions, which isn&#39;t possible using just neo4j.\r\n\r\nHas anybody found a solution to this problem. I&#39;d imagine there may be some client side libraries designed for these sorts of problems. Alternatively, I wouldn&#39;t be opposed to switching to some other graph db better suited to solve these problems. ",
      "link": "https://stackoverflow.com/questions/65189179/neo4j-large-data-rendering",
      "title": "Neo4j Large Data Rendering"
    },
    {
      "tags": ["spring-boot", "neo4j", "spring-data-neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 5863,
            "user_id": 2650436,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
            "display_name": "meistermeier",
            "link": "https://stackoverflow.com/users/2650436/meistermeier"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607670338,
          "creation_date": 1607670338,
          "answer_id": 65247088,
          "question_id": 65183718,
          "share_link": "https://stackoverflow.com/a/65247088",
          "body_markdown": "First things first: There is now the official SDN 6 in place that is the successor of SDN/RX. We stopped the development on SDN/RX half a year ago and focused on the new SDN.\nSDN 6 can be used with Spring Boot starting with version 2.4. \n\nThe relationship naming big is something we have for example fixed in the past months.\n\nIf there is really no chance for you to update, I could have a look. Please add a comment if needed.",
          "link": "https://stackoverflow.com/questions/65183718/sdn-rx-custom-query-relationshipproperties-mapping-depth/65247088#65247088",
          "title": "SDN/RX Custom Query @RelationshipProperties mapping depth"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 14780528,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-zFSLOLH9t0s/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnTJmWXC5OiC-Nzn1mcpYcNGkpeEw/s96-c/photo.jpg?sz=128",
        "display_name": "Alioune Fall",
        "link": "https://stackoverflow.com/users/14780528/alioune-fall"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607670338,
      "creation_date": 1607351693,
      "question_id": 65183718,
      "share_link": "https://stackoverflow.com/q/65183718",
      "body_markdown": "I am stumbling on an issue with SDN/RX 1.1\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.neo4j.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-neo4j-rx-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhen using a custom query on a ***repository*** class, and trying to query multiple relationships with properties. \r\n\r\nI have two relationship properties : \r\n\r\n``` \r\n@RelationshipProperties\r\npublic class InRegionProperties {\r\n\r\n @Id\r\n @GeneratedValue\r\n private Long id;\r\n private String location;\r\n private int distance;\r\n\r\n public InRegionProperties (String location, int distance) {\r\n this.id=null;\r\n this.location = location;\r\n this.distance = distance;\r\n }\r\n\r\n public Long getId () {\r\n return id;\r\n }\r\n\r\n public String getLocation () {\r\n return location;\r\n }\r\n\r\n public int getDistance () {\r\n return distance;\r\n }\r\n\r\n public void setLocation (String location) {\r\n this.location = location;\r\n }\r\n\r\n public void setDistance (int distance) {\r\n this.distance = distance;\r\n }\r\n\r\n public void setId (Long id) {\r\n this.id = id;\r\n }\r\n}\r\n```\r\n\r\nand \r\n\r\n```\r\n@RelationshipProperties\r\npublic class InWorldProperties {\r\n\r\n @Id\r\n @GeneratedValue\r\n private Long id;\r\n private String location;\r\n\r\n public InWorldProperties (String location) {\r\n this.id=null;\r\n this.location = location;\r\n }\r\n\r\n public Long getId () {\r\n return id;\r\n }\r\n\r\n public String getLocationInWorld () {\r\n return location;\r\n }\r\n\r\n public void setLocationInWorld (String location) {\r\n this.location = location;\r\n }\r\n\r\n public void setId (Long id) {\r\n this.id = id;\r\n }\r\n}\r\n```\r\n\r\nFor ***two nodes***, a ***Region*** node and a ***World*** node. I have a last node, a ***Lieu*** node, all related this way : \r\n\r\n***(l:Lieu)-[:IN_REGION{location, distance}]-&gt;(r:Region)-[:IN_WORLD{location}]-&gt;(w:World)***\r\n\r\nI then use a custom query on the WorldRepository to fetch regions in a world, and then fetch lieux in a Region.\r\n\r\n```\r\n@Query(&quot;MATCH (r:`Region`)-[:IN_WORLD]-&gt;(n:`World`) WHERE id(r)=$regionId WITH n, id(n) AS __internalNeo4jId__ &quot;\r\n + &quot;RETURN n{.description, __internalNeo4jId__: id(n), .name, __nodeLabels__: labels(n), &quot;\r\n + &quot;World_IN_WORLD_Region:[(n)&lt;-[__relationship__:IN_WORLD]-(n_regions:Region) | n_regions{.description, __internalNeo4jId__: id(n_regions), .name, __nodeLabels__: labels(n_regions), &quot;\r\n + &quot;Region_IN_REGION_Lieu: [(n_regions)&lt;-[__relationship__:`IN_REGION`]-(n_regions_lieux:Lieu) | n_regions_lieux{.description, __internalNeo4jId__: id(n_regions_lieux), .name, __nodeLabels__: labels(n_regions_lieux), __relationship__}], __relationship__}]&quot;\r\n + &quot;}&quot;)\r\n Mono&lt;World&gt; getByRegion(Long regionId);\r\n```\r\n\r\nThis is where the issue occurs : \r\n\r\nTo fetch all the **relationsipProperties**, it seems that the SDN/RX mapping engine only accepts **__relationship__** as an alias for the relationship.\r\nThe result of this query in Cypher (Neo4j browser) is : \r\n\r\n```\r\n{\r\n &quot;name&quot;: &quot;New Finn City&quot;,\r\n &quot;description&quot;: &quot;Ville Monde, terre de la Ligue Des H&#233;ros.&quot;,\r\n &quot;__internalNeo4jId__&quot;: 61,\r\n &quot;World_IN_WORLD_Region&quot;: [\r\n {\r\n &quot;__internalNeo4jId__&quot;: 14,\r\n &quot;__relationship__&quot;: {\r\n&quot;identity&quot;: 4,\r\n&quot;start&quot;: 14,\r\n&quot;end&quot;: 61,\r\n&quot;type&quot;: &quot;IN_WORLD&quot;,\r\n&quot;properties&quot;: {\r\n&quot;location&quot;: &quot;Sud Est&quot;\r\n }\r\n },\r\n &quot;name&quot;: &quot;Bio Town&quot;,\r\n &quot;description&quot;: &quot;Le quartier r&#233;serve naturelle. La biosph&#232;re, en constante &#233;volution gr&#226;ce au Weillenium, y est pr&#233;serv&#233;e et vit en libert&#233; prot&#233;g&#233;e et surveill&#233;e.&quot;,\r\n &quot;Region_IN_REGION_Lieu&quot;: [],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;Region&quot;\r\n ]\r\n },\r\n {\r\n &quot;__internalNeo4jId__&quot;: 15,\r\n &quot;__relationship__&quot;: {\r\n&quot;identity&quot;: 3,\r\n&quot;start&quot;: 15,\r\n&quot;end&quot;: 61,\r\n&quot;type&quot;: &quot;IN_WORLD&quot;,\r\n&quot;properties&quot;: {\r\n&quot;location&quot;: &quot;Nord&quot;\r\n }\r\n },\r\n &quot;name&quot;: &quot;Astro Town&quot;,\r\n &quot;description&quot;: null,\r\n &quot;Region_IN_REGION_Lieu&quot;: [],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;Region&quot;\r\n ]\r\n },\r\n {\r\n &quot;__internalNeo4jId__&quot;: 13,\r\n &quot;__relationship__&quot;: {\r\n&quot;identity&quot;: 2,\r\n&quot;start&quot;: 13,\r\n&quot;end&quot;: 61,\r\n&quot;type&quot;: &quot;IN_WORLD&quot;,\r\n&quot;properties&quot;: {\r\n&quot;location&quot;: &quot;Est&quot;\r\n }\r\n },\r\n &quot;name&quot;: &quot;Electro Town&quot;,\r\n &quot;description&quot;: &quot;Le quartier des savants et inventeurs, o&#249; les robots et machines aliment&#233;es en Weillenium sont omnipr&#233;sentes.&quot;,\r\n &quot;Region_IN_REGION_Lieu&quot;: [],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;Region&quot;\r\n ]\r\n },\r\n {\r\n &quot;__internalNeo4jId__&quot;: 12,\r\n &quot;__relationship__&quot;: {\r\n&quot;identity&quot;: 1,\r\n&quot;start&quot;: 12,\r\n&quot;end&quot;: 61,\r\n&quot;type&quot;: &quot;IN_WORLD&quot;,\r\n&quot;properties&quot;: {\r\n&quot;location&quot;: &quot;Nord Ouest&quot;\r\n }\r\n },\r\n &quot;name&quot;: &quot;Dark Town&quot;,\r\n &quot;description&quot;: &quot;Le quartier pauvre, rong&#233; par la criminalit&#233;, et le traffic de Weillenium. C&#39;est le territoire de la Ligue des Villains.&quot;,\r\n &quot;Region_IN_REGION_Lieu&quot;: [],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;Region&quot;\r\n ]\r\n },\r\n {\r\n &quot;__internalNeo4jId__&quot;: 11,\r\n &quot;__relationship__&quot;: {\r\n&quot;identity&quot;: 0,\r\n&quot;start&quot;: 11,\r\n&quot;end&quot;: 61,\r\n&quot;type&quot;: &quot;IN_WORLD&quot;,\r\n&quot;properties&quot;: {\r\n&quot;location&quot;: &quot;Sud Ouest&quot;\r\n }\r\n },\r\n &quot;name&quot;: &quot;Atom Town&quot;,\r\n &quot;description&quot;: &quot;Le quartier central de New Finn City, o&#249; si&#232;ge la Ligue des H&#233;ros. C&#39;est le centre administratif du monde.&quot;,\r\n &quot;Region_IN_REGION_Lieu&quot;: [],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;Region&quot;\r\n ]\r\n }\r\n ],\r\n &quot;__nodeLabels__&quot;: [\r\n &quot;World&quot;\r\n ]\r\n}\r\n```\r\n\r\nThe ***Lieux*** nodes are not fetched due to the redondant use of **__relationship__** as an alias. When using another alias on cypher for the :IN_REGION relationship, I get the fetched Lieux, but in SDN/RX I get the following error : \r\n\r\n```\r\nCaused by: org.neo4j.driver.exceptions.value.Uncoercible: Cannot coerce NULL to Relationship\r\n\tat org.neo4j.driver.internal.value.ValueAdapter.asRelationship(ValueAdapter.java:311)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.createInstanceOfRelationships(DefaultNeo4jConverter.java:499)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.lambda$populateFrom$6(DefaultNeo4jConverter.java:375)\r\n\tat org.springframework.data.mapping.model.BasicPersistentEntity.doWithAssociations(BasicPersistentEntity.java:380)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.map(DefaultNeo4jConverter.java:288)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.lambda$createInstanceOfRelationships$22(DefaultNeo4jConverter.java:496)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter$KnownObjects.computeIfAbsent(DefaultNeo4jConverter.java:566)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.createInstanceOfRelationships(DefaultNeo4jConverter.java:495)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.lambda$populateFrom$6(DefaultNeo4jConverter.java:375)\r\n\tat org.springframework.data.mapping.model.BasicPersistentEntity.doWithAssociations(BasicPersistentEntity.java:380)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.map(DefaultNeo4jConverter.java:288)\r\n\tat org.neo4j.springframework.data.core.mapping.DefaultNeo4jConverter.read(DefaultNeo4jConverter.java:138)\r\n\t... 48 more\r\n``` \r\n\r\nThe mapping enging seems to only accept **__relationship__** as an alias for a relationship that has properties to be mapped in a @RelationshipProperties class.\r\n\r\nIs there a way to bypass this issue?\r\n\r\nThank you all for you help.",
      "link": "https://stackoverflow.com/questions/65183718/sdn-rx-custom-query-relationshipproperties-mapping-depth",
      "title": "SDN/RX Custom Query @RelationshipProperties mapping depth"
    },
    {
      "tags": ["neo4j", "desktop"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607718975,
          "creation_date": 1607718975,
          "answer_id": 65258281,
          "question_id": 65182816,
          "share_link": "https://stackoverflow.com/a/65258281",
          "body_markdown": "I can&#39;t get to File-&gt;Quit in full screen, are you sure? Maybe you maximized the window? \r\n\r\nUse F11 to switch in and out of full screen mode.\r\n\r\nExpanding the window to fill the entire screen is different, and controlled by resizing the window or using the maximize icon in the top right of the window frame.\r\n\r\nFor me on Ubuntu 20.02 it appears Neo4j remembers the window size/location each time I quit, so when you launch it again it restores to that size/location. \r\n\r\nTry F11 and/or manually resizing the window as required, then exit the app, fingers crossed the window will open to the size and location you last moved it to.\r\n\r\n",
          "link": "https://stackoverflow.com/questions/65182816/disable-full-screen-for-neo4j-desktop-1-3-11-x86-64-appimage/65258281#65258281",
          "title": "disable full screen for neo4j-desktop-1.3.11-x86_64.AppImage"
        }
      ],
      "owner": {
        "reputation": 41,
        "user_id": 4976890,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/616c0cd0f5972d3e4815dfd31de916e6?s=128&d=identicon&r=PG&f=1",
        "display_name": "neiderer",
        "link": "https://stackoverflow.com/users/4976890/neiderer"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 5,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607718975,
      "creation_date": 1607348457,
      "question_id": 65182816,
      "share_link": "https://stackoverflow.com/q/65182816",
      "body_markdown": "when I start neo4j from neo4j-desktop-1.3.11-x86_64.AppImage,\r\nit starts in full screen. I then have to go to Neo4j Browser\r\n(Graph Apps) to File-&gt;Quit to exit.\r\n\r\nI&#39;d like to start the Neo4j Desktop 1.3.11 in normal mode.\r\nWhat should I do so that the desktop does not take the full\r\nscreen.\r\n\r\nThank you.",
      "link": "https://stackoverflow.com/questions/65182816/disable-full-screen-for-neo4j-desktop-1-3-11-x86-64-appimage",
      "title": "disable full screen for neo4j-desktop-1.3.11-x86_64.AppImage"
    },
    {
      "tags": ["neo4j"],
      "owner": {
        "reputation": 183,
        "user_id": 12463260,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
        "display_name": "Filippo Grazioli",
        "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607340738,
      "creation_date": 1607340738,
      "question_id": 65180965,
      "share_link": "https://stackoverflow.com/q/65180965",
      "body_markdown": " - Neo4j version: 4.1.1 (community edition) \r\n - Operating system: DEBIAN 7\r\n - API/Driver: Cypher/Python API/Browser/Desktop (I get the same error\r\n everywhere)\r\n\r\n**Steps to reproduce:** I created several csv files to run neo4j-admin import. I can&#39;t share the files unfortunately. The import runs successfully without errors. In the graph there are: 8 different node labels, 3 relationship types, 700k nodes, 400M relationships. There&#39;s a specific relationship csv file (7 GB), containing 399M relationships out of the total ~400M, which leads to this issue. If I don&#39;t include that file, everything works fine.\r\n\r\nWhen I operate a simple query e.g.\r\n\r\n match path = (h)-[r]-&gt;(t) where ((&#39;Gene&#39; in labels(h)) and (&#39;Gene&#39; in labels(t))) or ((&#39;Gene&#39; in labels(h)) and (&#39;Variant&#39; in labels(t))) return id(h), id(t)\r\n\r\nI obtain the following error:\r\n\r\n&gt; NOT PART OF CHAIN! RelationshipTraversalCursor[id=292159681, open\r\n&gt; state with: denseNode=true, next=292159681, , underlying\r\n&gt; record=Relationship[292159681,used=true,source=137047,target=271310,type=0,sPrev=292159682,sNext=292159680,tPrev=292196972,tNext=292152117,prop=295162289,!sFirst,!tFirst]]\r\n\r\nI also run a consistency check and obtained:\r\n\r\n&gt; Consistency check 2020-12-06 16:35:51.426+0000 ERROR\r\n&gt; [o.n.c.ConsistencyCheckService] The next property record does not have\r\n&gt; this record as its previous record.\r\n&gt; Property[1756984,used=true,prev=-1,next=1703993, (blocks not loaded)]\r\n&gt; Inconsistent with:\r\n&gt; Property[1703993,used=true,prev=1703992,next=1703994, (blocks not\r\n&gt; loaded)] 2020-12-06 16:35:51.446+0000 ERROR\r\n&gt; [o.n.c.ConsistencyCheckService] The referenced property record is not\r\n&gt; the first in its property chain. RecordNodeCursor[id=201948, open\r\n&gt; state with: highMark=-1, next=-1, underlying\r\n&gt; record=Node[201948,used=true,created=false,group=202324,prop=1757084,labels=Inline(0x2000180001:[1,\r\n&gt; 6]),light]] Inconsistent with:\r\n&gt; Property[1757084,used=true,prev=4294902015,next=1757085, (blocks not\r\n&gt; loaded)] 2020-12-06 16:35:51.465+0000 ERROR\r\n&gt; [o.n.c.ConsistencyCheckService] The next property record does not have\r\n&gt; this record as its previous record.\r\n&gt; Property[2300852,used=true,prev=2300851,next=2300853, (blocks not\r\n&gt; loaded)] Inconsistent with:\r\n&gt; Property[2300853,used=true,prev=7092,next=-1, (blocks not loaded)]\r\n&gt; 2020-12-06 16:35:51.764+0000 ERROR [o.n.c.ConsistencyCheckService] The\r\n&gt; property chain contains multiple properties that have the same\r\n&gt; property key id, which means that the entity has at least one\r\n&gt; duplicate property. RecordNodeCursor[id=311733, open state with:\r\n&gt; highMark=-1, next=-1, underlying\r\n&gt; record=Node[311733,used=true,created=false,rel=399531100,prop=1286730,labels=Inline(0x2000100002:[2,\r\n&gt; 4]),light]] 2020-12-06 16:35:51.765+0000 ERROR\r\n&gt; [o.n.c.ConsistencyCheckService] The next property record does not have\r\n&gt; this record as its previous record.\r\n&gt; Property[1290137,used=true,prev=1290136,next=1290140, (blocks not\r\n&gt; loaded)] Inconsistent with:\r\n&gt; Property[1290140,used=true,prev=1245337,next=1290141, (blocks not\r\n&gt; loaded)] Consistency checking failed.Full consistency check did not\r\n&gt; complete\r\n\r\nCan someone please explain what this means? Does it imply something goes wrong in the import?\r\n",
      "link": "https://stackoverflow.com/questions/65180965/neo4j-not-part-of-chain",
      "title": "Neo4j - NOT PART OF CHAIN"
    },
    {
      "tags": ["java", "spring-boot", "neo4j", "spring-data-neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 2516878,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af732fc138edb541520e7fbd165ad303?s=128&d=identicon&r=PG",
        "display_name": "pierr_ick_",
        "link": "https://stackoverflow.com/users/2516878/pierr-ick"
      },
      "last_editor": {
        "reputation": 1,
        "user_id": 2516878,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af732fc138edb541520e7fbd165ad303?s=128&d=identicon&r=PG",
        "display_name": "pierr_ick_",
        "link": "https://stackoverflow.com/users/2516878/pierr-ick"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 30,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607281783,
      "creation_date": 1607281196,
      "last_edit_date": 1607281783,
      "question_id": 65171908,
      "share_link": "https://stackoverflow.com/q/65171908",
      "body_markdown": "I am currently trying Spring Data Neo4j 6 and I encountered an issue while trying to fetch interface-based projections with paginated mechanism\r\n\r\nWhile using List&lt;Test&gt; return in my custom method, it works perfectly fine\r\n\r\n```\r\npublic interface TestRepository extends Neo4jRepository&lt;Test,Long&gt;{\r\n\r\n @Query(value = &quot;MATCH (n:Test) RETURN n SKIP $skip LIMIT $limit&quot;,\r\n countQuery = &quot;MATCH (n:Test) return count(n)&quot;)\r\n public List&lt;TestProjection&gt; findTest(Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nWhile using Page as return type of my custom method : \r\n\r\n```\r\npublic interface TestRepository extends Neo4jRepository&lt;Test,Long&gt;{\r\n\r\n @Query(value = &quot;MATCH (n:Test) RETURN n SKIP $skip LIMIT $limit&quot;,\r\n countQuery = &quot;MATCH (n:Test) return count(n)&quot;)\r\n public Page&lt;TestProjection&gt; findTest(Pageable pageable);\r\n\r\n}\r\n```\r\nIt throws this error :\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nclass java.util.ArrayList cannot be cast to class org.springframework.data.neo4j.repository.query.EntityInstanceWithSource (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; org.springframework.data.neo4j.repository.query.EntityInstanceWithSource is in unnamed module of loader &#39;app&#39;)\r\njava.lang.ClassCastException: class java.util.ArrayList cannot be cast to class org.springframework.data.neo4j.repository.query.EntityInstanceWithSource (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; org.springframework.data.neo4j.repository.query.EntityInstanceWithSource is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.lambda$execute$0(AbstractNeo4jQuery.java:85)\r\n\tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:236)\r\n\tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.lambda$and$0(ResultProcessor.java:222)\r\n\tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:236)\r\n\tat org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:170)\r\n\tat org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:88)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy172.findDatabases(Unknown Source)\r\n\tat com.volvo.cmdb.api.domains.databases.DatabaseServiceImpl.findAllDatabases(DatabaseServiceImpl.java:23)\r\n\tat com.volvo.cmdb.api.controllers.DatabasesController.getDatabases(DatabasesController.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\nI didn&#39;t find any documentation about combining Page and Interface based projections in Spring Data Neo4j 6 guide\r\n\r\nThanks in advance for your help...\r\n\r\n\r\n",
      "link": "https://stackoverflow.com/questions/65171908/spring-data-neo4j-6-projections-and-pagingandsorting-mechanism-are-not-working",
      "title": "Spring Data Neo4j 6 - Projections and PagingAndSorting mechanism are not working together"
    },
    {
      "tags": ["maven", "neo4j", "bitbucket", "bitbucket-pipelines"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 13,
            "user_id": 10929377,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fcd3c324517222efb94d46e942428d28?s=128&d=identicon&r=PG&f=1",
            "display_name": "James Hope",
            "link": "https://stackoverflow.com/users/10929377/james-hope"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1607809139,
          "creation_date": 1607809139,
          "answer_id": 65270080,
          "question_id": 65169967,
          "share_link": "https://stackoverflow.com/a/65270080",
          "body_markdown": "Issue resolved. \r\n\r\nWe needed to \r\n\r\n1. Copy the -jar-with-dependencies from the maven build step. We were copying the thin jar.\r\n\r\n2. Change the POM file as follows as per the neo4j instructions for custom plugins with &lt;scope&gt;&lt;/scope&gt; for the dependencies already provided by neo4j.",
          "link": "https://stackoverflow.com/questions/65169967/unable-to-build-fat-jar-with-dependencies-with-maven-and-bitbucket/65270080#65270080",
          "title": "Unable to build fat jar with dependencies with maven and bitbucket"
        }
      ],
      "owner": {
        "reputation": 13,
        "user_id": 10929377,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/fcd3c324517222efb94d46e942428d28?s=128&d=identicon&r=PG&f=1",
        "display_name": "James Hope",
        "link": "https://stackoverflow.com/users/10929377/james-hope"
      },
      "last_editor": {
        "reputation": 13,
        "user_id": 10929377,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/fcd3c324517222efb94d46e942428d28?s=128&d=identicon&r=PG&f=1",
        "display_name": "James Hope",
        "link": "https://stackoverflow.com/users/10929377/james-hope"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 47,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607809139,
      "creation_date": 1607269709,
      "last_edit_date": 1607274463,
      "question_id": 65169967,
      "share_link": "https://stackoverflow.com/q/65169967",
      "body_markdown": "**What we are trying to do**\r\nWe are attempting to build and deploy a fat jar file (i.e. with all dependencies) using maven and scp all via a bitbucket pipeline but we are getting java.lang.NoClassDefFoundError: okhttp3/OkHttpClient.\r\n\r\n**What is the underlying java plugin supposed to be doing**\r\nThe jar file is a plugin for neo4j which is triggered when a change is made to the database. The plugin creates a json with various database properties, prepares these in json and sends them to another service on the same server using the OkHttpClient.\r\n\r\n**It&#39;s not a permissions issue**\r\nWe run a script on the bitbucket pipeline to ensure that permissions on the jar file are correct. \r\n\r\n**It&#39;s not an endpoint issue**\r\nWe have successfully tested the endpoint to which the OkHttpClient is referring with postman. Both services are running on the same docker-network so there should be no issue with port or http access.\r\n\r\n**Output in the neo4j logs**\r\nWe restart neo4j after a successful deployment and we see that the plugin has been successfully registered. We see that the json is prepared correctly however the plugin fails with the following error:\r\n\r\n```\r\n2020-12-05 16:43:30.121+0000 INFO [o.n.s.AbstractNeoWebServer$ServerComponentsLifecycleAdapter] Web server started.\r\n2020-12-05 16:43:37.318+0000 INFO [c.n.k.i.p.PageCacheWarmer] [london/a225b7b2] Page cache warmup completed. 104622 pages loaded. Duration: 10s 389ms. 10.07 pages/ms\r\n2020-12-05 16:44:10.434+0000 INFO [c.i.n.t.MyTransactionEventListener] [london/a225b7b2] createJsonBody: json: [{&quot;id&quot;:15591428}]\r\n2020-12-05 16:44:10.435+0000 INFO [c.i.n.t.MyTransactionEventListener] [london/a225b7b2] createJsonBody: json: [{&quot;id&quot;:15591428}]\r\n2020-12-05 16:44:10.507+0000 INFO [c.i.n.t.MyTransactionEventListener] [london/a225b7b2] sendJsonToApi: json: [{&quot;id&quot;:15591428}]\r\n2020-12-05 16:44:10.514+0000 ERROR [o.n.b.r.s.i.ErrorReporter] Client triggered an unexpected error [Neo.DatabaseError.General.UnknownError]: okhttp3/OkHttpClient, reference 9a0e0b9c-43ae-4ef5-8fe8-b2bdebba1fd6.\r\n2020-12-05 16:44:10.514+0000 ERROR [o.n.b.r.s.i.ErrorReporter] Client triggered an unexpected error [Neo.DatabaseError.General.UnknownError]: okhttp3/OkHttpClient, reference 9a0e0b9c-43ae-4ef5-8fe8-b2bdebba1fd6.\r\n**java.lang.NoClassDefFoundError: okhttp3/OkHttpClient**\r\n\tat com.ikwattro.neo4j.tx.MyTransactionEventListener.sendJsonToApi(MyTransactionEventListener.java:77) ~[neo4j-tx-listener-1.0-SNAPSHOT.jar:?]\r\n\tat com.ikwattro.neo4j.tx.MyTransactionEventListener.afterCommit(MyTransactionEventListener.java:40) ~[neo4j-tx-listener-1.0-SNAPSHOT.jar:?]\r\n\tat com.ikwattro.neo4j.tx.MyTransactionEventListener.afterCommit(MyTransactionEventListener.java:22) ~[neo4j-tx-listener-1.0-SNAPSHOT.jar:?]\r\n\tat org.neo4j.kernel.internal.event.DatabaseTransactionEventListeners.afterCommit(DatabaseTransactionEventListeners.java:99) ~[neo4j-kernel-4.2.0.jar:4.2.0]\r\n\tat org.neo4j.kernel.impl.api.KernelTransactionImplementation.afterCommit(KernelTransactionImplementation.java:978) ~[neo4j-kernel-4.2.0.jar:4.2.0]\r\n```\r\n\r\n**What we think the issue is** This seems to be suggest to us that the jar is not built by maven with dependencies. \r\n\r\nWe are not sure on how to resolve.\r\n\r\nFurther information.\r\n\r\nThe java file / transaction handler is as follows:\r\n\r\n```\r\npublic class MyTransactionEventListener extends TransactionEventListenerAdapter&lt;Void&gt; {\r\n\r\n private JSONArray json;\r\n private final LogService logsvc;\r\n\r\n public MyTransactionEventListener(GraphDatabaseService graphDatabaseService, LogService logsvc) {\r\n this.logsvc = logsvc;\r\n }\r\n\r\n @Override\r\n public Void beforeCommit(TransactionData data, Transaction transaction, GraphDatabaseService databaseService)\r\n throws Exception {\r\n createJsonBody(data);\r\n return null;\r\n }\r\n\r\n @Override\r\n public void afterCommit(TransactionData td, Void state, GraphDatabaseService db) {\r\n sendJsonToApi();\r\n resetJson();\r\n }\r\n\r\n @Override\r\n public void afterRollback(TransactionData data, Void state, GraphDatabaseService databaseService) {\r\n resetJson();\r\n }\r\n\r\n void resetJson() {\r\n this.json = null;\r\n }\r\n\r\n void createJsonBody(TransactionData td) {\r\n JSONArray json = new JSONArray();\r\n Iterable&lt;Node&gt; nodes = td.createdNodes();\r\n for (Node node : nodes) {\r\n JSONObject nodeJson = new JSONObject();\r\n long id = node.getId();\r\n try {\r\n nodeJson.put(&quot;id&quot;, id);\r\n } catch (JSONException e) {\r\n e.printStackTrace();\r\n }\r\n json.put(nodeJson);\r\n }\r\n\r\n logsvc.getUserLog(MyTransactionEventListener.class).info(&quot;createJsonBody: json: &quot; + json.toString());\r\n this.json = json;\r\n }\r\n\r\n void sendJsonToApi() {\r\n logsvc.getUserLog(MyTransactionEventListener.class).info(&quot;sendJsonToApi: json: &quot; + json.toString());\r\n if (this.json == null)\r\n return;\r\n\r\n try {\r\n OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n RequestBody body = RequestBody.create(json.toString().getBytes(&quot;utf-8&quot;));\r\n Request request = new Request.Builder().url(ENDPOINT).method(&quot;POST&quot;, body)\r\n .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).build();\r\n\r\n Response response = client.newCall(request).execute();\r\n \r\n logsvc.getUserLog(MyTransactionEventListener.class).info(&quot;sendJsonToApi: data should be sent&quot;);\r\n logsvc.getUserLog(MyTransactionEventListener.class).info(&quot;sendJsonToApi: response: &quot; + response.toString());\r\n } catch (Exception e) {\r\n logsvc.getUserLog(MyTransactionEventListener.class).error(&quot;sendJsonToApi: Exception: &quot; + e.toString());\r\n }\r\n }\r\n}\r\n```\r\n\r\n\r\nThe pipeline looks as follows:\r\n\r\n```\r\nimage: maven:3.6.3\r\n\r\npipelines:\r\n default:\r\n - step:\r\n name: Build\r\n caches:\r\n - maven\r\n script: \r\n - mvn clean compile assembly:single\r\n - mvn -B install\r\n artifacts:\r\n - &#39;target/neo4j-tx-listener-1.0-SNAPSHOT.jar&#39;\r\n \r\n - step:\r\n name: Deploy-File\r\n deployment: production\r\n script: \r\n - pipe: atlassian/scp-deploy:0.3.3\r\n variables:\r\n USER: $USER\r\n SERVER: $SERVER\r\n REMOTE_PATH: &#39;/mnt/volume_lon1_01/neo4j/plugins&#39;\r\n LOCAL_PATH: &#39;${BITBUCKET_CLONE_DIR}/target/*&#39;\r\n - pipe: atlassian/ssh-run:0.1.3\r\n variables:\r\n SSH_USER: $USER\r\n SERVER: $SERVER\r\n COMMAND: &#39;chmod 744 /mnt/volume_lon1_01/neo4j/plugins/neo4j-tx-listener-1.0-SNAPSHOT.jar&#39;\r\n ```\r\n\r\nThe POM file is as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n &lt;groupId&gt;com.ikwattro&lt;/groupId&gt;\r\n &lt;artifactId&gt;neo4j-tx-listener&lt;/artifactId&gt;\r\n &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n &lt;properties&gt;\r\n &lt;neo4j.version&gt;4.2.1&lt;/neo4j.version&gt;\r\n &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n &lt;/properties&gt;\r\n\r\n &lt;dependencies&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n &lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n &lt;artifactId&gt;neo4j-kernel&lt;/artifactId&gt;\r\n &lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n &lt;artifactId&gt;neo4j-logging&lt;/artifactId&gt;\r\n &lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n &lt;artifactId&gt;neo4j-kernel&lt;/artifactId&gt;\r\n &lt;type&gt;test-jar&lt;/type&gt;\r\n &lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n &lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n &lt;version&gt;1.4.1&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n &lt;version&gt;4.5.13&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\r\n &lt;version&gt;4.1.4&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n &lt;version&gt;4.5.13&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n &lt;version&gt;4.10.0-RC1&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;/dependencies&gt;\r\n\r\n &lt;build&gt;\r\n\r\n &lt;plugins&gt;\r\n &lt;plugin&gt;\r\n &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n &lt;configuration&gt;\r\n &lt;source&gt;11&lt;/source&gt;\r\n &lt;target&gt;11&lt;/target&gt;\r\n &lt;/configuration&gt;\r\n &lt;/plugin&gt;\r\n\r\n &lt;plugin&gt;\r\n &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n &lt;version&gt;3.3.0&lt;/version&gt;\r\n &lt;configuration&gt;\r\n &lt;descriptorRefs&gt;\r\n &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n &lt;/descriptorRefs&gt;\r\n &lt;/configuration&gt;\r\n &lt;executions&gt;\r\n &lt;execution&gt;\r\n &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n &lt;goals&gt;\r\n &lt;goal&gt;single&lt;/goal&gt;\r\n &lt;/goals&gt;\r\n &lt;/execution&gt;\r\n &lt;/executions&gt;\r\n &lt;/plugin&gt;\r\n\r\n\r\n\r\n &lt;/plugins&gt;\r\n &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAny help would be most appreciated.",
      "link": "https://stackoverflow.com/questions/65169967/unable-to-build-fat-jar-with-dependencies-with-maven-and-bitbucket",
      "title": "Unable to build fat jar with dependencies with maven and bitbucket"
    },
    {
      "tags": ["spring", "spring-boot", "neo4j", "spring-data-neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 53,
            "user_id": 11574676,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128",
            "display_name": "Pustik",
            "link": "https://stackoverflow.com/users/11574676/pustik"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607208420,
          "creation_date": 1607208420,
          "answer_id": 65162771,
          "question_id": 65162636,
          "share_link": "https://stackoverflow.com/a/65162771",
          "body_markdown": "Well,\r\n\r\nIn my case I had to add additional properties to application.properties:\r\n\r\n management.endpoint.health.enabled=true\r\n management.endpoint.health.show-details=ALWAYS\r\n management.health.db.enabled=false",
          "link": "https://stackoverflow.com/questions/65162636/spring-and-neo4j-database-cant-authenticate-user/65162771#65162771",
          "title": "Spring and Neo4j database: Can&#39;t authenticate user"
        }
      ],
      "owner": {
        "reputation": 53,
        "user_id": 11574676,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128",
        "display_name": "Pustik",
        "link": "https://stackoverflow.com/users/11574676/pustik"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607208420,
      "creation_date": 1607207343,
      "question_id": 65162636,
      "share_link": "https://stackoverflow.com/q/65162636",
      "body_markdown": "I have a Spring application with Neo4j. Spring application normally connected to neo4j database. I did everything according to official documentation. But user is unauthenticated and I don&#39;t know why. Can you help me to authentificate user please?\r\n\r\nFor checking authentification I use endpoint: actuator/health.\r\nResponse:\r\n\r\n {\r\n &quot;status&quot;: &quot;UP&quot;\r\n }\r\n\r\nAccording to documentation authentificated user should see sometning like that:\r\n\r\n {\r\n &quot;status&quot;: &quot;UP&quot;,\r\n &quot;details&quot;: {\r\n &quot;neo4j&quot;: {\r\n &quot;status&quot;: &quot;UP&quot;,\r\n &quot;details&quot;: {\r\n &quot;server&quot;: &quot;Neo4j/4.0.0@localhost(127.0.0.1):7687&quot;,\r\n &quot;database&quot;: &quot;neo4j&quot;\r\n }\r\n }\r\n }\r\n }\r\n\r\n\r\nMy gradle dependencies:\r\n\r\n compile &#39;org.neo4j.driver:neo4j-java-driver-spring-boot-starter:4.1.1.0&#39;\r\n compile &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\nMy application.properties\r\n\r\n org.neo4j.driver.uri=bolt://localhost:7687/mydatabase\r\n org.neo4j.driver.authentication.username=neo4j\r\n org.neo4j.driver.authentication.password=123123",
      "link": "https://stackoverflow.com/questions/65162636/spring-and-neo4j-database-cant-authenticate-user",
      "title": "Spring and Neo4j database: Can&#39;t authenticate user"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607192738,
          "post_id": 65153130,
          "comment_id": 115197459,
          "link": "https://stackoverflow.com/questions/65153130/export-dump-database-in-neo4j#comment115197459_65153130"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607712243,
          "creation_date": 1607712243,
          "answer_id": 65256921,
          "question_id": 65153130,
          "share_link": "https://stackoverflow.com/a/65256921",
          "body_markdown": "In Neo4j Desktop 1.3.11 you can click on the dot dot dot in the top right (database must be stopped first), and choose the option *Dump* (my test named the file movie-database-neo4j-2020-12-11T184026.dump)\r\n \r\n[![enter image description here][1]][1]\r\n\r\nNote: You will probably have to search your disk (for *.dump) to find where the files drop, on Macintosh I found them in an unexpected folder location, they were placed with the Project instead of in the database&#39;s dump folder whereI expected them to fall out.\r\n\r\nI found my dumps over in here\r\n[![enter image description here][2]][2]\r\n\r\nI tried changing the config and created data/dumps/ folder in the database area but it still sends them to the project area. YMMV\r\n\r\n\r\n [1]: https://i.stack.imgur.com/xN8Qh.png\r\n [2]: https://i.stack.imgur.com/vzXBs.png",
          "link": "https://stackoverflow.com/questions/65153130/export-dump-database-in-neo4j/65256921#65256921",
          "title": "Export/Dump database in neo4j?"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12785579,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB8ryHHYj1MsMDlOTpS8P8bOI-y7IbYxRrxlqvBmA=k-s128",
        "display_name": "Sergio Esteban",
        "link": "https://stackoverflow.com/users/12785579/sergio-esteban"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 1,
      "is_answered": false,
      "view_count": 23,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607712243,
      "creation_date": 1607134420,
      "question_id": 65153130,
      "share_link": "https://stackoverflow.com/q/65153130",
      "body_markdown": "How can I dump a database in neo4j? \r\nI have tried to follow the recommendations on the website and nothing works.",
      "link": "https://stackoverflow.com/questions/65153130/export-dump-database-in-neo4j",
      "title": "Export/Dump database in neo4j?"
    },
    {
      "tags": ["neo4j", "graphql", "cypher", "grandstack"],
      "comments": [
        {
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1607192812,
          "post_id": 65150834,
          "comment_id": 115197475,
          "link": "https://stackoverflow.com/questions/65150834/set-a-property-during-a-custom-cypher-query#comment115197475_65150834"
        },
        {
          "owner": {
            "reputation": 925,
            "user_id": 7986942,
            "user_type": "registered",
            "accept_rate": 62,
            "profile_image": "https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
            "display_name": "Matt Larson",
            "link": "https://stackoverflow.com/users/7986942/matt-larson"
          },
          "reply_to_user": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607353961,
          "post_id": 65150834,
          "comment_id": 115238768,
          "link": "https://stackoverflow.com/questions/65150834/set-a-property-during-a-custom-cypher-query#comment115238768_65150834"
        }
      ],
      "owner": {
        "reputation": 925,
        "user_id": 7986942,
        "user_type": "registered",
        "accept_rate": 62,
        "profile_image": "https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name": "Matt Larson",
        "link": "https://stackoverflow.com/users/7986942/matt-larson"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 24,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607116508,
      "creation_date": 1607116508,
      "question_id": 65150834,
      "share_link": "https://stackoverflow.com/q/65150834",
      "body_markdown": "Is something like this advisable?\r\n```\r\nGetConversationsByMember(userId: ID!): [Conversation]\r\n @cypher(\r\n statement: &quot;&quot;&quot;\r\n MATCH (u:User {id: $userId})-[:IN_CONVERSATION]-&gt;(c:Conversation)-[:NEWEST_MESSAGE]-&gt;(newestMessage)\r\n SET c.hasReadNewest = EXISTS((u)-[:HAS_READ]-&gt;(newestMessage))\r\n RETURN c\r\n &quot;&quot;&quot;)\r\n```\r\nI have the `hasReadNewest` property on the `Conversation` node and I want to dynamically set it when getting all conversations for a user. Right now I&#39;m running into this error `Neo4jError: Set property for property &#39;hasReadNewest&#39; is not allowed for user &#39;neo4j&#39; with roles [PUBLIC, admin] restricted to READ.` and questioning this approach altogether.",
      "link": "https://stackoverflow.com/questions/65150834/set-a-property-during-a-custom-cypher-query",
      "title": "SET a property during a custom cypher query"
    },
    {
      "tags": ["neo4j", "graphql", "cypher", "apollo"],
      "owner": {
        "reputation": 925,
        "user_id": 7986942,
        "user_type": "registered",
        "accept_rate": 62,
        "profile_image": "https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name": "Matt Larson",
        "link": "https://stackoverflow.com/users/7986942/matt-larson"
      },
      "last_editor": {
        "reputation": 925,
        "user_id": 7986942,
        "user_type": "registered",
        "accept_rate": 62,
        "profile_image": "https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name": "Matt Larson",
        "link": "https://stackoverflow.com/users/7986942/matt-larson"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607110701,
      "creation_date": 1607094742,
      "last_edit_date": 1607110701,
      "question_id": 65146031,
      "share_link": "https://stackoverflow.com/q/65146031",
      "body_markdown": "I have Conversation nodes that have Users and Messages. Users are members of the conversations and the messages are a linked list: Conversation-&gt;[:NEWEST_MESSAGE]-&gt;Message-&gt;[:NEXT_MESSAGE]-&gt;etc. Each conversation can have multiple Users and they can all write messages. Pretty straightforward. I&#39;m attempting to weave in a read status per user per message via a HAS_READ relationship from User. My current custom query statement to get conversations by user with just the newest message:\r\n```\r\nGetConversationsByMember(userId: ID!): [Conversation]\r\n @cypher(\r\n statement: &quot;&quot;&quot;\r\n MATCH (u:User {id: userId})-[:IN_CONVERSATION]-&gt;(c:Conversation)\r\n MATCH (c)-[:NEWEST_MESSAGE]-&gt;(newestMessage)\r\n RETURN c, newestMessage\r\n &quot;&quot;&quot;)\r\n```\r\nSince I have the userId, is there a way to check if `EXISTS((u)-[:HAS_READ]-(m))` and dynamically add that to each message? Or even just add a `hasRead` property to the `Conversation` node based on whether a user HAS_READ the newest message?\r\n\r\nHere is my Conversation type def:\r\n```\r\ntype Conversation {\r\n id: ID!\r\n newestMessage: Message @cypher(statement: &quot;&quot;&quot;\r\n MATCH (c:Conversation {id: this.id})-[:NEWEST_MESSAGE]-&gt;(newestMessage:Message) \r\n RETURN newestMessage\r\n &quot;&quot;&quot;)\r\n messages: [Message] @cypher(statement: &quot;&quot;&quot;\r\n MATCH (c:Conversation {id: this.id})-[:NEWEST_MESSAGE|NEXT_MESSAGE*]-&gt;(message:Message) \r\n RETURN message\r\n &quot;&quot;&quot;)\r\n members: [User] @relation(direction: IN, name: &quot;IN_CONVERSATION&quot;)\r\n owner: User @relation(direction: IN, name: &quot;OWNS&quot;)\r\n createdAt: DateTime!\r\n updatedAt: DateTime!\r\n deletedAt: DateTime\r\n}\r\n```\r\n\r\nand my Message type def:\r\n```\r\ntype Message {\r\n id: ID!\r\n body: String!\r\n user: User @relation(direction: IN, name: &quot;WROTE&quot;)\r\n next: Message @relation(direction: OUT, name: &quot;NEXT_MESSAGE&quot;)\r\n createdAt: DateTime!\r\n updatedAt: DateTime!\r\n deletedAt: DateTime\r\n}\r\n```\r\n\r\nI&#39;m using the GRAND stack, so these are all part of my schema file. ",
      "link": "https://stackoverflow.com/questions/65146031/neo4j-cypher-graphql-match-statement-that-considers-a-has-read-relationship-per",
      "title": "Neo4j/cypher/GraphQL match statement that considers a HAS_READ relationship per User per Message or Conversation"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 2930,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607107021,
          "post_id": 65143834,
          "comment_id": 115177662,
          "link": "https://stackoverflow.com/questions/65143834/neo4j-slow-match-under-unwind#comment115177662_65143834"
        },
        {
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607107608,
          "post_id": 65143834,
          "comment_id": 115177909,
          "link": "https://stackoverflow.com/questions/65143834/neo4j-slow-match-under-unwind#comment115177909_65143834"
        },
        {
          "owner": {
            "reputation": 872,
            "user_id": 1760615,
            "user_type": "registered",
            "accept_rate": 51,
            "profile_image": "https://www.gravatar.com/avatar/1f4024259ceab3bfa03ae7570c5ea17c?s=128&d=identicon&r=PG",
            "display_name": "Lucidnonsense",
            "link": "https://stackoverflow.com/users/1760615/lucidnonsense"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607600079,
          "post_id": 65143834,
          "comment_id": 115326416,
          "link": "https://stackoverflow.com/questions/65143834/neo4j-slow-match-under-unwind#comment115326416_65143834"
        }
      ],
      "owner": {
        "reputation": 872,
        "user_id": 1760615,
        "user_type": "registered",
        "accept_rate": 51,
        "profile_image": "https://www.gravatar.com/avatar/1f4024259ceab3bfa03ae7570c5ea17c?s=128&d=identicon&r=PG",
        "display_name": "Lucidnonsense",
        "link": "https://stackoverflow.com/users/1760615/lucidnonsense"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607085944,
      "creation_date": 1607085944,
      "question_id": 65143834,
      "share_link": "https://stackoverflow.com/q/65143834",
      "body_markdown": "I&#39;m trying to read in a row of data (not from csv but passed as parameters) by unwinding and then merging. It seems that the match part of the query under the unwind is taking a really long time (whereas a simple create is more or less instant). I&#39;m a bit confused because the the match should be fairly quick to run since it can index on the label first. \r\n\r\nHere&#39;s a minimal version of my query (way more data will be input than just an id in real life):\r\n\r\n WITH *, timestamp() as time0\r\n WITH * UNWIND range(0, 9000) as unwound_data0\r\n MERGE (node0:Node {id: unwound_data0}) ON CREATE SET node0.dbcreated = time0\r\n WITH time0, collect(node0) as nodes0\r\n RETURN time0\r\n\r\nIf I simplify it to \r\n\r\n UNWIND range(0, 9000) as unwound_data0\r\n MATCH (node0: Node)\r\n RETURN node0\r\n\r\nIt takes just as long. But if I change match to create, then its very fast.\r\n\r\nAny ideas on how to speed this up?",
      "link": "https://stackoverflow.com/questions/65143834/neo4j-slow-match-under-unwind",
      "title": "Neo4j: Slow match under unwind"
    },
    {
      "tags": ["database", "neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 536,
                "user_id": 196826,
                "user_type": "registered",
                "accept_rate": 63,
                "profile_image": "https://i.stack.imgur.com/jgDDO.jpg?s=128&g=1",
                "display_name": "Blake G",
                "link": "https://stackoverflow.com/users/196826/blake-g"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607233139,
              "post_id": 65149180,
              "comment_id": 115205448,
              "link": "https://stackoverflow.com/questions/65139978/several-neo4j-instances-on-same-server-with-different-uris/65149180#comment115205448_65149180"
            },
            {
              "owner": {
                "reputation": 1121,
                "user_id": 787267,
                "user_type": "registered",
                "accept_rate": 82,
                "profile_image": "https://www.gravatar.com/avatar/3270f948f2b18a4dfb4e057389b9435c?s=128&d=identicon&r=PG",
                "display_name": "user787267",
                "link": "https://stackoverflow.com/users/787267/user787267"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607331926,
              "post_id": 65149180,
              "comment_id": 115228782,
              "link": "https://stackoverflow.com/questions/65139978/several-neo4j-instances-on-same-server-with-different-uris/65149180#comment115228782_65149180"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607108069,
          "creation_date": 1607108069,
          "answer_id": 65149180,
          "question_id": 65139978,
          "share_link": "https://stackoverflow.com/a/65149180",
          "body_markdown": "I do not believe you can do this directly with Neo4j, but I&#39;d be interested in hearing about it, if it is. \r\n\r\nIt should be possible to have a server in front of neo4j that makes it &quot;appear to users&quot; as you suggested by remapping/redirecting incoming connections... (Note: and neo4j still runs on different ports on it&#39;s server)",
          "link": "https://stackoverflow.com/questions/65139978/several-neo4j-instances-on-same-server-with-different-uris/65149180#65149180",
          "title": "Several Neo4J instances on same server with different URI&#39;s"
        }
      ],
      "owner": {
        "reputation": 1121,
        "user_id": 787267,
        "user_type": "registered",
        "accept_rate": 82,
        "profile_image": "https://www.gravatar.com/avatar/3270f948f2b18a4dfb4e057389b9435c?s=128&d=identicon&r=PG",
        "display_name": "user787267",
        "link": "https://stackoverflow.com/users/787267/user787267"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1607108069,
      "creation_date": 1607069274,
      "question_id": 65139978,
      "share_link": "https://stackoverflow.com/q/65139978",
      "body_markdown": "I have a single server at my disposal, and on this same server I need to employ two seperate Neo4J instances (a test instance and a production instance). I know I can have a single instance with several databases as mentioned [in this answer][1], however, I would like Chinese walls between my test and production database (and they may not be configured exactly the same), and so two seperate instances are required. I know I can use different ports for the the two instances so **bolt://neo4j.mydomain.com:7687** maps to the one instance, and **bolt://neo4j.mydomain.com:7688** maps to the other. This works fine - but is it possible to have the two instances on the same port but at a different URI? So for example **bolt://neo4j-prod.mydomain.com:7687** maps to one instance and **bolt://neo4j-test.mydomain.com:7687** maps to the other? This is very common for web servers by using the hostname requested, so I would think it should be simple to do the same for other ressources even if they do not use the HTTP protocol. What I don&#39;t like about the double port solution is that it is very easy to forget which is test and which is production, and explicit is better than implicit.\r\n\r\n\r\n [1]: https://stackoverflow.com/q/25659378/787267",
      "link": "https://stackoverflow.com/questions/65139978/several-neo4j-instances-on-same-server-with-different-uris",
      "title": "Several Neo4J instances on same server with different URI&#39;s"
    },
    {
      "tags": ["c#", "neo4j", "neo4jclient"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 629,
                "user_id": 2963755,
                "user_type": "registered",
                "accept_rate": 84,
                "profile_image": "https://www.gravatar.com/avatar/cad00d08e68018db8b2c423beb946e1f?s=128&d=identicon&r=PG&f=1",
                "display_name": "TobiasW",
                "link": "https://stackoverflow.com/users/2963755/tobiasw"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607404971,
              "post_id": 65143329,
              "comment_id": 115255189,
              "link": "https://stackoverflow.com/questions/65138622/how-to-handle-the-new-connectasync-api-c-neo4jclient/65143329#comment115255189_65143329"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 5880,
            "user_id": 2266,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
            "display_name": "Chris Skardon",
            "link": "https://stackoverflow.com/users/2266/chris-skardon"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607083901,
          "creation_date": 1607083901,
          "answer_id": 65143329,
          "question_id": 65138622,
          "share_link": "https://stackoverflow.com/a/65143329",
          "body_markdown": "In your constructor, you would do:\r\n\r\n```\r\nvar task = this.client.ConnectAsync();\r\ntask.Wait();\r\n```\r\n\r\nOr you can do:\r\n\r\n```\r\nthis.client.ConnectAsync().Wait();\r\n```\r\n\r\nA couple of things extra, the `GraphClient` you are injecting should really be an `IGraphClient` - this will make it easier for you if you decide to change to a Bolt version later on. \r\n\r\nThe other, more important thing, is that the server injecting it, should have already done the `ConnectAsync` bit - you only want to call that once, and if it&#39;s injected into multiple classes, it&#39;ll be called more than once.\r\n\r\n",
          "link": "https://stackoverflow.com/questions/65138622/how-to-handle-the-new-connectasync-api-c-neo4jclient/65143329#65143329",
          "title": "How to handle the new ConnectAsync API (C# Neo4jClient)"
        }
      ],
      "owner": {
        "reputation": 629,
        "user_id": 2963755,
        "user_type": "registered",
        "accept_rate": 84,
        "profile_image": "https://www.gravatar.com/avatar/cad00d08e68018db8b2c423beb946e1f?s=128&d=identicon&r=PG&f=1",
        "display_name": "TobiasW",
        "link": "https://stackoverflow.com/users/2963755/tobiasw"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65143329,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607083901,
      "creation_date": 1607061299,
      "question_id": 65138622,
      "share_link": "https://stackoverflow.com/q/65138622",
      "body_markdown": "I updated the Neo4JClient to the version 4.x which included refactoring from `client.Connect();` to `client.ConnectAsync()`. The controller which connects to neo4j is getting instantiated when a request to the api is made, so there is not much time between connecting and using the connection. The async connecting so my guess runs me in the problem, that the client is not connected when I&#39;m already making database requests. I tried to fix this with awaiting the `ResultsAsync` which didn&#39;t fix the problem. Currently there is no documentation existing since it&#39;s outdated. Here is my Code :\r\n\r\n```\r\n // The client is getting injected from my server\r\n public MyService(GraphClient client)\r\n {\r\n this.client = client;\r\n this.client.ConnectAsync();\r\n }\r\n\r\n public async Task&lt;bool&gt; Login(string username, string password)\r\n {\r\n var query = client.Cypher\r\n .Match(&quot;(n)&quot;)\r\n .Where(&quot;n.username = &#39;&quot; + username + &quot;&#39; AND n.password = &#39;&quot; + password + &quot;&#39;&quot;)\r\n .Return(n =&gt; n.As&lt;User&gt;());\r\n\r\n var queryResult = await query.ResultsAsync;\r\n return queryResult.ToList().Count == 1;\r\n }\r\n```",
      "link": "https://stackoverflow.com/questions/65138622/how-to-handle-the-new-connectasync-api-c-neo4jclient",
      "title": "How to handle the new ConnectAsync API (C# Neo4jClient)"
    },
    {
      "tags": ["csv", "neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 6911034,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2b40e1411a4f0f4f68f4b838470a255e?s=128&d=identicon&r=PG&f=1",
                "display_name": "NumbersGal",
                "link": "https://stackoverflow.com/users/6911034/numbersgal"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607247468,
              "post_id": 65149267,
              "comment_id": 115207791,
              "link": "https://stackoverflow.com/questions/65137181/how-do-i-load-a-csv-file-in-neo4j-v4-1-3/65149267#comment115207791_65149267"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607108531,
          "creation_date": 1607108531,
          "answer_id": 65149267,
          "question_id": 65137181,
          "share_link": "https://stackoverflow.com/a/65149267",
          "body_markdown": "In short, neo4j looks in the /import folder for files (security reasons), and by default does not allow any other paths, more on that [here][1]\r\n\r\nNote: it would be helpful if you add information about how you are running neo4j (from neo4j desktop client?), and where you are running the load csv command (desktop client or browser?) \r\n\r\n\r\n [1]: https://neo4j.com/docs/cypher-manual/current/clauses/load-csv/",
          "link": "https://stackoverflow.com/questions/65137181/how-do-i-load-a-csv-file-in-neo4j-v4-1-3/65149267#65149267",
          "title": "How do I load a csv file in neo4j v4.1.3"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 6911034,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2b40e1411a4f0f4f68f4b838470a255e?s=128&d=identicon&r=PG&f=1",
        "display_name": "NumbersGal",
        "link": "https://stackoverflow.com/users/6911034/numbersgal"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 2,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": -2,
      "last_activity_date": 1607108531,
      "creation_date": 1607049815,
      "question_id": 65137181,
      "share_link": "https://stackoverflow.com/q/65137181",
      "body_markdown": "I have code\r\n LOAD CSV FROM `file:///DepartmentsHeadless.csv` AS row\r\n WITH toInteger(row[2]) AS DeptChair, row[1] AS DeptName, (row[0]) AS DeptPrefix\r\n RETURN DeptPrefix, DeptName, DeptChair\r\n\r\nand have tried surrounding the file:///.....csv with backticks, single quotes and double quotes and get the message that &quot;couldn&#39;t load the external resource at file:/C:/..... with correct path all the way to the file which is in my import folder.\r\nSometimes (with back ticks) I get: Variable `file:///DepartmentsHeadless.csv` not defined (line 1, column 15 (offset: 14))\r\n&quot;LOAD CSV FROM `file:///DepartmentsHeadless.csv` AS row&quot;",
      "link": "https://stackoverflow.com/questions/65137181/how-do-i-load-a-csv-file-in-neo4j-v4-1-3",
      "title": "How do I load a csv file in neo4j v4.1.3"
    },
    {
      "tags": ["node.js", "heroku", "neo4j", "database-migration", "graphenedb"],
      "owner": {
        "reputation": 75,
        "user_id": 6607949,
        "user_type": "registered",
        "accept_rate": 80,
        "profile_image": "https://www.gravatar.com/avatar/7bd64fcf41346f43aac1a2dbc41441e9?s=128&d=identicon&r=PG&f=1",
        "display_name": "Alex17",
        "link": "https://stackoverflow.com/users/6607949/alex17"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607038937,
      "creation_date": 1607038937,
      "question_id": 65135866,
      "share_link": "https://stackoverflow.com/q/65135866",
      "body_markdown": "Graphenedb is closing their free hobby tier on Heroku. My application is too small to warrant the minimum subscription of $50 per month they&#39;re requiring going forward. Does anyone have any experience using an alternative graph database with heroku that would be easy to migrate to?\r\n",
      "link": "https://stackoverflow.com/questions/65135866/shutdown-of-graphenedb-s-heroku-add-on-on-january-14-2021",
      "title": "Shutdown of GrapheneDB’s Heroku Add-on on January 14, 2021"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 14758000,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/c3475849594b4cd43aea46a81cbd9807?s=128&d=identicon&r=PG&f=1",
                "display_name": "Peace",
                "link": "https://stackoverflow.com/users/14758000/peace"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1607351336,
              "post_id": 65149725,
              "comment_id": 115237360,
              "link": "https://stackoverflow.com/questions/65130853/neo4j-4-1-3-how-to-create-relationship-on-the-fly-when-match-returns-exactly/65149725#comment115237360_65149725"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607110863,
          "creation_date": 1607110863,
          "answer_id": 65149725,
          "question_id": 65130853,
          "share_link": "https://stackoverflow.com/a/65149725",
          "body_markdown": "Run this\r\n\r\n MATCH (echk:REC {id: &#39;abcdef&#39;})\r\n OPTIONAL MATCH (p:Person) WHERE p.name CONTAINS &#39;Shirley&#39; \r\n RETURN p, echk, count(p) as personcnt \r\n\r\nand you&#39;ll see why all 33 are created. \r\n\r\nIf there can only be one match, I suggest trying to find the &quot;one&quot; Shirley first, if they don&#39;t exist you are done, if more than one you are done. If and only if only one match returns, then continue on to match with &#39;abcdef&#39; and do the merge.",
          "link": "https://stackoverflow.com/questions/65130853/neo4j-4-1-3-how-to-create-relationship-on-the-fly-when-match-returns-exactly/65149725#65149725",
          "title": "Neo4j (4.1.3) : How to create relationship on the fly when match returns exactly one row for one label"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 1,
            "user_id": 14758000,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c3475849594b4cd43aea46a81cbd9807?s=128&d=identicon&r=PG&f=1",
            "display_name": "Peace",
            "link": "https://stackoverflow.com/users/14758000/peace"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1607351661,
          "creation_date": 1607351661,
          "answer_id": 65183707,
          "question_id": 65130853,
          "share_link": "https://stackoverflow.com/a/65183707",
          "body_markdown": "If I have both p and count(p) in the WITH, I always get 1 for count(p) which makes sense. So I have changed my query as below to make this to work:\r\n```\r\nOPTIONAL MATCH (p:Person) WHERE p.name CONTAINS &#39;Shirley&#39;\r\nWITH count(p) AS cnt WHERE cnt = 1\r\n MATCH (echk:REC {id: &#39;abcdef&#39;})\r\n MATCH (p:Person) where p.name contains &#39;Shirley&#39;\r\n CALL apoc.merge.relationship(p, &#39;Test&#39;, {}, {}, echk, {}) yield rel\r\n```\r\nI have now added this to my cypher logic to create dynamic relationship and it works as expected. Hopefully this helps someone at a later date.",
          "link": "https://stackoverflow.com/questions/65130853/neo4j-4-1-3-how-to-create-relationship-on-the-fly-when-match-returns-exactly/65183707#65183707",
          "title": "Neo4j (4.1.3) : How to create relationship on the fly when match returns exactly one row for one label"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 14758000,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/c3475849594b4cd43aea46a81cbd9807?s=128&d=identicon&r=PG&f=1",
        "display_name": "Peace",
        "link": "https://stackoverflow.com/users/14758000/peace"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 28,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1607351661,
      "creation_date": 1607015854,
      "question_id": 65130853,
      "share_link": "https://stackoverflow.com/q/65130853",
      "body_markdown": "I am using neo4j 4.1.3. I have 2 labels : Person and Rec. I need to create a relationship between these 2 only when there exists exactly one person with that last name. When I run the below, relationships are created for all persons with that last name. My code is below:\r\n```\r\nMATCH (echk:REC {id: &#39;abcdef&#39;})\r\nOPTIONAL MATCH (p:Person) WHERE p.name CONTAINS &#39;Shirley&#39; \r\nWITH p, echk, count(p) as personcnt \r\nwhere personcnt=1\r\nCALL apoc.merge.relationship(p, &#39;Test&#39;, {}, {}, echk, {}) YIELD rel\r\nRETURN p, echk, rel\r\n```\r\nI have 33 people with &quot;Shirley&#39; and 33 relationships are getting created with that REC. However, there should be no relationship.",
      "link": "https://stackoverflow.com/questions/65130853/neo4j-4-1-3-how-to-create-relationship-on-the-fly-when-match-returns-exactly",
      "title": "Neo4j (4.1.3) : How to create relationship on the fly when match returns exactly one row for one label"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607111154,
          "post_id": 65130292,
          "comment_id": 115179264,
          "link": "https://stackoverflow.com/questions/65130292/cypher-path-thorugh-only-list-of-nodes#comment115179264_65130292"
        },
        {
          "owner": {
            "reputation": 21,
            "user_id": 7346083,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ca11a47dffddf9d7a09cb5fefb59bee9?s=128&d=identicon&r=PG&f=1",
            "display_name": "Yoni S",
            "link": "https://stackoverflow.com/users/7346083/yoni-s"
          },
          "reply_to_user": {
            "reputation": 76,
            "user_id": 12642133,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name": "plastic",
            "link": "https://stackoverflow.com/users/12642133/plastic"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607244089,
          "post_id": 65130292,
          "comment_id": 115207097,
          "link": "https://stackoverflow.com/questions/65130292/cypher-path-thorugh-only-list-of-nodes#comment115207097_65130292"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 21,
            "user_id": 7346083,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ca11a47dffddf9d7a09cb5fefb59bee9?s=128&d=identicon&r=PG&f=1",
            "display_name": "Yoni S",
            "link": "https://stackoverflow.com/users/7346083/yoni-s"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607269622,
          "creation_date": 1607269622,
          "answer_id": 65169945,
          "question_id": 65130292,
          "share_link": "https://stackoverflow.com/a/65169945",
          "body_markdown": "I managed to do it with the following query:\r\n```\r\nMATCH (n:START)&lt;-[:PART_OF]-(reg:Region)&lt;-[:DEPENDS_ON]-(nd:END)\r\nWHERE reg.name &lt;&gt; &quot;a&quot; AND reg.name &lt;&gt; &quot;b&quot;\r\nWITH COLLECT(nd) as unaffected\r\nMATCH (affected:END)\r\nWHERE NOT affected in unaffected\r\nRETURN affected\r\n```",
          "link": "https://stackoverflow.com/questions/65130292/cypher-path-thorugh-only-list-of-nodes/65169945#65169945",
          "title": "Cypher path thorugh only list of nodes"
        }
      ],
      "owner": {
        "reputation": 21,
        "user_id": 7346083,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ca11a47dffddf9d7a09cb5fefb59bee9?s=128&d=identicon&r=PG&f=1",
        "display_name": "Yoni S",
        "link": "https://stackoverflow.com/users/7346083/yoni-s"
      },
      "last_editor": {
        "reputation": 21,
        "user_id": 7346083,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ca11a47dffddf9d7a09cb5fefb59bee9?s=128&d=identicon&r=PG&f=1",
        "display_name": "Yoni S",
        "link": "https://stackoverflow.com/users/7346083/yoni-s"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 28,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 65169945,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1607269622,
      "creation_date": 1607013898,
      "last_edit_date": 1607244071,
      "question_id": 65130292,
      "share_link": "https://stackoverflow.com/q/65130292",
      "body_markdown": "I&#39;m using cypher and I need to build a query that returns paths that go from node &#39;START&#39; to node &#39;END&#39; only through specified nodes of type &#39;REGION&#39;, as in the picture: \r\n\r\n[Example][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/PA79y.png\r\n\r\nFor example I want to get the paths that go only through node &#39;a&#39; and &#39;b&#39;, so I should get back &#39;Only 1&#39; and &#39;Only 2&#39;, and not &#39;Only 3&#39; as it can go through &#39;c&#39;.\r\nMy problem is to find a simple way to create a path without specifying which nodes to exclude.\r\n\r\nThe script I used to create the graph:\r\n\r\n```\r\nMERGE (st:START)\r\nMERGE (nd1:END {name: &quot;Only 1&quot;})\r\nMERGE (nd2:END {name: &quot;Only 2&quot;})\r\nMERGE (nd3:END {name: &quot;Only 3&quot;})\r\nMERGE (nd4:END {name: &quot;Other 2&quot;})\r\n\r\nMERGE (a:Region {name: &quot;a&quot;})\r\nMERGE (b:Region {name: &quot;b&quot;})\r\nMERGE (c:Region {name: &quot;c&quot;})\r\nMERGE (d:Region {name: &quot;d&quot;})\r\n\r\nMERGE (st)&lt;-[:PART_OF]-(a)\r\nMERGE (st)&lt;-[:PART_OF]-(b)\r\nMERGE (st)&lt;-[:PART_OF]-(c)\r\nMERGE (st)&lt;-[:PART_OF]-(d)\r\n\r\nMERGE (a)&lt;-[:DEPENDS_ON]-(nd1)\r\n\r\nMERGE (a)&lt;-[:DEPENDS_ON]-(nd2)\r\nMERGE (b)&lt;-[:DEPENDS_ON]-(nd2)\r\n\r\nMERGE (a)&lt;-[:DEPENDS_ON]-(nd3)\r\nMERGE (b)&lt;-[:DEPENDS_ON]-(nd3)\r\nMERGE (c)&lt;-[:DEPENDS_ON]-(nd3)\r\n\r\nMERGE (a)&lt;-[:DEPENDS_ON]-(nd4)\r\nMERGE (c)&lt;-[:DEPENDS_ON]-(nd4)\r\n```\r\n\r\nThanks.",
      "link": "https://stackoverflow.com/questions/65130292/cypher-path-thorugh-only-list-of-nodes",
      "title": "Cypher path thorugh only list of nodes"
    },
    {
      "tags": ["neo4j", "shortest-path"],
      "comments": [
        {
          "owner": {
            "reputation": 536,
            "user_id": 196826,
            "user_type": "registered",
            "accept_rate": 63,
            "profile_image": "https://i.stack.imgur.com/jgDDO.jpg?s=128&g=1",
            "display_name": "Blake G",
            "link": "https://stackoverflow.com/users/196826/blake-g"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607233376,
          "post_id": 65122008,
          "comment_id": 115205488,
          "link": "https://stackoverflow.com/questions/65122008/shortest-path-neo4j-query#comment115205488_65122008"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 9284774,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/10208987597407030/picture?type=large",
        "display_name": "Igor Betkier",
        "link": "https://stackoverflow.com/users/9284774/igor-betkier"
      },
      "last_editor": {
        "reputation": 3,
        "user_id": 9284774,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/10208987597407030/picture?type=large",
        "display_name": "Igor Betkier",
        "link": "https://stackoverflow.com/users/9284774/igor-betkier"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 35,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1607323750,
      "creation_date": 1606982874,
      "last_edit_date": 1607323750,
      "question_id": 65122008,
      "share_link": "https://stackoverflow.com/q/65122008",
      "body_markdown": "I have the network with (n:Nodes) and (r:Roads) with [:STARTS] and [:ENDS] rels (without any properties). The reason of this structure is adding objects like bridges, overpasses etc. to the r:Roads as another type of nodes. Because of that all of roads parameters are r:Roads properties:\r\n```\r\n{\r\n &quot;identity&quot;: 403,\r\n &quot;labels&quot;: [\r\n &quot;Road&quot;\r\n ],\r\n &quot;properties&quot;: {\r\n&quot;maxAxleLoad&quot;: 115.0,\r\n&quot;kmRange&quot;: [\r\n 552.905,\r\n 561.716\r\n ],\r\n&quot;width&quot;: 7000,\r\n&quot;numbers&quot;: [\r\n &quot;S8&quot;\r\n ],\r\n&quot;name&quot;: &quot;Gr. Woj. - Ostr&#243;w Mazowiecka&quot;,\r\n&quot;trafficFactor&quot;: 1.1313,\r\n&quot;lines&quot;: 2,\r\n&quot;type&quot;: &quot;S&quot;,\r\n&quot;direction&quot;: &quot;ONE_WAY&quot;\r\n }\r\n}\r\n```\r\nTo evaluate which roads are passable I validate each of them and save IDs of these roads into a list (ommitedNode). After that, I request neo4j to build the shortest path by query without the impassable roads:\r\n\r\n```\r\nMATCH p=shortestPath((n1:Node)-[:STARTS|:ENDS*]-(n2:Node)) WHERE ID(n1) = 225 \r\nAND ID(n2) = 365 AND ALL (omittedNode in nodes(p) \r\nWHERE NOT id(omittedNode) in [202, 276, 309, 312, 313, 328, 494, 523, 527, \r\n563, 582, 586, 587, 594, 704, 731]) \r\nAND LENGTH(p) &gt; 0 UNWIND nodes(p) as nod RETURN nod as nod, ID(nod) as identity,\r\nhead(labels(nod)) as type, nod.trafficFactor as trafficFactor, nod.latitude as latitude, \r\nnod.longitude as longitude, nod.kmRange as kmRange, \r\nnod.direction as direction\r\n```\r\nOf course the result based on the number of rels, but to use the neo4j technology I decided to find all of shortest path under f.e. 200 number of rels, collect them into a list and calculate their real length and directionaly correctness in Python later. Ok, so the query works and show me the shortest path like that:\r\n\r\n[The shortest path][1]\r\n\r\nAfter that I change the LENGTH(p) to lenght of the last shortest path to build another one, but longer. When neo4j reaches the specific point f.e. LENGTH(p) = 110 the neo4j not respond for the shortest path query at all (like on the picture):\r\n\r\n[Incessant calculating][2]\r\n\r\nMy questions are following:\r\n1. Why neo4j not respond after a few of queries? The graph have about 7000 elements, but 347 nodes and 488 roads, so it seems that is not a complexed structure. Is it problem with a query or maybe computing capabilities of cloud server 1 x 2GHz?\r\n2. Why allShortestPaths query with LENGTH(p) &gt; value respond only once (or not once) and calculating incessantly after using higher value?\r\n3. What is in the situation when 2 or more shortest paths have the same length, but I would like to find them by using the shortestpath query?\r\n\r\nGenerally, I would like to find all of the shortest paths without specific r:Roads and shorter then f.e. 200 number of rels into my network and I don&#39;t know how to do it correctly.\r\n\r\n\r\n [1]: https://i.stack.imgur.com/xuSMs.png\r\n [2]: https://i.stack.imgur.com/UtCai.png",
      "link": "https://stackoverflow.com/questions/65122008/shortest-path-neo4j-query",
      "title": "Shortest path neo4j query"
    },
    {
      "tags": ["apache-kafka", "neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 14752973,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-ciGVXNNwtEs/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmdelV6nc3eYtKVzB5NSernofh2tg/s96-c/photo.jpg?sz=128",
        "display_name": "Ant",
        "link": "https://stackoverflow.com/users/14752973/ant"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606961762,
      "creation_date": 1606961762,
      "question_id": 65118926,
      "share_link": "https://stackoverflow.com/q/65118926",
      "body_markdown": "I am converting batch processed Neo4j data loading to one that does data ingestion streaming from Kafka to Neo4j, using the Kafka connect Neo4j plugin. I am currently attempting to use the [CUD file format.][1]\r\n\r\nI have a statement in cypher that is part of the larger batch process that creates a relationship between an entity labeled SourceReference to an entity labeled Datasource, using what, in SQL-ese is a link table. This link table entity has a label of SourceLink. \r\n\r\nThe cypher, which works fine when run from the Neo4j browser, or the cypher-shell CLI, looks like this:\r\n```\r\nMATCH (a:SourceReference)\r\nWITH a\r\nMATCH (x:SourceLink)\r\nWHERE a.id = x.linkID\r\nMATCH (b:Datasource)\r\nWHERE b.id = x.id\r\nCREATE (a)-[:REFERENCES {\r\n\tid:x.id,\r\n\tlinkID:x.linkID,\r\n\tlinkType:x.linkType,\r\n\treferenceType:x.referenceType}]-&gt;(b);\r\n```\r\n\r\nCan such a create statement be done using the CUD format? Or any format that the connector uses for that matter?\r\n\r\nIn addition to the link table problem, I also see a potential problem with the blanket WHERE clause, which can match thousands of records. I&#39;ve been fine in the past doing that, because I&#39;ve been batch loading the records and running the cypher during post processing. But that seems to fly in the face of the streaming paradigm.\r\n\r\nHow can I solve this problem? Am I envisioning the solutions all wrong, given that I&#39;m coming from a SQL, batch processing background? \r\n\r\nI appreciate any enlightenment.\r\n\r\nThanks,\r\nAnt\r\n\r\n\r\n [1]: https://neo4j.com/labs/kafka/4.0/kafka-connect/",
      "link": "https://stackoverflow.com/questions/65118926/kafka-to-neo4j-using-the-kafka-connect-plugin-creating-a-link-table-relation",
      "title": "kafka to neo4j using the Kafka Connect Plugin : creating a &quot;link table&quot; relationship using the CUD format?"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 85,
            "user_id": 6303265,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/p2fcK.jpg?s=128&g=1",
            "display_name": "Edoardo Vignati",
            "link": "https://stackoverflow.com/users/6303265/edoardo-vignati"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606948338,
          "creation_date": 1606948338,
          "answer_id": 65117138,
          "question_id": 65116456,
          "share_link": "https://stackoverflow.com/a/65117138",
          "body_markdown": "Finally I found the line causing the exception. \r\n\r\nThe exception cause was correct but the number of the line was totally wrong. \r\n\r\nI pointed out it by adding the following flag ```--multiline-fields=true``` to the ```neo4j-admin import``` command.",
          "link": "https://stackoverflow.com/questions/65116456/neo4j-admin-import-multi-line-fields-are-illegal/65117138#65117138",
          "title": "neo4j-admin import &quot;Multi-line fields are illegal&quot;"
        }
      ],
      "owner": {
        "reputation": 85,
        "user_id": 6303265,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/p2fcK.jpg?s=128&g=1",
        "display_name": "Edoardo Vignati",
        "link": "https://stackoverflow.com/users/6303265/edoardo-vignati"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606948338,
      "creation_date": 1606944707,
      "question_id": 65116456,
      "share_link": "https://stackoverflow.com/q/65116456",
      "body_markdown": "I&#39;m getting the following error in Neo4j community 4.1.2 using the neo4-admin import tool.\r\n\r\n```\r\nCaused by:ERROR in input\r\n data source: BufferedCharSeeker[source:/home/ubuntu/workspace/neo4j-community-4.1.2/bin/../import/nodes.csv, position:24455, line:359]\r\n in field: code:string:6\r\n for header: [id:ID, labels:LABEL, type:string, flags:string, lineno:string, code:string, childnum:string, funcid:string, classname:string, namespace:string, endlineno:string, name:string, doccomment:string]\r\n raw field value: 402\r\n original error: At /home/ubuntu/workspace/neo4j-community-4.1.2/bin/../import/nodes.csv @ position 24455 - Multi-line fields are illegal in this context and so this might suggest that there&#39;s a field with a start quote, but a missing end quote. See /home/ubuntu/workspace/neo4j-community-4.1.2/bin/../import/nodes.csv @ position 24455.\r\n```\r\n\r\nI checked each single byte with hexedit:\r\n- the line #359 \r\n- the char #24455\r\n- the line #358\r\n- the line #360\r\n\r\n```\r\n357,AST,string,,34,&quot;/load.php&quot;,1,310,,&quot;&quot;,,,\r\n358,AST,AST_CALL,,37,,9,310,,&quot;&quot;,,,\r\n359,AST,AST_NAME,NAME_NOT_FQ,37,,0,310,,&quot;&quot;,,,\r\n360,AST,string,,37,&quot;wp_check_php_mysql_versions&quot;,0,310,,&quot;&quot;,,,\r\n361,AST,AST_ARG_LIST,,37,,1,310,,&quot;&quot;,,,\r\n362,AST,AST_INCLUDE_OR_EVAL,EXEC_REQUIRE,40,,10,310,,&quot;&quot;,,,\r\n```\r\n\r\n\r\nThis is the absurd situation:\r\n- no multi-line fields are present\r\n- no special char are present\r\n- no extra 0A byte\r\n- no extra &quot;start quote&quot; without its relative &quot;end quote&quot;\r\n\r\nI found some issues on Github but are referred to old versions of Neo4j...what can be the reason?",
      "link": "https://stackoverflow.com/questions/65116456/neo4j-admin-import-multi-line-fields-are-illegal",
      "title": "neo4j-admin import &quot;Multi-line fields are illegal&quot;"
    },
    {
      "tags": ["neo4j", "cypher", "query-optimization"],
      "comments": [
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606927764,
          "post_id": 65109847,
          "comment_id": 115113305,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115113305_65109847"
        },
        {
          "owner": {
            "reputation": 3,
            "user_id": 7931491,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
            "display_name": "Julian",
            "link": "https://stackoverflow.com/users/7931491/julian"
          },
          "reply_to_user": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606928912,
          "post_id": 65109847,
          "comment_id": 115113904,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115113904_65109847"
        },
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606929007,
          "post_id": 65109847,
          "comment_id": 115113946,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115113946_65109847"
        },
        {
          "owner": {
            "reputation": 3,
            "user_id": 7931491,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
            "display_name": "Julian",
            "link": "https://stackoverflow.com/users/7931491/julian"
          },
          "reply_to_user": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606932200,
          "post_id": 65109847,
          "comment_id": 115115440,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115115440_65109847"
        },
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606934016,
          "post_id": 65109847,
          "comment_id": 115116209,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115116209_65109847"
        },
        {
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606934275,
          "post_id": 65109847,
          "comment_id": 115116318,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115116318_65109847"
        },
        {
          "owner": {
            "reputation": 3,
            "user_id": 7931491,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
            "display_name": "Julian",
            "link": "https://stackoverflow.com/users/7931491/julian"
          },
          "reply_to_user": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606985199,
          "post_id": 65109847,
          "comment_id": 115131044,
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query#comment115131044_65109847"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 3,
                "user_id": 7931491,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
                "display_name": "Julian",
                "link": "https://stackoverflow.com/users/7931491/julian"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606985854,
              "post_id": 65112855,
              "comment_id": 115131331,
              "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query/65112855#comment115131331_65112855"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "last_editor": {
            "reputation": 540,
            "user_id": 1379830,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fd41a2dab9d5534d4d1fd89b2eb11499?s=128&d=identicon&r=PG",
            "display_name": "Adrian Keister",
            "link": "https://stackoverflow.com/users/1379830/adrian-keister"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606934030,
          "last_edit_date": 1606934030,
          "creation_date": 1606929021,
          "answer_id": 65112855,
          "question_id": 65109847,
          "share_link": "https://stackoverflow.com/a/65112855",
          "body_markdown": "I strongly recommend that you come up with a node property that is guaranteed to be the same on all the nodes in a contiguous tree, if you don&#39;t have one already. I&#39;ll call that property `same_prop`. Here&#39;s what I do to run queries like the one you&#39;re running:\r\n\r\n 1. Index `same_prop`. If you have different node labels, then you need this index created for each different node label you expect to have in the tree. \r\n`CREATE INDEX samepropnode FOR (n:your_label) ON (n.same_prop)`\r\nis the kind of thing you need in Neo4j 4+. In Neo4j, indices are cheap, and can sometimes speed up queries quite a bit.\r\n\r\n 2. Collect all possible values of `same_prop` and store them in a text file (I use tab-separated values as safer than comma-separated values). \r\n\r\n 3. Use the Python driver, or your language of choice that has a Neo4j driver written (strongly recommend Neo4j-provided drivers, not third-party) to write wrapper code that executes a Cypher query something like this:\r\n```\r\nMATCH (p)--&gt;(c)\r\nUSING INDEX p:your_label(same_prop)\r\nWHERE p.same_prop IN [ same_prop_list ]\r\nRETURN DISTINCT\r\n p.datapiece1 AS `first_parent_datapiece`,\r\n p.datapiecen AS `nth_parent_datapiece`,\r\n c.datapiece1 AS `first_child_datapiece`,\r\n c.datapiecen AS `nth_child_datapiece`\r\n```\r\nIt&#39;s not a good idea, in general, to return nodes and relationships unless you&#39;re debugging. \r\n\r\nThen in your Python (for example) code, you&#39;re simply going to read in all your `same_prop` values from the file you got in Step 2, chunk up the values in reasonable size chunks, maybe 1,000 or 10,000, and substitute them in for the `[ same_prop_list ]` in the Cypher query on-the-fly. ",
          "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query/65112855#65112855",
          "title": "How optimised is this Cypher query?"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 7931491,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
        "display_name": "Julian",
        "link": "https://stackoverflow.com/users/7931491/julian"
      },
      "last_editor": {
        "reputation": 3,
        "user_id": 7931491,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/9ec427fcd98c4067bc82d9e410d1534c?s=128&d=identicon&r=PG&f=1",
        "display_name": "Julian",
        "link": "https://stackoverflow.com/users/7931491/julian"
      },
      "comment_count": 7,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 32,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606934030,
      "creation_date": 1606918573,
      "last_edit_date": 1606932405,
      "question_id": 65109847,
      "share_link": "https://stackoverflow.com/q/65109847",
      "body_markdown": "[Edit] I&#39;m using Neo4j 4.2.1\r\n\r\nI have this need for a Cypher query that brings back a complete tree given its root node. All nodes and relationships must be fetched and present only once in the returned sets. Here&#39;s what I have come to:\r\n\r\n MATCH p = (n)-[*..]-&gt;(m)\r\n WHERE id(n) = 0\r\n WITH relationships(p) AS r\r\n WITH distinct last(r) as rel\r\n WITH [node IN [startNode(rel), endNode(rel)] | node] AS tmp, rel\r\n UNWIND tmp AS node\r\n RETURN collect(DISTINCT node) AS nodes, collect(distinct rel) AS relationships;\r\n\r\nRunning the query on our database to get about 820 nodes makes the thing crash for lack of memory (5Gb allowed). Hard to believe. So I&#39;m wondering : Is this query ill-born? Is there one technique I&#39;m using that shouldn&#39;t be used for my purpose?",
      "link": "https://stackoverflow.com/questions/65109847/how-optimised-is-this-cypher-query",
      "title": "How optimised is this Cypher query?"
    },
    {
      "tags": ["neo4j", "cypher", "union", "correlated-subquery"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 343,
            "user_id": 5831358,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/666717621c79bad75ddf5ea3218efdf4?s=128&d=identicon&r=PG&f=1",
            "display_name": "Marj",
            "link": "https://stackoverflow.com/users/5831358/marj"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606933408,
          "creation_date": 1606933408,
          "answer_id": 65113927,
          "question_id": 65099536,
          "share_link": "https://stackoverflow.com/a/65113927",
          "body_markdown": "Using a UNION:\r\n\r\n // Top 3 cities\r\n MATCH (t:Store)&lt;-[:HasStore]-(s:Sales)\r\n RETURN t.StoreCity AS StoreCity, sum(s.StoreSales) AS StoreSales\r\n ORDER BY sum(s.StoreSales) DESC LIMIT 3\r\n // All other cities\r\n UNION\r\n MATCH (t:Store)&lt;-[:HasStore]-(s:Sales)\r\n WITH t.StoreCity, sum(s.StoreSales) AS AllStoreSales\r\n ORDER BY AllStoreSales DESC SKIP 3\r\n RETURN &quot;Other cities&quot; AS StoreCity, sum(AllStoreSales) AS StoreSales\r\n\r\nThe UNION runs two distinct queries, so before the UNION we find the top three selling cities and return their names and counts, as you had originally\r\n\r\nAfter the UNION, the same basic query is run again to find the sum of sales by city, ordered by descending sales, then the top three results are skipped. The remaining city&#39;s sales are summed and returned as **Other cities**.\r\n\r\nThe two parts of the UNION are completely separate, but both queries have to return the same number of columns with the same column names and in the same column order.",
          "link": "https://stackoverflow.com/questions/65099536/cypher-correlated-variables-in-union/65113927#65113927",
          "title": "Cypher: Correlated variables in Union"
        }
      ],
      "owner": {
        "reputation": 181,
        "user_id": 2106912,
        "user_type": "registered",
        "accept_rate": 0,
        "profile_image": "https://www.gravatar.com/avatar/f46b173153e6251f7625f1cbf4653b0a?s=128&d=identicon&r=PG",
        "display_name": "Esteban Zimanyi",
        "link": "https://stackoverflow.com/users/2106912/esteban-zimanyi"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 23,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65113927,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606933408,
      "creation_date": 1606861918,
      "question_id": 65099536,
      "share_link": "https://stackoverflow.com/q/65099536",
      "body_markdown": "I need to answer the following query: Top-three store cities based on store sales and store sales for all the other cities combined.\r\n\r\nWith the following query\r\n\r\n // Top 3 cities\r\n MATCH (t:Store)&lt;-[:HasStore]-(s:Sales)\r\n WITH t.StoreCity AS StoreCity, t, sum(s.StoreSales) AS StoreSales\r\n ORDER BY sum(s.StoreSales) DESC LIMIT 3\r\n // All other cities\r\n WITH StoreCity, StoreSales, collect(t) AS TopThreeCities\r\n MATCH (t1:Store)&lt;-[:HasStore]-(s:Sales)\r\n WHERE NOT(t1 IN TopThreeCities)\r\n // JOIN of the two results -&gt; I would need the UNION\r\n RETURN StoreCity, StoreSales, &quot;Other cities&quot; AS StoreCity1, sum(s.StoreSales) AS StoreSales1\r\n\r\nI was able to obtain the following answer\r\n\r\n\r\n &quot;A&quot;\t10\t&quot;Other Cities&quot;\t50\r\n &quot;B&quot;\t9\t&quot;Other Cities&quot;\t50\r\n &quot;C&quot;\t8\t&quot;Other Cities&quot;\t50\r\n\r\nBut I would like to obtain\r\n\r\n &quot;A&quot;\t10\r\n &quot;B&quot;\t9\r\n &quot;C&quot;\t8\r\n &quot;Other Cities&quot;\t50\r\n\r\nAny idea how to obtain this ? I have tried many possibilities without any success :-(",
      "link": "https://stackoverflow.com/questions/65099536/cypher-correlated-variables-in-union",
      "title": "Cypher: Correlated variables in Union"
    },
    {
      "tags": ["python", "neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 6411719,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Karl Stark",
        "link": "https://stackoverflow.com/users/6411719/karl-stark"
      },
      "last_editor": {
        "reputation": 598,
        "user_id": 11472002,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/c99d24b669177d46695729fff1e44199?s=128&d=identicon&r=PG&f=1",
        "display_name": "etch_45",
        "link": "https://stackoverflow.com/users/11472002/etch-45"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 14,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606857684,
      "creation_date": 1606856855,
      "last_edit_date": 1606857684,
      "question_id": 65098539,
      "share_link": "https://stackoverflow.com/q/65098539",
      "body_markdown": "I have the following function and the following call (with the connection setup before it)\r\n \r\n from neo4j import GraphDatabase\r\n from pypher import Pypher\r\n # from WebScraper import *\r\n py = Pypher()\r\n # server connection link\r\n uri = &quot;bolt://localhost:7687&quot;\r\n driver = GraphDatabase.driver(uri, auth=(&quot;neo4j&quot;, &quot;cs411fpl&quot;))\r\n session = driver.session()\r\n username = &#39;a&#39;\r\n varray = []\r\n # adds a user node\r\n def add_user(username_):\r\n q1 = &quot;CREATE (u:User) SET u.name= $username_&quot;\r\n nodes = session.run(q1)\r\n \r\n add_user(username)\r\n\r\nThis leads to the error:\r\n```\r\nFile &quot;UserHandler.py&quot;, line 37, in &lt;module&gt;\r\n add_user(username)\r\n \r\nFile &quot;UserHandler.py&quot;, line 14, in add_user\r\n nodes = session.run(q1)\r\n \r\nFile &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/neo4j/work/simple.py&quot;, line 217, in run\r\n self._autoResult._run(query, parameters, self._config.database, self._config.default_access_mode, self._bookmarks, **kwparameters)\r\n \r\nFile &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/neo4j/work/result.py&quot;, line 101, in _run\r\n self._attach()\r\n \r\nFile &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/neo4j/work/result.py&quot;, line 202, in _attach\r\n self._connection.fetch_message()\r\n \r\nFile &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/neo4j/io/_bolt4.py&quot;, line 363, in fetch_message\r\n response.on_failure(summary_metadata or {})\r\n \r\nFile &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/neo4j/io/_common.py&quot;, line 179, in on_failure\r\n raise Neo4jError.hydrate(**metadata)\r\n\r\nneo4j.exceptions.ClientError: {code: Neo.ClientError.Statement.ParameterMissing} {message: Expected parameter(s): username_}\r\n```\r\n\r\nAny suggestions would be great. Thanks!",
      "link": "https://stackoverflow.com/questions/65098539/neo-clienterror-statement-parametermissing-message-expected-parameters-use",
      "title": "Neo.ClientError.Statement.ParameterMissing} {message: Expected parameter(s): username_} with Python"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1606861955,
          "creation_date": 1606861955,
          "answer_id": 65099541,
          "question_id": 65097060,
          "share_link": "https://stackoverflow.com/a/65099541",
          "body_markdown": "I believe what you&#39;re looking at is `UNWIND` : \r\n\r\n```\r\nUNWIND [&#39;Canada&#39;,&#39;Europe&#39;] AS location\r\n&lt;query with location&gt;\r\nRETURN value\r\n```",
          "link": "https://stackoverflow.com/questions/65097060/union-of-queries-depending-on-variable-in-list/65099541#65099541",
          "title": "Union of queries depending on variable in list"
        }
      ],
      "owner": {
        "reputation": 130,
        "user_id": 1525553,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
        "display_name": "Guilherme Costa",
        "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 14,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606861955,
      "creation_date": 1606850269,
      "question_id": 65097060,
      "share_link": "https://stackoverflow.com/q/65097060",
      "body_markdown": "I have a big Cypher query that is depending on a variable.\r\n\r\nExample:\r\n\r\n`With REGION = &#39;Canada&#39;`\r\n\r\n`query`\r\n\r\n\r\nI want to execute this query several times based on different values on a list and return the UNION.\r\n\r\nSomething like:\r\n\r\n`regions = [&#39;Canada&#39;,&#39;Europe&#39;]`\r\n\r\n`query_with_Canada UNION query_with_Europe`",
      "link": "https://stackoverflow.com/questions/65097060/union-of-queries-depending-on-variable-in-list",
      "title": "Union of queries depending on variable in list"
    },
    {
      "tags": ["neo4j", "neo4j-apoc"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 383,
            "user_id": 4088081,
            "user_type": "registered",
            "accept_rate": 0,
            "profile_image": "https://www.gravatar.com/avatar/d3d37ba26ebcd072d5ce0e85ffbfa42e?s=128&d=identicon&r=PG&f=1",
            "display_name": "BND",
            "link": "https://stackoverflow.com/users/4088081/bnd"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606831346,
          "creation_date": 1606831346,
          "answer_id": 65091959,
          "question_id": 65091304,
          "share_link": "https://stackoverflow.com/a/65091959",
          "body_markdown": "Found it here (Graph Database --&gt; Open Folder).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/jE5IL.png",
          "link": "https://stackoverflow.com/questions/65091304/neo4j-https-neo4j-com-labs-apoc-4-1-installation/65091959#65091959",
          "title": "Neo4j https://neo4j.com/labs/apoc/4.1/installation/"
        }
      ],
      "owner": {
        "reputation": 383,
        "user_id": 4088081,
        "user_type": "registered",
        "accept_rate": 0,
        "profile_image": "https://www.gravatar.com/avatar/d3d37ba26ebcd072d5ce0e85ffbfa42e?s=128&d=identicon&r=PG&f=1",
        "display_name": "BND",
        "link": "https://stackoverflow.com/users/4088081/bnd"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606831346,
      "creation_date": 1606828959,
      "question_id": 65091304,
      "share_link": "https://stackoverflow.com/q/65091304",
      "body_markdown": "I am installing APOC for neo4j but can&#39;t find the `$NEO4J_HOME/plugins` folder on Windows 10. Neo4j 3.5.17 and Neo4j Desktop 1.3.8.\r\n\r\nhttps://neo4j.com/labs/apoc/4.1/installation/\r\n\r\nMy folder (C:\\Users\\Username\\AppData\\Roaming) contains: Neo4j and Neo4j Desktop folder, none of which contains it. ",
      "link": "https://stackoverflow.com/questions/65091304/neo4j-https-neo4j-com-labs-apoc-4-1-installation",
      "title": "Neo4j https://neo4j.com/labs/apoc/4.1/installation/"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 38,
            "user_id": 13134499,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lukasmp3",
            "link": "https://stackoverflow.com/users/13134499/lukasmp3"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606835361,
          "creation_date": 1606835361,
          "answer_id": 65093098,
          "question_id": 65089818,
          "share_link": "https://stackoverflow.com/a/65093098",
          "body_markdown": "A good approach when chaining more `MATCH` clauses is to use `WITH` statement that separates query parts explicitly, allowing you to declare which variables to carry over to the next part.\r\n\r\nIn your case:\r\n\r\n MATCH (p:Person)&lt;-[:manages]-(n:Person)\r\n WHERE n.name = &quot;Michael Scott&quot;\r\n WITH count(p) AS countP\r\n MATCH (q:Person)&lt;-[:manages]-(m:Person)\r\n WHERE m.name = &quot;Jim Halpert&quot;\r\n RETURN countP &gt; count(q)\r\n",
          "link": "https://stackoverflow.com/questions/65089818/questions-with-multiple-matches-in-the-same-cypher-query/65093098#65093098",
          "title": "Questions with multiple matches in the same Cypher query"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 343,
            "user_id": 5831358,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/666717621c79bad75ddf5ea3218efdf4?s=128&d=identicon&r=PG&f=1",
            "display_name": "Marj",
            "link": "https://stackoverflow.com/users/5831358/marj"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 2,
          "is_accepted": false,
          "score": 2,
          "last_activity_date": 1606842416,
          "creation_date": 1606842416,
          "answer_id": 65095119,
          "question_id": 65089818,
          "share_link": "https://stackoverflow.com/a/65095119",
          "body_markdown": "The two matches in your query are forming a catrtesian product, returning one **p** for each **q** (1 x 8). If you substitute **Darryl Philbin** for **Jim Halpert** you will appear to get 24 counts for each **p** and **q** (3 x 8).\r\n\r\nYou will see what&#39;s happening more clearly if you run:\r\n\r\n MATCH (p:Person)&lt;-[:manages]-(n:Person)\r\n WHERE n.name = &quot;Michael Scott&quot;\r\n MATCH (q:Person)&lt;-[:manages]-(m:Person)\r\n WHERE m.name = &quot;Jim Halpert&quot;\r\n RETURN p.name, q.name\r\n\r\nAs Lukasmp3 says, introducing a WITH breaks the query into two distinct parts and stops the catresian product from forming, you&#39;ll then get the expected answer.",
          "link": "https://stackoverflow.com/questions/65089818/questions-with-multiple-matches-in-the-same-cypher-query/65095119#65095119",
          "title": "Questions with multiple matches in the same Cypher query"
        }
      ],
      "owner": {
        "reputation": 1626,
        "user_id": 1460102,
        "user_type": "registered",
        "accept_rate": 73,
        "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG",
        "display_name": "xxks-kkk",
        "link": "https://stackoverflow.com/users/1460102/xxks-kkk"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 65093098,
      "answer_count": 2,
      "score": 1,
      "last_activity_date": 1606842416,
      "creation_date": 1606822811,
      "question_id": 65089818,
      "share_link": "https://stackoverflow.com/q/65089818",
      "body_markdown": "Suppose I have the following graph \r\n\r\n CREATE \r\n (n1:Person {name: &quot;David Wallace&quot;, role: &quot;CFO&quot;, dept: &quot;management&quot;}),\r\n (n2:Person {name: &quot;Ryan Howard&quot;, role: &quot;VP, North East Region&quot;, dept: &quot;management&quot;}),\r\n (n3:Person {name: &quot;Toby Flenderson&quot;, role: &quot;HR Rep.&quot;, dept: &quot;HR&quot;}),\r\n (n4:Person {name: &quot;Michael Scott&quot;, role: &quot;Regional Manager&quot;, dept: &quot;management&quot;}),\r\n (n5:Person {name: &quot;Todd Pecker&quot;, role: &quot;Travel Sales Rep.&quot;, dept: &quot;Sales&quot;}),\r\n (n6:Person {name: &quot;Angela Martin&quot;, role: &quot;Senior Accountant&quot;, dept: [&quot;Accounting&quot;, &quot;Party Planning Committee&quot;]}),\r\n (n7:Person {name: &quot;Dwight Schrute&quot;, role: [&quot;Sales&quot;, &quot;Assistant to the Regional Manager&quot;], dept: &quot;Sales&quot;}),\r\n (n8:Person {name: &quot;Jim Halpert&quot;, role: [&quot;Sales&quot;, &quot;Assistant Regional Manager&quot;], dept: &quot;Sales&quot;}),\r\n (n9:Person {name: &quot;Pam Beesley&quot;, role: &quot;Receptionist&quot;, dept: &quot;Reception&quot;}),\r\n (n10:Person {name: &quot;Creed Barton&quot;, role: &quot;Quality Assurance Rep.&quot;, dept: &quot;Quality Control&quot;}),\r\n (n11:Person {name: &quot;Darryl Philbin&quot;, role: &quot;Warehouse Foreman&quot;, dept: &quot;Warehouse&quot;}),\r\n (n12:Person {name: &quot;Kevin Malone&quot;, role: &quot;Accountant&quot;, dept: &quot;Accounting&quot;}),\r\n (n13:Person {name: &quot;Oscar Martinez&quot;, role: &quot;Accountant&quot;, dept: &quot;Accounting&quot;}),\r\n (n14:Person {name: &quot;Meredith Palmer&quot;, role: &quot;Supplier Relations&quot;, dept: &quot;Supplier Relations&quot;}),\r\n (n15:Person {name: &quot;Kelly Kapoor&quot;, role: &quot;Customer Service Rep.&quot;, dept: &quot;Customer Service&quot;}),\r\n (n16:Person {name: &quot;Jerry DiCanio&quot;, dept: &quot;Warehouse&quot;}),\r\n (n17:Person {name: &quot;Madge Madsen&quot;, dept: &quot;Warehouse&quot;}),\r\n (n18:Person {name: &quot;Lonnie Collins&quot;, dept: &quot;Warehouse&quot;}),\r\n (n19:Person {name: &quot;Andy Bernard&quot;, role: &quot;Regional Director in Sales&quot;, dept: &quot;Sales&quot;}),\r\n (n20:Person {name: &quot;Phyllis Lapin&quot;, role: &quot;Sales&quot;, dept: &quot;Sales&quot;}),\r\n (n21:Person {name: &quot;Stanley Hudson&quot;, role: &quot;Sales&quot;, dept: &quot;Sales&quot;}),\r\n (n1)-[:manages]-&gt;(n2),\r\n (n2)-[:manages]-&gt;(n3),\r\n (n2)-[:manages]-&gt;(n4),\r\n (n2)-[:manages]-&gt;(n5),\r\n (n4)-[:manages]-&gt;(n6),\r\n (n4)-[:manages]-&gt;(n7),\r\n (n4)-[:manages]-&gt;(n8),\r\n (n4)-[:manages]-&gt;(n9),\r\n (n4)-[:manages]-&gt;(n10),\r\n (n4)-[:manages]-&gt;(n11),\r\n (n4)-[:manages]-&gt;(n14),\r\n (n4)-[:manages]-&gt;(n15),\r\n (n6)-[:manages]-&gt;(n12),\r\n (n6)-[:manages]-&gt;(n13),\r\n (n8)-[:manages]-&gt;(n19),\r\n (n11)-[:manages]-&gt;(n16),\r\n (n11)-[:manages]-&gt;(n17),\r\n (n11)-[:manages]-&gt;(n18),\r\n (n19)-[:manages]-&gt;(n20),\r\n (n19)-[:manages]-&gt;(n21);\r\n\r\nand I have the following query\r\n\r\n&gt; Does Michael directly manage more employees than Jim Halpert?\r\n\r\nI come up with the following Cypher query \r\n\r\n MATCH (p:Person)&lt;-[:manages]-(n:Person)\r\n WHERE n.name = &quot;Michael Scott&quot;\r\n MATCH (q:Person)&lt;-[:manages]-(m:Person)\r\n WHERE m.name = &quot;Jim Halpert&quot;\r\n RETURN count(p) &gt; count(q)\r\n\r\nThe query returns ```false```. I checked both ```count(p)``` and ```count(q)``` are 8. I was wondering why is this? Also, what&#39;s the scope of ```MATCH``` statement meaning will ```p``` and ```q``` bind to the different variables (i.e., variable only visible in the MATCH statement scope; I can re-use the same variable for different MATCH statement)?\r\n\r\nThanks!",
      "link": "https://stackoverflow.com/questions/65089818/questions-with-multiple-matches-in-the-same-cypher-query",
      "title": "Questions with multiple matches in the same Cypher query"
    },
    {
      "tags": ["java", "spring", "spring-boot", "neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 14043315,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/0aVbF.jpg?s=128&g=1",
        "display_name": "gakkiyomi",
        "link": "https://stackoverflow.com/users/14043315/gakkiyomi"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606812282,
      "creation_date": 1606812282,
      "question_id": 65087207,
      "share_link": "https://stackoverflow.com/q/65087207",
      "body_markdown": "I used Neo4j v4.0.1 and springboot v.2.2.4 build my application\r\n\r\nthis is my neo4j session config\r\n```\r\npackage net.skycloud.cmdb.common.config.neo4j;\r\n\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.Driver;\r\nimport org.neo4j.driver.GraphDatabase;\r\nimport org.neo4j.driver.Session;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n\r\n/**\r\n * @author: fangcong\r\n * @description:\r\n * @create: Created by work on 2020-03-05 00:10\r\n **/\r\n@Configuration\r\npublic class Neo4jConfig{\r\n\r\n @Value(&quot;${spring.data.neo4j.uri}&quot;)\r\n private String databaseUrl;\r\n\r\n @Value(&quot;${spring.data.neo4j.username}&quot;)\r\n private String userName;\r\n\r\n @Value(&quot;${spring.data.neo4j.password}&quot;)\r\n private String password;\r\n\r\n @Bean\r\n public Driver neo4jDriver() {\r\n return GraphDatabase.driver(databaseUrl, AuthTokens.basic(userName,password));\r\n }\r\n\r\n @Bean\r\n public Session getSession() {\r\n return neo4jDriver().session();\r\n }\r\n\r\n}\r\n```\r\ni use session.run(query) query data\r\nthis is my code\r\n```\r\npublic List&lt;Node&gt; nodeSearch(String jql, String username) throws SyntaxErrorException {\r\n List&lt;Node&gt; nodes = new ArrayList&lt;&gt;();\r\n JqlSyntaxTransformer transformer = new JqlSyntaxTransformer();\r\n String cypher;\r\n try {\r\n cypher = transformer.execute(jql).get(0).toCypher();\r\n Result result = session.run(cypher);\r\n if (result.hasNext()) {\r\n List&lt;Node&gt; list = result.list(x -&gt; new Node(x.values().get(0).asNode()));\r\n nodes.addAll(list);\r\n }\r\n } catch (RuntimeException e) {\r\n logger.error(e.getMessage(), e);\r\n throw new SyntaxErrorException(e.getMessage());\r\n }\r\n .......\r\n .......\r\n .......\r\n }\r\n```\r\nwhen i run my app i find a error ,this error sometimes happend\r\nthis is my error pic\r\n[enter image description here][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/nuqlN.png\r\nspring create seesion bean is not Singleton by defalut?\r\nhow can i fix this error ,thanks of a lot",
      "link": "https://stackoverflow.com/questions/65087207/neo4j-session-existing-open-connection-detected",
      "title": "Neo4j Session Existing open connection detected"
    },
    {
      "tags": ["python", "neo4j", "transactions", "bolt"],
      "comments": [
        {
          "owner": {
            "reputation": 536,
            "user_id": 196826,
            "user_type": "registered",
            "accept_rate": 63,
            "profile_image": "https://i.stack.imgur.com/jgDDO.jpg?s=128&g=1",
            "display_name": "Blake G",
            "link": "https://stackoverflow.com/users/196826/blake-g"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607233542,
          "post_id": 65086295,
          "comment_id": 115205511,
          "link": "https://stackoverflow.com/questions/65086295/issues-with-connecting-python-to-neo4j-server#comment115205511_65086295"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 6411719,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Karl Stark",
        "link": "https://stackoverflow.com/users/6411719/karl-stark"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 14,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606807645,
      "creation_date": 1606807645,
      "question_id": 65086295,
      "share_link": "https://stackoverflow.com/q/65086295",
      "body_markdown": "The following is my code for this project. I use pypher to simply create user add and delete functions, but this does not reflect on my Neo4j browser even with session commits. Any suggestions?\r\n\r\n```from neo4j import GraphDatabase\r\nfrom pypher import Pypher\r\n# from WebScraper import *\r\npy = Pypher()\r\n# server connection link\r\nuri = &quot;neo4j://localhost:7687&quot;\r\ndriver = GraphDatabase.driver(uri, auth=(&quot;neo4j&quot;, &quot;cs411fpl&quot;))\r\n\r\nusername = &#39;a&#39;\r\n# adds a user node\r\ndef add_user(tx, username_):\r\n py.CREATE.node(&#39;u&#39;, &#39;User&#39;, name = username)\r\n\r\nplayername = &#39;b&#39;\r\n\r\n# Adds a player with a given name to the node, and creates a IN_TEAM relationship\r\ndef add_plyr(tx, playername_, username_):\r\n if(py.MATCH.node(&#39;p&#39;, labels=&#39;Player&#39;).WHERE.p.property(&#39;name&#39;) == playername_):\r\n py.MATCH.node(&#39;p&#39;, name=playername_).rel(labels=&#39;IN_TEAM_OF&#39;, hops=1).node(&#39;u&#39;, &#39;User&#39;)\r\n else:\r\n py.CREATE.node(&#39;p&#39;, &#39;Player&#39;).WHERE.p.property(&#39;name&#39;) == playername_\r\n py.MATCH.node(&#39;p&#39;, name=playername_).rel(labels=&#39;IN_TEAM_OF&#39;, hops=1).node(&#39;u&#39;, &#39;User&#39;)\r\n\r\n \r\nplyr_list = []\r\n# function that returns the array of players \r\ndef get_team(tx, username_): \r\n py.MATCH.node(&#39;p&#39;, &#39;Player&#39;).rel(labels=&#39;IN_TEAM_OF&#39;, hops=1).node(&#39;u&#39;, &#39;User&#39;).WHERE.u.property(&#39;name&#39;) == username_\r\n var = py.Return.p\r\n plyr_list.append(var)\r\n print(plyr_list)\r\n\r\n\r\nwith driver.session() as session:\r\n session.write_transaction(add_user, username)\r\n\r\nwith driver.session() as session:\r\n session.write_transaction(add_plyr, playername, username)\r\n\r\nwith driver.session() as session:\r\n session.read_transaction(get_team, username)\r\n\r\ndriver.close()```",
      "link": "https://stackoverflow.com/questions/65086295/issues-with-connecting-python-to-neo4j-server",
      "title": "Issues with connecting python to neo4j server"
    },
    {
      "tags": ["neo4j", "graph-databases", "shortest-path", "longest-path"],
      "comments": [
        {
          "owner": {
            "reputation": 343,
            "user_id": 5831358,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/666717621c79bad75ddf5ea3218efdf4?s=128&d=identicon&r=PG&f=1",
            "display_name": "Marj",
            "link": "https://stackoverflow.com/users/5831358/marj"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606842836,
          "post_id": 65086001,
          "comment_id": 115082427,
          "link": "https://stackoverflow.com/questions/65086001/neo4j-longest-path-works-inefficiently-and-takes-interminable-time-to-answer#comment115082427_65086001"
        }
      ],
      "owner": {
        "reputation": 21,
        "user_id": 8837001,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
        "display_name": "M.B",
        "link": "https://stackoverflow.com/users/8837001/m-b"
      },
      "last_editor": {
        "reputation": 21,
        "user_id": 8837001,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
        "display_name": "M.B",
        "link": "https://stackoverflow.com/users/8837001/m-b"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606885682,
      "creation_date": 1606805957,
      "last_edit_date": 1606885682,
      "question_id": 65086001,
      "share_link": "https://stackoverflow.com/q/65086001",
      "body_markdown": "how can I find the longest path in neo4j graph database? I have a relatively heavy database \r\nshortest path method works fine but using method length() takes interminable amount of time. \r\n\r\n**Update:**\r\n\r\nI want longest path between two arbitrary nodes not longest in entire database.\r\n",
      "link": "https://stackoverflow.com/questions/65086001/neo4j-longest-path-works-inefficiently-and-takes-interminable-time-to-answer",
      "title": "neo4j longest path works inefficiently and takes interminable time to answer"
    },
    {
      "tags": ["java", "spring-boot", "neo4j", "spring-data", "spring-data-neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 5863,
            "user_id": 2650436,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
            "display_name": "meistermeier",
            "link": "https://stackoverflow.com/users/2650436/meistermeier"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1607109754,
          "creation_date": 1607109754,
          "answer_id": 65149514,
          "question_id": 65085507,
          "share_link": "https://stackoverflow.com/a/65149514",
          "body_markdown": "The only problem with your query is that you are escaping the `&#39;$network_userid&#39;` like a string but you should do:\r\n`@Query(&quot;MATCH (n {id: $network_userid }) RETURN n&quot;)` without the string literal indication.",
          "link": "https://stackoverflow.com/questions/65085507/spring-data-neo4j-query-annotation-property-substitution/65149514#65149514",
          "title": "Spring Data / Neo4j @Query annotation property substitution"
        }
      ],
      "owner": {
        "reputation": 3983,
        "user_id": 2626491,
        "user_type": "registered",
        "accept_rate": 77,
        "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
        "display_name": "Alex Woolford",
        "link": "https://stackoverflow.com/users/2626491/alex-woolford"
      },
      "last_editor": {
        "reputation": 3983,
        "user_id": 2626491,
        "user_type": "registered",
        "accept_rate": 77,
        "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
        "display_name": "Alex Woolford",
        "link": "https://stackoverflow.com/users/2626491/alex-woolford"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65149514,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1607109754,
      "creation_date": 1606802868,
      "last_edit_date": 1606972884,
      "question_id": 65085507,
      "share_link": "https://stackoverflow.com/q/65085507",
      "body_markdown": "I&#39;m working on a Spring Data / Neo4j-based recommender service and ran into an issue with the `@Query` annotation. I&#39;m trying to pass a property (the `network_userid`) into a Cypher query:\r\n\r\n package io.woolford.neo4j.repository;\r\n \r\n import io.woolford.neo4j.entity.PageUrl;\r\n import org.springframework.data.neo4j.annotation.Query;\r\n import org.springframework.data.neo4j.repository.Neo4jRepository;\r\n import org.springframework.data.repository.query.Param;\r\n \r\n import java.util.List;\r\n \r\n \r\n public interface RecommendationsRepository extends Neo4jRepository&lt;PageUrl, Long&gt; {\r\n @Query(&quot;MATCH (n {id: &#39;$network_userid&#39; }) RETURN n&quot;) // simplified query for brevity\r\n List&lt;PageUrl&gt; getRecommendations(@Param(&quot;network_userid&quot;) String network_userid);\r\n }\r\n\r\nI thought it&#39;d be as simple as putting a dollar-sign in front of the property name to substitute the property name with the property value (as above). I expected this:\r\n\r\n MATCH (n {id: &#39;1447e32a-3381-4e61-a8ae-9a05b8df4ddb&#39;}) RETURN n\r\n\r\nWhen I switched on debugging, it looks like the Cypher query hasn&#39;t replaced the property with the value:\r\n\r\n [nio-8080-exec-1] o.n.o.drivers.bolt.request.BoltRequest : Request: MATCH (n {id: &#39;$network_userid&#39; }) RETURN n with params {0=1447e32a-3381-4e61-a8ae-9a05b8df4ddb, network_userid=1447e32a-3381-4e61-a8ae-9a05b8df4ddb}\r\n\r\nFor good measure, I did a packet capture to see what&#39;s being sent across the wire:\r\n\r\n ...d&#39;...............+MATCH (n {id: &#39;$network_userid&#39; }) RETURN n..0.$1447e32a-3381-4e61-a8ae-9a05b8df4ddb.network_userid.$1447e32a-3381-4e61-a8ae-9a05b8df4ddb......?..n.....\r\n\r\n... which, again, suggests that the property substitution isn&#39;t happening.\r\n\r\nCan you see what I&#39;m doing wrong?\r\n\r\nSource code: https://github.com/alexwoolford/snowplow-neo4j-recommender\r\n",
      "link": "https://stackoverflow.com/questions/65085507/spring-data-neo4j-query-annotation-property-substitution",
      "title": "Spring Data / Neo4j @Query annotation property substitution"
    },
    {
      "tags": ["python", "neo4j", "cypher", "bolt"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 6411719,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Karl Stark",
                "link": "https://stackoverflow.com/users/6411719/karl-stark"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606856270,
              "post_id": 65094892,
              "comment_id": 115088429,
              "link": "https://stackoverflow.com/questions/65082997/how-do-i-use-a-python-variable-value-to-name-a-new-node-created-in-neo4j/65094892#comment115088429_65094892"
            },
            {
              "owner": {
                "reputation": 38,
                "user_id": 13134499,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name": "Lukasmp3",
                "link": "https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "reply_to_user": {
                "reputation": 1,
                "user_id": 6411719,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Karl Stark",
                "link": "https://stackoverflow.com/users/6411719/karl-stark"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606915509,
              "post_id": 65094892,
              "comment_id": 115106949,
              "link": "https://stackoverflow.com/questions/65082997/how-do-i-use-a-python-variable-value-to-name-a-new-node-created-in-neo4j/65094892#comment115106949_65094892"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 38,
            "user_id": 13134499,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lukasmp3",
            "link": "https://stackoverflow.com/users/13134499/lukasmp3"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1606841542,
          "creation_date": 1606841542,
          "answer_id": 65094892,
          "question_id": 65082997,
          "share_link": "https://stackoverflow.com/a/65094892",
          "body_markdown": "I believe this could help you:\r\n\r\n playername = &#39;Joe&#39;\r\n username = &#39;Martin&#39;\r\n\r\n tx.run(&quot;CREATE (n:Player) SET n.playername = $playernamePar&quot;, playernamePar=playername)\r\n tx.run(&quot;CREATE (n:User) SET n.username = $usernamePar&quot;, usernamePar=username)\r\n tx.run(&quot;MATCH (p:Player),(u:User) \r\n WHERE p.playername = $playernamePar \r\n AND u.username = $usernamePar \r\n CREATE (p)-[:inTeam]-&gt;(u)&quot;,\r\n playernamePar=playername, usernamePar=username)",
          "link": "https://stackoverflow.com/questions/65082997/how-do-i-use-a-python-variable-value-to-name-a-new-node-created-in-neo4j/65094892#65094892",
          "title": "How do I use a python variable value to name a new node created in neo4j"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 6411719,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Karl Stark",
        "link": "https://stackoverflow.com/users/6411719/karl-stark"
      },
      "last_editor": {
        "reputation": 1,
        "user_id": 6411719,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3c083507f2a0b0dfa557b5b68addc10e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Karl Stark",
        "link": "https://stackoverflow.com/users/6411719/karl-stark"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606841542,
      "creation_date": 1606781814,
      "last_edit_date": 1606786312,
      "question_id": 65082997,
      "share_link": "https://stackoverflow.com/q/65082997",
      "body_markdown": "I have the following line of code\r\n\r\n```tx.run(CREATE n)``` using the bolt library for neo4j to python.\r\n\r\nI will be receiving a user input which I store in a variable, and I wish to name the node according to that. How should I approach this? Thanks\r\n\r\nAnother instance could be this. I get a CQL syntax error with this \r\n\r\n```def add_plyr(tx, playername_, username_):\r\n if(tx.run(&quot;MATCH(n:Player{name: playername_})&quot; &quot;RETURN n&quot;)):\r\n tx.run(&quot;CREATE (playername_:Player)&quot;)\r\n tx.run(&quot;MATCH(username_:User)(playername_:Player)&quot; &quot;CREATE (playername_)-[r:IN_TEAM]-&gt;(username_)&quot;)\r\n else:\r\n tx.run(&quot;MATCH(username_:User)(playername_:Player)&quot; &quot;CREATE (playername_)-[r:IN_TEAM]-&gt;(username_)&quot;)\r\n```\r\n\r\nThe ```tx.run(&quot;CREATE (playername_:Player)&quot;)``` line throws up the following error\r\n\r\n```neo4j.exceptions.CypherSyntaxError: {code: Neo.ClientError.Statement.SyntaxError} {message: Variable `playername_` not defined (line 1, column 22 (offset: 21))\r\n&quot;MATCH(n:Player{name: playername_})RETURN n&quot;```\r\n\r\n ",
      "link": "https://stackoverflow.com/questions/65082997/how-do-i-use-a-python-variable-value-to-name-a-new-node-created-in-neo4j",
      "title": "How do I use a python variable value to name a new node created in neo4j"
    },
    {
      "tags": ["css", "database", "neo4j", "frontend", "graph-databases"],
      "comments": [
        {
          "owner": {
            "reputation": 2205,
            "user_id": 1734996,
            "user_type": "registered",
            "accept_rate": 85,
            "profile_image": "https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name": "Graphileon",
            "link": "https://stackoverflow.com/users/1734996/graphileon"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606807833,
          "post_id": 65082595,
          "comment_id": 115066461,
          "link": "https://stackoverflow.com/questions/65082595/frontend-visualization-of-neo4j-database#comment115066461_65082595"
        },
        {
          "owner": {
            "reputation": 536,
            "user_id": 196826,
            "user_type": "registered",
            "accept_rate": 63,
            "profile_image": "https://i.stack.imgur.com/jgDDO.jpg?s=128&g=1",
            "display_name": "Blake G",
            "link": "https://stackoverflow.com/users/196826/blake-g"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1607233709,
          "post_id": 65082595,
          "comment_id": 115205532,
          "link": "https://stackoverflow.com/questions/65082595/frontend-visualization-of-neo4j-database#comment115205532_65082595"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 11134898,
        "user_type": "registered",
        "profile_image": "https://lh5.googleusercontent.com/-8bXlD1QTRVk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYDyGw_I3XgMJRq2In5YtyhHBE5g/mo/photo.jpg?sz=128",
        "display_name": "fipps omat",
        "link": "https://stackoverflow.com/users/11134898/fipps-omat"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606778698,
      "creation_date": 1606778698,
      "question_id": 65082595,
      "share_link": "https://stackoverflow.com/q/65082595",
      "body_markdown": "Is there an easy way to create a frontend graph visualization of a neo4j database?\r\n\r\nNeo4j desktop already greatly visualizes the data and that exact visualization would be fine, but is there a way to take that to the frontend?\r\n\r\n[Visualization][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/Exiv8.png",
      "link": "https://stackoverflow.com/questions/65082595/frontend-visualization-of-neo4j-database",
      "title": "Frontend visualization of neo4j database"
    },
    {
      "tags": ["neo4j", "neo4j-desktop"],
      "owner": {
        "reputation": 159,
        "user_id": 1001742,
        "user_type": "registered",
        "accept_rate": 83,
        "profile_image": "https://i.stack.imgur.com/E0mSh.jpg?s=128&g=1",
        "display_name": "Masoud Zayyani",
        "link": "https://stackoverflow.com/users/1001742/masoud-zayyani"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606762927,
      "creation_date": 1606762927,
      "question_id": 65079598,
      "share_link": "https://stackoverflow.com/q/65079598",
      "body_markdown": "I have an existing graph database like photo and want to import that inside the neo4j desktop application, but I don&#39;t know how could I do that.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/EFyNc.png\r\n\r\nInside neo4j desktop, I could not find any way to import a database like for example MySQL.",
      "link": "https://stackoverflow.com/questions/65079598/how-could-i-import-exicting-grapg-database-into-neo4j-desktop",
      "title": "How Could I Import exicting Grapg database Into neo4j Desktop?"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 3,
            "user_id": 10463551,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/cb116566a8140e3aa01a3f9f4c6b8bc6?s=128&d=identicon&r=PG&f=1",
            "display_name": "ashur",
            "link": "https://stackoverflow.com/users/10463551/ashur"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606710587,
          "creation_date": 1606710587,
          "answer_id": 65068137,
          "question_id": 65067779,
          "share_link": "https://stackoverflow.com/a/65068137",
          "body_markdown": "My solutions:\r\n\r\n :param label =&gt; (&#39;Person&#39;); :param relationshipType =&gt; (&#39;HAS_EMAILED&#39;); :param limit =&gt; ( 100); :param config =&gt; ({concurrency: 8, direction: &#39;Outgoing&#39;, weightProperty: null, defaultValue: 1, dampingFactor: 0.85, iterations: 25, writeProperty: &#39;pagerank&#39;});\r\n \r\n CALL gds.graph.create(\r\n &#39;myGraph332&#39;,\r\n &#39;Person&#39;, { HAS_EMAILED:{orientation:&#39;UNDIRECTED&#39;} })\r\n\r\nThen\r\n\r\n\r\n CALL gds.pageRank.stream(&#39;myGraph332&#39;)\r\n \r\n YIELD nodeId, score\r\n \r\n RETURN gds.util.asNode(nodeId).alias AS alias, score\r\n \r\n ORDER BY score DESC, alias ASC",
          "link": "https://stackoverflow.com/questions/65067779/call-gds-pagerank-stream-problems/65068137#65068137",
          "title": "CALL gds.pagerank.stream problems"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 10463551,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/cb116566a8140e3aa01a3f9f4c6b8bc6?s=128&d=identicon&r=PG&f=1",
        "display_name": "ashur",
        "link": "https://stackoverflow.com/users/10463551/ashur"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606710587,
      "creation_date": 1606707243,
      "question_id": 65067779,
      "share_link": "https://stackoverflow.com/q/65067779",
      "body_markdown": "&gt; :param label =&gt; (&#39;Person&#39;); :param relationshipType =&gt;\r\n&gt; (&#39;HAS_EMAILED&#39;); :param limit =&gt; ( 100); :param config =&gt; \r\n&gt; ({concurrency: 8, direction: &#39;Outgoing&#39;, weightProperty: null, \r\n&gt; defaultValue: 1, dampingFactor: 0.85, iterations: 25, writeProperty: \r\n&gt; &#39;pagerank&#39;}); //then we calculate pagerank with one simple command\r\n&gt; CALL algo.pageRank($label, $relationshipType, $config);\r\n\r\nHow turn this into a `CALL gds.pagerank.stream(...)`?\r\n\r\n[I saw his on the Bruggen Blog][1]\r\n [1]: https://blog.bruggen.com/2019/12/part-23-revisiting-hillary-clintons.html",
      "link": "https://stackoverflow.com/questions/65067779/call-gds-pagerank-stream-problems",
      "title": "CALL gds.pagerank.stream problems"
    },
    {
      "tags": ["neo4j", "graphql", "grandstack", "neo4j-graphql-js"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 24371,
            "user_id": 4989460,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1",
            "display_name": "stdob--",
            "link": "https://stackoverflow.com/users/4989460/stdob"
          },
          "last_editor": {
            "reputation": 24371,
            "user_id": 4989460,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1",
            "display_name": "stdob--",
            "link": "https://stackoverflow.com/users/4989460/stdob"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606835994,
          "last_edit_date": 1606835994,
          "creation_date": 1606813555,
          "answer_id": 65087510,
          "question_id": 65065930,
          "share_link": "https://stackoverflow.com/a/65087510",
          "body_markdown": "The problem is that you are passing objects as values for the `startDate` and `endDate` properties which is not supported by neo4j.\r\n\r\nSo for example you can use the [`date`][1] function to transform the object into a suitable type:\r\n\r\n type Mutation {\r\n CreateRegistration(startDate: Date!, endDate: Date): Registration\r\n @cypher(\r\n statement: &quot;&quot;&quot;\r\n CREATE (registration: Registration {\r\n registrationId: apoc.create.uuid(),\r\n startDate: date($startDate),\r\n endDate: date($endDate)\r\n })\r\n RETURN registration\r\n &quot;&quot;&quot;\r\n )\r\n }\r\n\r\n [1]: https://neo4j.com/docs/cypher-manual/current/functions/temporal/#functions-date-create-string",
          "link": "https://stackoverflow.com/questions/65065930/custom-resolver-with-cypher-schema-directive-do-not-accept-date-as-an-input-g/65087510#65087510",
          "title": "Custom resolver with @cypher schema directive do not accept Date as an Input - GRANDStack"
        }
      ],
      "owner": {
        "reputation": 21,
        "user_id": 14731652,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3193744c447e9b6c8fe8b1c46d918967?s=128&d=identicon&r=PG&f=1",
        "display_name": "cloudyguy",
        "link": "https://stackoverflow.com/users/14731652/cloudyguy"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 24,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "answer_count": 1,
      "score": 2,
      "last_activity_date": 1606835994,
      "creation_date": 1606689150,
      "question_id": 65065930,
      "share_link": "https://stackoverflow.com/q/65065930",
      "body_markdown": "I`m trying to add custom resolvers to my grand stack app. There I get an error while passing DateInput to my mutation. \r\n\r\nThis is my schema:\r\n\r\n```\r\ntype Registration @hasRole(roles: [admin]) {\r\n registrationId: ID!\r\n startDate: Date!\r\n endDate: Date\r\n}\r\ntype Mutation {\r\nCreateRegistration(startDate: Date!, endDate: Date): Registration\r\n @cypher(\r\n statement: &quot;&quot;&quot;\r\n CREATE (registration: Registration {\r\n registrationId: apoc.create.uuid(),\r\n startDate: $startDate,\r\n endDate: $endDate\r\n })\r\n RETURN registration\r\n &quot;&quot;&quot;\r\n )\r\n}\r\n```\r\n\r\n\r\nThis is my mutation, I use in the GraphQL playground:\r\n\r\n```\r\nmutation CreateRegistration {\r\n CreateRegistration(\r\n startDate: { year: 2020, month: 3, day: 22 }\r\n endDate: { year: 2020, month: 4, day: 12 }\r\n ) {\r\n registrationId\r\n startDate {\r\n formatted\r\n }\r\n }\r\n}\r\n```\r\n\r\nthis is the automated generated mutation by `neo4j-graphql` package:\r\n```\r\n20:49:51 api | 2020-11-29T19:49:51.949Z neo4j-graphql-js CALL apoc.cypher.doIt(&quot;CREATE (registration: Registration {registrationId: apoc.create.uuid(), startDate: $startDate, endDate: $endDate})\r\n20:49:51 api | RETURN registration&quot;, {startDate:$startDate, endDate:$endDate, first:$first, offset:$offset}) YIELD value\r\n20:49:51 api | WITH apoc.map.values(value, [keys(value)[0]])[0] AS `registration`\r\n20:49:51 api | RETURN `registration` { .registrationId ,startDate: { formatted: toString(`registration`.startDate) }} AS `registration`\r\n20:49:51 api | 2020-11-29T19:49:51.949Z neo4j-graphql-js {\r\n20:49:51 api | &quot;startDate&quot;: {\r\n20:49:51 api | &quot;year&quot;: 2020,\r\n20:49:51 api | &quot;month&quot;: 3,\r\n20:49:51 api | &quot;day&quot;: 22\r\n20:49:51 api | },\r\n20:49:51 api | &quot;endDate&quot;: {\r\n20:49:51 api | &quot;year&quot;: 2020,\r\n20:49:51 api | &quot;month&quot;: 4,\r\n20:49:51 api | &quot;day&quot;: 12\r\n20:49:51 api | },\r\n20:49:51 api | &quot;first&quot;: -1,\r\n20:49:51 api | &quot;offset&quot;: 0\r\n20:49:51 api | }\r\n```\r\n\r\n\r\nthis is the errorresponse I get back:\r\n\r\n\r\n```\r\n{\r\n &quot;errors&quot;: [\r\n {\r\n &quot;message&quot;: &quot;Failed to invoke procedure `apoc.cypher.doIt`: Caused by: org.neo4j.exceptions.CypherTypeException: Property values can only be of primitive types or arrays thereof&quot;,\r\n```\r\n\r\nWhen I just use the autogenerated Resolver without @cypher, it works perfectly.\r\n\r\n\r\nIt looks like it is a problem with the input value for my date object. When I remove the date completely, it also works.\r\n\r\nDoes anybody have a suggestion, what I am doing wrong?\r\n\r\nTHX\r\n",
      "link": "https://stackoverflow.com/questions/65065930/custom-resolver-with-cypher-schema-directive-do-not-accept-date-as-an-input-g",
      "title": "Custom resolver with @cypher schema directive do not accept Date as an Input - GRANDStack"
    },
    {
      "tags": ["neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 28244,
            "user_id": 6463558,
            "user_type": "registered",
            "accept_rate": 48,
            "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1",
            "display_name": "slideshowp2",
            "link": "https://stackoverflow.com/users/6463558/slideshowp2"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606712847,
          "post_id": 65061046,
          "comment_id": 115034439,
          "link": "https://stackoverflow.com/questions/65061046/neo4j-there-is-no-procedure-with-the-name-algo-pagerank-registered-for-this-da#comment115034439_65061046"
        },
        {
          "owner": {
            "reputation": 3,
            "user_id": 10463551,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/cb116566a8140e3aa01a3f9f4c6b8bc6?s=128&d=identicon&r=PG&f=1",
            "display_name": "ashur",
            "link": "https://stackoverflow.com/users/10463551/ashur"
          },
          "reply_to_user": {
            "reputation": 28244,
            "user_id": 6463558,
            "user_type": "registered",
            "accept_rate": 48,
            "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1",
            "display_name": "slideshowp2",
            "link": "https://stackoverflow.com/users/6463558/slideshowp2"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606714908,
          "post_id": 65061046,
          "comment_id": 115034777,
          "link": "https://stackoverflow.com/questions/65061046/neo4j-there-is-no-procedure-with-the-name-algo-pagerank-registered-for-this-da#comment115034777_65061046"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 10463551,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/cb116566a8140e3aa01a3f9f4c6b8bc6?s=128&d=identicon&r=PG&f=1",
        "display_name": "ashur",
        "link": "https://stackoverflow.com/users/10463551/ashur"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 15,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606659259,
      "creation_date": 1606659259,
      "question_id": 65061046,
      "share_link": "https://stackoverflow.com/q/65061046",
      "body_markdown": " :param label =&gt; (&#39;Person&#39;);\r\n :param relationshipType =&gt; (&#39;HAS_EMAILED&#39;);\r\n :param limit =&gt; ( 100);\r\n :param config =&gt; ({concurrency: 8, direction: &#39;Outgoing&#39;, weightProperty: null, defaultValue: 1, dampingFactor: 0.85, iterations: 25, writeProperty: &#39;pagerank&#39;});\r\n \r\n //then we calculate pagerank with one simple command\r\n CALL algo.pageRank($label, $relationshipType, $config);\r\n\r\n*****There is an error that happened here:**\r\n\r\nNeo.ClientError.Procedure.ProcedureNotFound: There is no procedure with the name `algo.pageRank` registered for this database instance. Please ensure you&#39;ve spelled the procedure name correctly and that the procedure is properly deployed.\r\n\r\nI use the &quot;Graph Data Science Library&quot; plugin in Neo4j",
      "link": "https://stackoverflow.com/questions/65061046/neo4j-there-is-no-procedure-with-the-name-algo-pagerank-registered-for-this-da",
      "title": "neo4j There is no procedure with the name `algo.pageRank` registered for this database instance"
    },
    {
      "tags": ["neo4j", "path", "cypher", "graph-databases", "shortest-path"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 21,
                "user_id": 8837001,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
                "display_name": "M.B",
                "link": "https://stackoverflow.com/users/8837001/m-b"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606719072,
              "post_id": 65064647,
              "comment_id": 115035777,
              "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#comment115035777_65064647"
            },
            {
              "owner": {
                "reputation": 16775,
                "user_id": 2662355,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
                "display_name": "Christophe Willemsen",
                "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
              },
              "reply_to_user": {
                "reputation": 21,
                "user_id": 8837001,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
                "display_name": "M.B",
                "link": "https://stackoverflow.com/users/8837001/m-b"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606726406,
              "post_id": 65064647,
              "comment_id": 115038097,
              "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#comment115038097_65064647"
            },
            {
              "owner": {
                "reputation": 21,
                "user_id": 8837001,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
                "display_name": "M.B",
                "link": "https://stackoverflow.com/users/8837001/m-b"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606727389,
              "post_id": 65064647,
              "comment_id": 115038486,
              "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#comment115038486_65064647"
            },
            {
              "owner": {
                "reputation": 16775,
                "user_id": 2662355,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
                "display_name": "Christophe Willemsen",
                "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
              },
              "reply_to_user": {
                "reputation": 21,
                "user_id": 8837001,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
                "display_name": "M.B",
                "link": "https://stackoverflow.com/users/8837001/m-b"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606734517,
              "post_id": 65064647,
              "comment_id": 115041495,
              "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#comment115041495_65064647"
            },
            {
              "owner": {
                "reputation": 21,
                "user_id": 8837001,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
                "display_name": "M.B",
                "link": "https://stackoverflow.com/users/8837001/m-b"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606804537,
              "post_id": 65064647,
              "comment_id": 115065477,
              "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#comment115065477_65064647"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 5,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606680576,
          "creation_date": 1606680576,
          "answer_id": 65064647,
          "question_id": 65057865,
          "share_link": "https://stackoverflow.com/a/65064647",
          "body_markdown": "Assuming your property on the relationship is called `filter`, you can define an ALL predicate that will check the all the relationship properties filter in the path have the same value than the first relationship property : \r\n\r\n```\r\nMATCH (p1:Node {value: &quot;a&quot;})\r\nMATCH (p2:Node {value: &quot;b&quot;})\r\nMATCH path=shortestPath((p1)-[r*]-(p2))\r\nWHERE ALL( x IN relationships(path) \r\n WHERE x.filter = head(relationships(path)).filter\r\n )\r\nRETURN path\r\n```",
          "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65064647#65064647",
          "title": "neo4j shortest path with common relation property"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 21,
            "user_id": 8837001,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
            "display_name": "M.B",
            "link": "https://stackoverflow.com/users/8837001/m-b"
          },
          "last_editor": {
            "reputation": 21,
            "user_id": 8837001,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
            "display_name": "M.B",
            "link": "https://stackoverflow.com/users/8837001/m-b"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1606734496,
          "last_edit_date": 1606734496,
          "creation_date": 1606730890,
          "answer_id": 65071538,
          "question_id": 65057865,
          "share_link": "https://stackoverflow.com/a/65071538",
          "body_markdown": "I found the answer and the answer was:\r\n\r\n Match (a:node)-[r1]-&gt;()\r\n with collect(r1.property) as m\r\n MATCH p=shortestPath( (a:node)-[:r1*]-&gt;(e:node) ) \r\n \r\n AND ALL(x in relationships(p) WHERE x.propery in m)\r\n RETURN p\r\n\r\n\r\n",
          "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property/65071538#65071538",
          "title": "neo4j shortest path with common relation property"
        }
      ],
      "owner": {
        "reputation": 21,
        "user_id": 8837001,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
        "display_name": "M.B",
        "link": "https://stackoverflow.com/users/8837001/m-b"
      },
      "last_editor": {
        "reputation": 21,
        "user_id": 8837001,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ddaa8b1586323bb14963c7f9161e122f?s=128&d=identicon&r=PG&f=1",
        "display_name": "M.B",
        "link": "https://stackoverflow.com/users/8837001/m-b"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 61,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65071538,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1606804519,
      "creation_date": 1606634553,
      "last_edit_date": 1606727340,
      "question_id": 65057865,
      "share_link": "https://stackoverflow.com/q/65057865",
      "body_markdown": "As the picture below shows we have nodes with relations but with different properties. how can I find shortest path between node A and node E with condition that relations in the path should have common property? for example here it only should give THE PATH with property &quot;a&quot; from node A to node B because a here is common.\r\n\r\n\r\n\r\n[![unique labeled path][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/8BDr0.jpg\r\n\r\n**Edit**\r\nI want to find shortest path between node a and e based on available relations between a and next node (here relation properties are a, b and c) how can I find shortest path between a and e in which relations property is same(here property a)\r\nfor example it should return only the path with property a (and the path would be a&gt;b&gt;d&gt;e)",
      "link": "https://stackoverflow.com/questions/65057865/neo4j-shortest-path-with-common-relation-property",
      "title": "neo4j shortest path with common relation property"
    },
    {
      "tags": ["neo4j", "redis", "cypher", "graph-databases", "redisgraph"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 4941,
            "user_id": 153586,
            "user_type": "registered",
            "accept_rate": 87,
            "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG",
            "display_name": "Sankar",
            "link": "https://stackoverflow.com/users/153586/sankar"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1606706677,
          "creation_date": 1606706677,
          "answer_id": 65067725,
          "question_id": 65047183,
          "share_link": "https://stackoverflow.com/a/65067725",
          "body_markdown": "The way to do this is to do the edge matching into the same line as the API MATCH:\r\n\r\n```\r\nMATCH (w1)\r\nMATCH (w1)-[awe:ACCESSES_WORKLOAD]-&gt;(w2 {deleted_time: -1})\r\nOPTIONAL MATCH (w2)-[:CONTAINS_API]-&gt;(a:API)&lt;-[:ACCESSES_API]-(w1)\r\nOPTIONAL MATCH (w1)-[cae:CAUSES_ATTACK]-&gt;(a)\r\nWHERE ID(w1) IN %s\r\nRETURN DISTINCT awe, w1, w2, collect(ID(a)), collect(distinct cae.name)\r\n```",
          "link": "https://stackoverflow.com/questions/65047183/cypher-aggregating-common-node-type-between-two-distinct-node-types/65067725#65067725",
          "title": "cypher aggregating common node type between two distinct node types"
        }
      ],
      "owner": {
        "reputation": 4941,
        "user_id": 153586,
        "user_type": "registered",
        "accept_rate": 87,
        "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG",
        "display_name": "Sankar",
        "link": "https://stackoverflow.com/users/153586/sankar"
      },
      "last_editor": {
        "reputation": 4941,
        "user_id": 153586,
        "user_type": "registered",
        "accept_rate": 87,
        "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG",
        "display_name": "Sankar",
        "link": "https://stackoverflow.com/users/153586/sankar"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 167,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65067725,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606706677,
      "creation_date": 1606546269,
      "last_edit_date": 1606546835,
      "question_id": 65047183,
      "share_link": "https://stackoverflow.com/q/65047183",
      "body_markdown": "[![Graph View][1]][1]\r\n\r\n- I have two distinct types of nodes (LABELS in redisgraph). The blue circles in the diagram are called `WORKLOAD`. The yellow ones are called `API`.\r\n\r\n- Between two workloads, there is a relationship/edge `ACCESSES_WORKLOAD` (indicated by the lightest blue/cyan edge). In the attached image, `front-end` workload accesses `user` and `order` workloads. The `order` workload accesses `user` workload.\r\n\r\n- Between a `API` node and a `WORKLOAD` node there exists two types of relationships/edges. One is called a `CONTAINS_API` (dark blue link in the image) and another is called a `ACCESSES_API` (violet link in the image). For example, in the attached image, the `user` workload contains eight `API`s, Out of which six are consumed by `front-end` (the list: includes `3 /customers/...`, `/addresses`, `/register`, `/cards`). The two remaining `API`s are consumed by the `orders` (the list: `/cards/{cardsId}` and `/addresses/{addressesId}`.\r\n\r\n- The `front-end` also accesses three `API` that are contained by the `orders` workload too (`/orders/...`)\r\n\r\n- It is also possible that two `WORKLOAD`s may have an `ACCESSES_WORKLOAD` edge between them, but without any `API` as node as common between them.\r\n\r\n- A `WORKLOAD` may have an extra edge/relationship called `CAUSES_ATTACK` to an `API` in addition to the `ACCESSES_API` edge. It is indicated by green color in the image. This may not exist always. In the attached image, the `front-end` workload has this edge to the `/catalogue/sock` API but not with any of the other `API`s.\r\n\r\nNow I want to get the list of all workload-pairs and the ID of the `API` nodes in between them, if any. The cypher query that I tried is:\r\n```\r\nMATCH (w1)\r\nMATCH (w1)-[awe:ACCESSES_WORKLOAD]-&gt;(w2 {deleted_time: -1})\r\nOPTIONAL MATCH (w2)-[:CONTAINS_API]-&gt;(a:API)\r\nOPTIONAL MATCH (w1)-[:ACCESSES_API]-&gt;(a)\r\nOPTIONAL MATCH (w1)-[cae:CAUSES_ATTACK]-&gt;(a)\r\nWHERE ID(w1) IN %s\r\nRETURN DISTINCT awe, w1, w2, collect(ID(a)), collect(distinct cae.name)\r\n```\r\n\r\nAn output that I was expecting was table like below:\r\n```\r\nw1 | w2 | API IDs List | Attack Name\r\n======================================================================\r\nfront-end-node | user-node | [6 elements in a list] | null\r\norders-node | user-node | [2 elements in a list] | null\r\nfront-end-node | orders-node | [3 elements in a list] | null\r\nfront-end-node | some-node | [1 element in a list] | attack-name\r\n```\r\n\r\nBut what I am getting is:\r\n\r\n```\r\nw1 | w2 | API IDs List | Attack Name\r\n======================================================================\r\nfront-end-node | user-node | [8 elements in a list] | null\r\norders-node | user-node | [8 elements in a list] | null\r\nfront-end-node | orders-node | [3 elements in a list] | null\r\nfront-end-node | some-node | [1 element in a list] | attack-name\r\n```\r\n\r\nIn the first two rows, for the `user` node, I am getting the list of all the `API`s contained by the `user` workload and not just the `API`s accessed by the `front-end` and `orders`. The `collect(ID(a))` is aggregating all the `API` nodes with a `CONTAINS_API` edge/relationship with the `w2 WORKLOAD` in the query instead of the `API`s with only `ACCESSES_API` with `w1 workload`.\r\n\r\nIf I were to map my expectation to JSON for brevity, the output I require will be like:\r\n```\r\n{\r\n sourceWorkloadID: &lt;ID(front-end)&gt;\r\n targetWorkloadID: &lt;ID(user)&gt;\r\n apis: [ ID(/cards), ID(/register), ID(/addresses), ID(/customers/...)] // len here is six\r\n attack: null\r\n},\r\n{\r\n sourceWorkloadID: &lt;ID(orders)&gt;\r\n targetWorkloadID: &lt;ID(user)&gt;\r\n apis: [ ID(/cards/{cardsId), ID(/addresses/{addressesId})] // len here is two\r\n attack: null\r\n}, {3rd row}, {4th row}\r\n```\r\n\r\nCan someone help fix the cypher query ? I am doing this in `redisgraph` via `cypher`. I cannot use neo4j-only query options/utils/helpers. Thanks.\r\n\r\n\r\n [1]: https://i.stack.imgur.com/pdDtZ.png",
      "link": "https://stackoverflow.com/questions/65047183/cypher-aggregating-common-node-type-between-two-distinct-node-types",
      "title": "cypher aggregating common node type between two distinct node types"
    },
    {
      "tags": ["neo4j", "neo4j-apoc"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606515929,
          "creation_date": 1606515929,
          "answer_id": 65044483,
          "question_id": 65037916,
          "share_link": "https://stackoverflow.com/a/65044483",
          "body_markdown": "There is really a LOT of examples using `LOAD CSV` with Neo4j, starting from the manual : https://neo4j.com/developer/guide-import-csv/.\r\n\r\nReally no need for APOC.\r\n\r\n LOAD CSV WITH HEADERS FROM &quot;file:///...&quot; AS row\r\n MERGE (p:Person {id: row.id}) SET p.name = row.name\r\n WITH p, row.parent AS parent\r\n WHERE NOT parent IS NULL AND parent &lt;&gt; &quot;null&quot;\r\n MERGE (parent:Person {id: parent})\r\n MERGE (p)-[:LIKES]-&gt;(parent)",
          "link": "https://stackoverflow.com/questions/65037916/neo4j-insert-data-relation/65044483#65044483",
          "title": "Neo4j - Insert - Data - Relation"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 12257878,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/db26d12a29d0b2e89200e680d449624e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jim depa",
        "link": "https://stackoverflow.com/users/12257878/jim-depa"
      },
      "last_editor": {
        "reputation": 11,
        "user_id": 12257878,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/db26d12a29d0b2e89200e680d449624e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jim depa",
        "link": "https://stackoverflow.com/users/12257878/jim-depa"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1606515929,
      "creation_date": 1606482481,
      "last_edit_date": 1606482838,
      "question_id": 65037916,
      "share_link": "https://stackoverflow.com/q/65037916",
      "body_markdown": "I&#39;m begginer on neo4j\r\n\r\nI have a data csv person list likes from on file\r\n\r\n```\r\nid,name,parentid\r\n01, John, null,\r\n02, Mark, 01\r\n03, Elina, 01\r\n```\r\n I try to use apoc lib to load this data\r\n```\r\nCALL apoc.import.csv(.....) yield value\r\nUNWIND value as v\r\nMERGE(p:Person{id:v.id, name:v.name})\r\n```\r\n\r\nI don&#39;t know how to make the relation between them.\r\n\r\nCan someone help me?",
      "link": "https://stackoverflow.com/questions/65037916/neo4j-insert-data-relation",
      "title": "Neo4j - Insert - Data - Relation"
    },
    {
      "tags": ["docker", "csv", "import", "neo4j", "docker-compose"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1408,
                "user_id": 2032771,
                "user_type": "registered",
                "accept_rate": 33,
                "profile_image": "https://i.stack.imgur.com/UNFib.jpg?s=128&g=1",
                "display_name": "avrono",
                "link": "https://stackoverflow.com/users/2032771/avrono"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606830370,
              "post_id": 65060403,
              "comment_id": 115076006,
              "link": "https://stackoverflow.com/questions/65037780/neo4j-docker-compose-loading-csv-data-at-startup/65060403#comment115076006_65060403"
            },
            {
              "owner": {
                "reputation": 164,
                "user_id": 14719161,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/-D_1Shwrpius/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnsUJz55wxnN1sweUFBvmxhG7sraQ/s96-c/photo.jpg?sz=128",
                "display_name": "ozs",
                "link": "https://stackoverflow.com/users/14719161/ozs"
              },
              "reply_to_user": {
                "reputation": 1408,
                "user_id": 2032771,
                "user_type": "registered",
                "accept_rate": 33,
                "profile_image": "https://i.stack.imgur.com/UNFib.jpg?s=128&g=1",
                "display_name": "avrono",
                "link": "https://stackoverflow.com/users/2032771/avrono"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606833502,
              "post_id": 65060403,
              "comment_id": 115077695,
              "link": "https://stackoverflow.com/questions/65037780/neo4j-docker-compose-loading-csv-data-at-startup/65060403#comment115077695_65060403"
            },
            {
              "owner": {
                "reputation": 1408,
                "user_id": 2032771,
                "user_type": "registered",
                "accept_rate": 33,
                "profile_image": "https://i.stack.imgur.com/UNFib.jpg?s=128&g=1",
                "display_name": "avrono",
                "link": "https://stackoverflow.com/users/2032771/avrono"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606835857,
              "post_id": 65060403,
              "comment_id": 115078949,
              "link": "https://stackoverflow.com/questions/65037780/neo4j-docker-compose-loading-csv-data-at-startup/65060403#comment115078949_65060403"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 164,
            "user_id": 14719161,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-D_1Shwrpius/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnsUJz55wxnN1sweUFBvmxhG7sraQ/s96-c/photo.jpg?sz=128",
            "display_name": "ozs",
            "link": "https://stackoverflow.com/users/14719161/ozs"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606655179,
          "creation_date": 1606655179,
          "answer_id": 65060403,
          "question_id": 65037780,
          "share_link": "https://stackoverflow.com/a/65060403",
          "body_markdown": "neo4j-admin import can only be used to load data into a previously unused database.\r\nyou should run the load.sh as part of the dockerfile after the COPY.\r\n\r\n RUN /load.sh",
          "link": "https://stackoverflow.com/questions/65037780/neo4j-docker-compose-loading-csv-data-at-startup/65060403#65060403",
          "title": "Neo4J Docker-compose Loading CSV data at startup"
        }
      ],
      "owner": {
        "reputation": 1408,
        "user_id": 2032771,
        "user_type": "registered",
        "accept_rate": 33,
        "profile_image": "https://i.stack.imgur.com/UNFib.jpg?s=128&g=1",
        "display_name": "avrono",
        "link": "https://stackoverflow.com/users/2032771/avrono"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606655179,
      "creation_date": 1606481931,
      "question_id": 65037780,
      "share_link": "https://stackoverflow.com/q/65037780",
      "body_markdown": "I am trying to write a small python web service that calls a Neo4J database. This is purely in a development environment. I would like to load some CSV data when the Neo4J container starts.\r\n\r\nI have tried using the `EXTENSION_SCRIPT` environment setting to load data with a script like\r\n\r\n````\r\n#!/bin/bash\r\n\r\nload()\r\n{\r\n\techo &quot;Loading data&quot;\r\n\tneo4j-admin import --nodes=/var/lib/neo4j/import/test.csv\r\n}\r\n\r\nload\r\n````\r\n\r\nI keep getting errors of the following form `WARNING Import failed. The store files in /data/databases/neo4j are left as they are, although they are likely in an unusable state`\r\n\r\nI am assuming that the load needs to happen before `neo4j` is started as there is some lock on the db files. Has anyone solved this problem ?\r\n\r\nMy Docker-compose is as follows:\r\n````\r\nneo4j:\r\n build: ./graph\r\n restart: unless-stopped\r\n ports: \r\n - 7474:7474\r\n - 7687:7687\r\n volumes:\r\n - ./conf:/conf\r\n - ./data:/data\r\n - ./import:/import\r\n - ./logs:/logs\r\n - ./plugins:/plugins\r\n environment: \r\n # Raise memory limits\r\n - NEO4J_dbms_memory_pagecache_size=1G\r\n - NEO4J_dbms.memory.heap.initial_size=1G\r\n - NEO4J_dbms_memory_heap_max__size=1G\r\n````\r\n\r\nAnd my Dockerfile :\r\n\r\n````\r\nFROM neo4j:latest\r\n\r\nWORKDIR /\r\n\r\nCOPY load.sh /load.sh\r\nRUN chmod +x /load.sh\r\n\r\nENV EXTENSION_SCRIPT=load.sh\r\n\r\nCOPY test.csv /var/lib/neo4j/import/test.csv\r\n````\r\n\r\n\r\n ",
      "link": "https://stackoverflow.com/questions/65037780/neo4j-docker-compose-loading-csv-data-at-startup",
      "title": "Neo4J Docker-compose Loading CSV data at startup"
    },
    {
      "tags": ["neo4j", "cypher"],
      "owner": {
        "reputation": 1,
        "user_id": 14719378,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/3403014009753035/picture?type=large",
        "display_name": "Avi",
        "link": "https://stackoverflow.com/users/14719378/avi"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 7,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606479547,
      "creation_date": 1606479547,
      "question_id": 65037257,
      "share_link": "https://stackoverflow.com/q/65037257",
      "body_markdown": "We have a graph of ecommerce products with node labels items,item_prices,brand,product_attributes. \r\nWhat is needed is something like Elasticsearch with aggreagtions/Facets along with query results.\r\nHere&#39;s current query\r\n```` \r\nCALL db.index.fulltext.queryNodes(&#39;name_brand&#39;, &#39;heater or Winegar&#39;) \r\nYIELD node as srchresult \r\nCALL{\r\n\r\nWITH srchresult \r\nCALL {\r\n\r\nWITH srchresult \r\nMATCH (a:items)\r\nWHERE a.item_id=srchresult.item_id\r\nOPTIONAL MATCH (a:items)-[:ITEM_PRICE]-&gt;(ip:item_prices)-[:BUSINESS]-&gt;(b:businesses) \r\nWHERE a.item_id=srchresult.item_id AND EXISTS( (a)-[:ITEM_PRICE]-(ip) )\r\nRETURN a,ip,b ORDER BY ip.sale_price LIMIT 1 \r\n\r\n}\r\n\r\nRETURN a,ip LIMIT 300 }\r\nRETURN a.item_id,a.name,a.brand_name,a.ratings,a.ratings_count, \r\nip.sale_price,ip.list_price,ip.seller_id,a.icon LIMIT 10\r\n````\r\n\r\nnode with label item_attributes has attributes like \r\n````\r\n{name:cpu,value:i7}\r\n````\r\nNow how to return them aggregated along with normal item search result. Returned results are to be 10 but aggregation has to be on 300.\r\n\r\nAnother Option is to just return aggregated item_id of 300 and run aggregation separetly on Elasticsearch with item_ids. For which again need to run same query again as there&#39;s no documentation to return aggregation (collect) with other result rows;",
      "link": "https://stackoverflow.com/questions/65037257/neo4j-returning-object-with-aggregation-like-elasticsearch",
      "title": "Neo4j Returning object with aggregation like elasticsearch"
    },
    {
      "tags": ["neo4j", "transactions"],
      "owner": {
        "reputation": 26,
        "user_id": 12438690,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8903d011ace9fdd630652aea7bc5b5b5?s=128&d=identicon&r=PG&f=1",
        "display_name": "Tim B",
        "link": "https://stackoverflow.com/users/12438690/tim-b"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606432096,
      "creation_date": 1606432096,
      "question_id": 65030253,
      "share_link": "https://stackoverflow.com/q/65030253",
      "body_markdown": "i am filling a new Neo4j 4.0.9 enterprise database. As the inital dataloading blows up the transactions logs and i am running out of disk space, i am trying to prune transaction logs aggresiv. \r\n\r\n```\r\n.conf$ cat neo4j.config\r\n...\r\ndbms.tx_log.rotation.size=100M\r\ndbms.tx_log.rotation.retention_policy=10 files\r\ndbms.checkpoint.interval.tx=500\r\ndbms.checkpoint.interval.time=120s\r\n...\r\n```\r\n\r\n\r\nBut it seems neo4j ignores all my settings. \r\n\r\nThe Transaction directory is always blowing up fast.\r\n\r\n``` \r\n.data/$ du -h --max-depth 1\r\n8.0K\t./dbms\r\n9.9G\t./transactions\r\n1.7G\t./databases\r\n``` \r\n\r\nAnd iam not understanding why there are so many files despite `dbms.tx_log.rotation.retention_policy=10 files`\r\n\r\n```\r\n.data/transactions/neo4j$ ls\r\nneostore.transaction.db.0 neostore.transaction.db.34 neostore.transaction.db.67\r\nneostore.transaction.db.1 neostore.transaction.db.35 neostore.transaction.db.68\r\nneostore.transaction.db.10 neostore.transaction.db.36 neostore.transaction.db.69\r\nneostore.transaction.db.100 neostore.transaction.db.37 neostore.transaction.db.7\r\nneostore.transaction.db.101 neostore.transaction.db.38 neostore.transaction.db.70\r\nneostore.transaction.db.102 neostore.transaction.db.39 neostore.transaction.db.71\r\nneostore.transaction.db.103 neostore.transaction.db.4 neostore.transaction.db.72\r\nneostore.transaction.db.104 neostore.transaction.db.40 ...\r\n```\r\n\r\nAlso tried `false`, `1G size` for `dbms.tx_log.rotation.retention_policy`\r\n\r\nThe settings arriving in the DB. Checked via \r\n```\r\nCALL dbms.listConfig(&quot;dbms.checkpoint.interval&quot;)\r\nYIELD name, value\r\nRETURN name, value\r\nUNION\r\nCALL dbms.listConfig(&quot;dbms.tx_log&quot;)\r\nYIELD name, value\r\nRETURN name, value\r\n```\r\nwith the result\r\n``` \r\n╒═══════════════════════════════════════╤══════════╕\r\n│&quot;name&quot; │&quot;value&quot; │\r\n╞═══════════════════════════════════════╪══════════╡\r\n│&quot;dbms.checkpoint.interval.time&quot; │&quot;2m&quot; │\r\n├───────────────────────────────────────┼──────────┤\r\n│&quot;dbms.checkpoint.interval.tx&quot; │&quot;500&quot; │\r\n├───────────────────────────────────────┼──────────┤\r\n│&quot;dbms.tx_log.preallocate&quot; │&quot;true&quot; │\r\n├───────────────────────────────────────┼──────────┤\r\n│&quot;dbms.tx_log.rotation.retention_policy&quot;│&quot;10 files&quot;│\r\n├───────────────────────────────────────┼──────────┤\r\n│&quot;dbms.tx_log.rotation.size&quot; │&quot;100MiB&quot; │\r\n└───────────────────────────────────────┴──────────┘\r\n``` \r\n\r\ni cant find my mistake... any ideas?",
      "link": "https://stackoverflow.com/questions/65030253/neo4j-transaction-logs-not-pruned-despites-aggressiv-retention-policy",
      "title": "Neo4j transaction logs not pruned despites aggressiv retention_policy"
    },
    {
      "tags": ["neo4j", "cypher"],
      "owner": {
        "reputation": 1499,
        "user_id": 2128702,
        "user_type": "registered",
        "accept_rate": 43,
        "profile_image": "https://www.gravatar.com/avatar/370230fadac45fe2d5e2510734324ed8?s=128&d=identicon&r=PG",
        "display_name": "user2128702",
        "link": "https://stackoverflow.com/users/2128702/user2128702"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 26,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 0,
      "score": 1,
      "last_activity_date": 1606381580,
      "creation_date": 1606381580,
      "question_id": 65018933,
      "share_link": "https://stackoverflow.com/q/65018933",
      "body_markdown": "I have a cypher script which loads the content from a CSV and then tries to load it into the graph. What it basically looks like is something similar to that:\r\n\r\n LOAD CSV WITH HEADERS\r\n FROM &#39;file:///data.csv&#39;\r\n AS row\r\n MERGE (o:Order {Id:toInteger(row.tr_ID)})\r\n \tON CREATE SET \r\n \to.Created = toInteger(row.tr_Created)\r\n \t\t\r\n // read credit card and create a relation to an order (if applicable)\r\n FOREACH (n IN CASE WHEN row.cc_CrdId = &#39;NULL&#39; THEN [] ELSE [1] END |\r\n \tMERGE (cc:CreditCard {Id:row.cc_CrdId})\r\n \t\tON CREATE SET\r\n \t\t\tcc.Created = toInteger(row.cc_CrdCreated)\r\n \tMERGE (o)-[:WITH_CC]-&gt;(cc)\r\n )\r\n\r\nThis script reads the file row by row. But I was wondering if it is somehow possible to execute the logic for multiple rows in parallel.\r\n\r\nI saw [this][1] article for parallel cypher but don&#39;t really understand how I could use it. I don&#39;t know if some kind of **lock** needs to be implemented.\r\n\r\n\r\n [1]: https://neo4j.com/labs/apoc/4.1/cypher-execution/parallel/",
      "link": "https://stackoverflow.com/questions/65018933/execute-parallel-create-merge-using-only-cypher",
      "title": "Execute parallel create/merge using only Cypher"
    },
    {
      "tags": ["neo4j", "graph-databases"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 2051,
                "user_id": 783836,
                "user_type": "registered",
                "accept_rate": 82,
                "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
                "display_name": "user783836",
                "link": "https://stackoverflow.com/users/783836/user783836"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606321385,
              "post_id": 65008039,
              "comment_id": 114931003,
              "link": "https://stackoverflow.com/questions/65007546/can-graph-dbs-perform-well-with-unspecified-end-nodes/65008039#comment114931003_65008039"
            },
            {
              "owner": {
                "reputation": 4970,
                "user_id": 30383,
                "user_type": "registered",
                "accept_rate": 83,
                "profile_image": "https://www.gravatar.com/avatar/99df90c6b6456bba5457c067aa3efe96?s=128&d=identicon&r=PG",
                "display_name": "bechbd",
                "link": "https://stackoverflow.com/users/30383/bechbd"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606323100,
              "post_id": 65008039,
              "comment_id": 114931873,
              "link": "https://stackoverflow.com/questions/65007546/can-graph-dbs-perform-well-with-unspecified-end-nodes/65008039#comment114931873_65008039"
            },
            {
              "owner": {
                "reputation": 2051,
                "user_id": 783836,
                "user_type": "registered",
                "accept_rate": 82,
                "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
                "display_name": "user783836",
                "link": "https://stackoverflow.com/users/783836/user783836"
              },
              "edited": false,
              "score": 2,
              "creation_date": 1606384726,
              "post_id": 65008039,
              "comment_id": 114950020,
              "link": "https://stackoverflow.com/questions/65007546/can-graph-dbs-perform-well-with-unspecified-end-nodes/65008039#comment114950020_65008039"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 74,
            "user_id": 12684528,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/hIQjw.jpg?s=128&g=1",
            "display_name": "Herk",
            "link": "https://stackoverflow.com/users/12684528/herk"
          },
          "last_editor": {
            "reputation": 74,
            "user_id": 12684528,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/hIQjw.jpg?s=128&g=1",
            "display_name": "Herk",
            "link": "https://stackoverflow.com/users/12684528/herk"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1606324671,
          "last_edit_date": 1606324671,
          "creation_date": 1606319079,
          "answer_id": 65008039,
          "question_id": 65007546,
          "share_link": "https://stackoverflow.com/a/65008039",
          "body_markdown": "Your data structure looks good (maybe you could add an &quot;Intersection&quot; vertex with a &quot;ROAD&quot; edge with a length stored on the ROAD edge, but not sure what data you have available) and YES this is most definitely a good use case for graphs. \r\n\r\nI haven&#39;t used Neoj4 much, but the problem most likely is the approach you are taking with the algorithm (query) involved. \r\n\r\nNeo4j should easily handle what you&#39;re looking to accomplish. I would recommend watching some Neo4j videos on the topic and mimic their approach to the shortest path algorithms.\r\n\r\nNeo4j(Shortest-Path): https://youtu.be/baEeRfuK1Nk\r\n\r\nThe graph database I&#39;ve always used to implement these has always been on TigerGraph, but all graph databases would be able to handle 50,000 nodes quickly. \r\n\r\nTigerGraph (Shortest-Path): https://youtu.be/Ra0qORVKsWs\r\n\r\n\r\n**EDITED** (adding documentation links):\r\n\r\nNEO4J\r\n\r\n**Single Source Shortest Path algorithm**\r\n\r\nDocs: https://neo4j.com/docs/graph-algorithms/current/labs-algorithms/single-source-shortest-path/\r\n\r\nTIGERGRAPH\r\n\r\n**Single-Source Shortest Path (unweighted)**\r\n\r\nDocs: https://docs.tigergraph.com/v/2.6/graph-algorithm-library#single-source-shortest-path-unweighted\r\n\r\nCode: https://github.com/tigergraph/gsql-graph-algorithms/blob/master/algorithms/schema-free/shortest_ss_no_wt.gsql\r\n\r\n**Single-Source Shortest Path (weighted)**\r\n\r\nDocs: https://docs.tigergraph.com/v/2.6/graph-algorithm-library#single-source-shortest-path-weighted\r\n\r\nCode: https://github.com/tigergraph/gsql-graph-algorithms/blob/master/algorithms/schema-free/shortest_ss_any_wt.gsql",
          "link": "https://stackoverflow.com/questions/65007546/can-graph-dbs-perform-well-with-unspecified-end-nodes/65008039#65008039",
          "title": "Can Graph DBs perform well with unspecified end nodes?"
        }
      ],
      "owner": {
        "reputation": 2051,
        "user_id": 783836,
        "user_type": "registered",
        "accept_rate": 82,
        "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
        "display_name": "user783836",
        "link": "https://stackoverflow.com/users/783836/user783836"
      },
      "last_editor": {
        "reputation": 9515,
        "user_id": 7879193,
        "user_type": "registered",
        "profile_image": "https://lh5.googleusercontent.com/-bVdcN0nQCio/AAAAAAAAAAI/AAAAAAAACfs/jPa4Dr_Nzbk/photo.jpg?sz=128",
        "display_name": "Stanislav Kralin",
        "link": "https://stackoverflow.com/users/7879193/stanislav-kralin"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 32,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65008039,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606324671,
      "creation_date": 1606317369,
      "last_edit_date": 1606320521,
      "question_id": 65007546,
      "share_link": "https://stackoverflow.com/q/65007546",
      "body_markdown": "I have been experimenting with neo4j for a very specific scenario and I have been unable to get it to perform well - queries take minutes to return. I am wondering if this is a case of the wrong technology for the job?\r\n\r\nA simplified version of my scenario is below. I have `Town`s that are linked to each other via routes. Each route has a distance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe question I&#39;m trying to ask is: calculate the shortest route from `Town A` to every other town reachable from `Town A`. In this scenario, there are an unspecified number of end nodes. This query takes minutes to return with a small dataset and doesn&#39;t return at all for larger data sets with 50,000 nodes. \r\n\r\nIf I ask the question: calculate the shortest route from `Town A` to `Town E` the response is seemingly instant. In this scenario, both the start and end nodes are known.\r\n\r\nMy question is, are graph dbs good for the open ended questions (calculate the shortest route from `Town A` to every other town reachable from `Town A`)? If so, is it just my approach to structuring the data that is hampering the performance?\r\n\r\n\r\n [1]: https://i.stack.imgur.com/9URAp.png",
      "link": "https://stackoverflow.com/questions/65007546/can-graph-dbs-perform-well-with-unspecified-end-nodes",
      "title": "Can Graph DBs perform well with unspecified end nodes?"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "last_editor": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606312694,
          "last_edit_date": 1606312694,
          "creation_date": 1606312255,
          "answer_id": 65006034,
          "question_id": 65005344,
          "share_link": "https://stackoverflow.com/a/65006034",
          "body_markdown": "You can use [variable-length relationship patterns][1] such as:\r\n\r\n```\r\nMATCH path=(:Days)&lt;-[:prevDay*]-(lastDay:Days)\r\nWITH lastDay\r\nORDER BY LENGTH(path) DESC\r\nLIMIT 1\r\nRETURN lastDay\r\n```\r\n\r\n\r\n [1]: https://neo4j.com/docs/cypher-manual/current/clauses/match/#varlength-rels",
          "link": "https://stackoverflow.com/questions/65005344/neo4j-get-last-node-in-a-path/65006034#65006034",
          "title": "neo4j: Get last node in a path"
        },
        {
          "comments": [
            {
              "owner": {
                "reputation": 6221,
                "user_id": 277128,
                "user_type": "registered",
                "accept_rate": 79,
                "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
                "display_name": "fbiville",
                "link": "https://stackoverflow.com/users/277128/fbiville"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606314034,
              "post_id": 65006275,
              "comment_id": 114927085,
              "link": "https://stackoverflow.com/questions/65005344/neo4j-get-last-node-in-a-path/65006275#comment114927085_65006275"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 2205,
            "user_id": 1734996,
            "user_type": "registered",
            "accept_rate": 85,
            "profile_image": "https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name": "Graphileon",
            "link": "https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606313045,
          "creation_date": 1606313045,
          "answer_id": 65006275,
          "question_id": 65005344,
          "share_link": "https://stackoverflow.com/a/65006275",
          "body_markdown": "I would do something like this:\r\n\r\n\r\n MATCH path=(:Days {name:&#39;Day 1&#39;})&lt;-[:prevDay*]-(lastDay:Days)\r\n WHERE NOT (lastDay)&lt;-[:prevDay]-()\r\n RETURN lastDay\r\n\r\n",
          "link": "https://stackoverflow.com/questions/65005344/neo4j-get-last-node-in-a-path/65006275#65006275",
          "title": "neo4j: Get last node in a path"
        }
      ],
      "owner": {
        "reputation": 169,
        "user_id": 1241317,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://www.gravatar.com/avatar/aa85887b106002e67297feb198bf8bfb?s=128&d=identicon&r=PG",
        "display_name": "Nrgyzer",
        "link": "https://stackoverflow.com/users/1241317/nrgyzer"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 33,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65006275,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1606313045,
      "creation_date": 1606309767,
      "question_id": 65005344,
      "share_link": "https://stackoverflow.com/q/65005344",
      "body_markdown": "I&#39;m pretty new to neo4j and I managed to create nodes and relationships between them. But now I&#39;m trying to get the last nodes. Given I&#39;ve the following graph:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEach node references the previous day. Now I want start at &quot;Day 1&quot; to get the last node (&quot;Day 4&quot;) to determine it&#39;s date. How can I do this? After I read https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-endnode I tried `MATCH mypath = (b:Days)&lt;-[prevDay]-(endnode) RETURN endNode(prevDay) AS lastDay`. Unfortunately this query returns me Day 1, Day 2 and Day 3. The last day (&quot;Day 4&quot;) is not returned. So how can I get &quot;Day 4&quot; only?\r\n\r\n [1]: https://i.stack.imgur.com/A0qyi.png",
      "link": "https://stackoverflow.com/questions/65005344/neo4j-get-last-node-in-a-path",
      "title": "neo4j: Get last node in a path"
    },
    {
      "tags": ["neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606305259,
          "post_id": 65002039,
          "comment_id": 114922927,
          "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails#comment114922927_65002039"
        },
        {
          "owner": {
            "reputation": 183,
            "user_id": 12463260,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
            "display_name": "Filippo Grazioli",
            "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
          },
          "reply_to_user": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606377624,
          "post_id": 65002039,
          "comment_id": 114947026,
          "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails#comment114947026_65002039"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 183,
                "user_id": 12463260,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
                "display_name": "Filippo Grazioli",
                "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606377429,
              "post_id": 65012459,
              "comment_id": 114946956,
              "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails/65012459#comment114946956_65012459"
            },
            {
              "owner": {
                "reputation": 6050,
                "user_id": 7371893,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
                "display_name": "&#226;ńōŋŷXmoůŜ",
                "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
              },
              "reply_to_user": {
                "reputation": 183,
                "user_id": 12463260,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
                "display_name": "Filippo Grazioli",
                "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606747425,
              "post_id": 65012459,
              "comment_id": 115047125,
              "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails/65012459#comment115047125_65012459"
            },
            {
              "owner": {
                "reputation": 183,
                "user_id": 12463260,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
                "display_name": "Filippo Grazioli",
                "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606837600,
              "post_id": 65012459,
              "comment_id": 115079864,
              "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails/65012459#comment115079864_65012459"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "last_editor": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1606943116,
          "last_edit_date": 1606943116,
          "creation_date": 1606337179,
          "answer_id": 65012459,
          "question_id": 65002039,
          "share_link": "https://stackoverflow.com/a/65012459",
          "body_markdown": "This is a way to export all nodes and relationships into a csv file using APOC function.\r\n\r\nRef: https://neo4j.com/labs/apoc/4.1/export/csv/\r\n\r\nFor example; to download all nodes and relationships of Movies database\r\n\r\n CALL apoc.export.csv.all(&quot;movies.csv&quot;, {})\r\n\r\nOR if you want to add your own query, see sample below:\r\n\r\n MATCH (person:Person)\r\n WHERE person.name STARTS WITH &quot;L&quot;\r\n WITH collect(person) AS people\r\n CALL apoc.export.csv.data(people, [], &quot;movies-l.csv&quot;, {})\r\n YIELD file, source, format, nodes, relationships, properties, time, rows, batchSize, batches, done, data\r\n RETURN file, source, format, nodes, relationships, properties, time, rows, batchSize, batches, done, data\r\n\r\n==================\r\n\r\nWhy do you need to see 300k nodes and 8M relationships in one browser?\r\nYou can use alternatives below:\r\n\r\n 1 call db.schema.visualization() -&gt; a simplified view of the database\r\n \r\n 2 MATCH p=()-[]-&gt;()\r\n RETURN p\r\n LIMIT 25 -&gt; limits few nodes to view\r\n",
          "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails/65012459#65012459",
          "title": "Neo4j query all triples fails"
        }
      ],
      "owner": {
        "reputation": 183,
        "user_id": 12463260,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwN43B10WzQEKeUVy1KmwtYMAX1NJrSVlwaEXlwT8=k-s128",
        "display_name": "Filippo Grazioli",
        "link": "https://stackoverflow.com/users/12463260/filippo-grazioli"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606943116,
      "creation_date": 1606297300,
      "question_id": 65002039,
      "share_link": "https://stackoverflow.com/q/65002039",
      "body_markdown": "I have a graph with 300k nodes and 4M relationships.\r\n\r\nI&#39;d like to query all triples:\r\n\r\n MATCH p=()-[]-&gt;()\r\n RETURN p\r\n\r\nI get the following error:\r\n\r\n Neo.DatabaseError.Statement.ExecutionFailed\r\n \r\n org.neo4j.io.pagecache.CursorException: PropertyRecord claims to have more property blocks than can fit in a record\r\n\r\nDo you know what goes wrong? Thanks.",
      "link": "https://stackoverflow.com/questions/65002039/neo4j-query-all-triples-fails",
      "title": "Neo4j query all triples fails"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 14704436,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2e2b2ae1f4b2c72179a32590d2ad4292?s=128&d=identicon&r=PG&f=1",
                "display_name": "pxfoost",
                "link": "https://stackoverflow.com/users/14704436/pxfoost"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606297447,
              "post_id": 65001198,
              "comment_id": 114919433,
              "link": "https://stackoverflow.com/questions/65000970/neo4j-batchinserter-count-failure-how-can-i-do/65001198#comment114919433_65001198"
            },
            {
              "owner": {
                "reputation": 1,
                "user_id": 14704436,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2e2b2ae1f4b2c72179a32590d2ad4292?s=128&d=identicon&r=PG&f=1",
                "display_name": "pxfoost",
                "link": "https://stackoverflow.com/users/14704436/pxfoost"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606298014,
              "post_id": 65001198,
              "comment_id": 114919685,
              "link": "https://stackoverflow.com/questions/65000970/neo4j-batchinserter-count-failure-how-can-i-do/65001198#comment114919685_65001198"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "last_editor": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606307710,
          "last_edit_date": 1606307710,
          "creation_date": 1606293871,
          "answer_id": 65001198,
          "question_id": 65000970,
          "share_link": "https://stackoverflow.com/a/65001198",
          "body_markdown": "Welcome!\r\n\r\n\r\nYou cannot use an in-process server as its files are deleted after each shutdown, which explains why the count is always 0 when you restart it.\r\n\r\nOn a side note, you should close the `BatchInserter` with a try-with-resources block to make sure the changes are flushed once you&#39;re done creating the nodes and relationships:\r\n\r\n```java\r\ntry (BatchInserter batchInserter = BatchInserters.inserter(tempStoreDir, fileSystem, configuration(denseNodeThreshold))) {\r\n // [...]\r\n}\r\n```",
          "link": "https://stackoverflow.com/questions/65000970/neo4j-batchinserter-count-failure-how-can-i-do/65001198#65001198",
          "title": "Neo4j BatchInserter count failure,How can i do?"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 14704436,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2e2b2ae1f4b2c72179a32590d2ad4292?s=128&d=identicon&r=PG&f=1",
        "display_name": "pxfoost",
        "link": "https://stackoverflow.com/users/14704436/pxfoost"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606307710,
      "creation_date": 1606292929,
      "question_id": 65000970,
      "share_link": "https://stackoverflow.com/q/65000970",
      "body_markdown": "I am use the following code to batch insert data into neo4j database, but after i run the code, the Cypher &quot;match (n) return count(n)&quot; return 0.I have try much times,but not success, Can you help me? Thanks a lot!\r\n\r\n int denseNodeThreshold = GraphDatabaseSettings.dense_node_threshold.defaultValue();\r\n DatabaseLayout tempStoreDir = ((GraphDatabaseAPI)graphDb).databaseLayout();\r\n final FileSystemAbstraction fileSystem = new DefaultFileSystemAbstraction();\r\n batchInserter = BatchInserters.inserter(tempStoreDir, fileSystem, configuration(denseNodeThreshold));\r\n batchInserter.createDeferredSchemaIndex(personLabel).on(&quot;name&quot;).create();\r\n final ArrayList&lt;Long&gt; nodeIds = new ArrayList&lt;&gt;();\r\n //没有索引，通过Neo4j Desktop打开左侧没有 Node Labels和Relationship Types，有索引的情况下，count为0\r\n for(int i=0; i&lt;1e5; i++){\r\n Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n properties.put( &quot;name&quot;, UUID.randomUUID().toString() );\r\n long nodeId = batchInserter.createNode( properties, personLabel );\r\n nodeIds.add(nodeId);\r\n }\r\n final Random random = new Random();\r\n for(int i=0; i&lt;1e3; i++){\r\n Long from = nodeIds.get((random.nextInt() % nodeIds.size() + nodeIds.size()) % nodeIds.size());\r\n Long to = nodeIds.get((random.nextInt() % nodeIds.size() + nodeIds.size()) % nodeIds.size());\r\n batchInserter.createRelationship( from, to, knows, null );\r\n }",
      "link": "https://stackoverflow.com/questions/65000970/neo4j-batchinserter-count-failure-how-can-i-do",
      "title": "Neo4j BatchInserter count failure,How can i do?"
    },
    {
      "tags": ["neo4j", "cypher", "neo4j-apoc"],
      "comments": [
        {
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606294327,
          "post_id": 64994974,
          "comment_id": 114918082,
          "link": "https://stackoverflow.com/questions/64994974/after-update-to-neo4j-4-2-not-work-apoc-functions-from-reader-role#comment114918082_64994974"
        },
        {
          "owner": {
            "reputation": 286,
            "user_id": 1010297,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://www.gravatar.com/avatar/8d07be5154bd1452ac52b539d6bdde4a?s=128&d=identicon&r=PG",
            "display_name": "Atterratio",
            "link": "https://stackoverflow.com/users/1010297/atterratio"
          },
          "reply_to_user": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606294786,
          "post_id": 64994974,
          "comment_id": 114918274,
          "link": "https://stackoverflow.com/questions/64994974/after-update-to-neo4j-4-2-not-work-apoc-functions-from-reader-role#comment114918274_64994974"
        }
      ],
      "owner": {
        "reputation": 286,
        "user_id": 1010297,
        "user_type": "registered",
        "accept_rate": 67,
        "profile_image": "https://www.gravatar.com/avatar/8d07be5154bd1452ac52b539d6bdde4a?s=128&d=identicon&r=PG",
        "display_name": "Atterratio",
        "link": "https://stackoverflow.com/users/1010297/atterratio"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606252689,
      "creation_date": 1606252689,
      "question_id": 64994974,
      "share_link": "https://stackoverflow.com/q/64994974",
      "body_markdown": "neo4j version 4.2.0\r\n\r\napoc version 4.2.0.0\r\n\r\nAfter update to neo4j 4.2 not work apoc functions from reader role, return error:\r\n\r\n&gt; message: Executing a user defined function is not allowed for user\r\n&gt; &#39;User&#39; with roles [PUBLIC, reader].\r\n\r\nYes, it&#39;s qute simple just find in docs need to run script for grant privileges:\r\n\r\n GRANT EXECUTE FUNCTION apoc.* ON DBMS TO reader\r\n\r\nBut here start real problems it&#39;s return error:\r\n\r\n&gt; This operation is not supported while running in compatibility mode\r\n&gt; with version Neo4j 4.1\r\n\r\nCan&#39;t find anything about this *compatibility* in google or in config, run with spicifig cypher version like this not help:\r\n\r\n CYPHER 4.2 GRANT EXECUTE FUNCTION apoc.* ON DBMS TO reader\r\n ",
      "link": "https://stackoverflow.com/questions/64994974/after-update-to-neo4j-4-2-not-work-apoc-functions-from-reader-role",
      "title": "After update to neo4j 4.2 not work apoc functions from reader role"
    },
    {
      "tags": ["neo4j", "couchbase", "neo4j-apoc", "couchbase-java-api"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606214950,
          "creation_date": 1606214950,
          "answer_id": 64984866,
          "question_id": 64981159,
          "share_link": "https://stackoverflow.com/a/64984866",
          "body_markdown": "You can use the Couchbase Kafka connector to send CDC events to Kafka.\r\n\r\nhttps://docs.couchbase.com/kafka-connector/current/quickstart.html\r\n\r\nFrom there, you can read the kafka topics in order to import the data into Neo4j : \r\n\r\nhttps://github.com/neo4j-contrib/neo4j-streams",
          "link": "https://stackoverflow.com/questions/64981159/insert-update-docs-in-neo4j-using-couchbase/64984866#64984866",
          "title": "Insert/update docs in neo4j using Couchbase"
        }
      ],
      "owner": {
        "reputation": 25,
        "user_id": 13803939,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/4a62a61ed61cc7ef155cc01484a458a6?s=128&d=identicon&r=PG&f=1",
        "display_name": "stg",
        "link": "https://stackoverflow.com/users/13803939/stg"
      },
      "last_editor": {
        "reputation": 5880,
        "user_id": 2266,
        "user_type": "registered",
        "accept_rate": 90,
        "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
        "display_name": "Chris Skardon",
        "link": "https://stackoverflow.com/users/2266/chris-skardon"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606214950,
      "creation_date": 1606198601,
      "last_edit_date": 1606214322,
      "question_id": 64981159,
      "share_link": "https://stackoverflow.com/q/64981159",
      "body_markdown": "I want to insert/update the document in Couchbase from their it should be automatically inserted/updated to neo4j database. Is their any plugin or software to do the same? How can I achieve this functionality?\r\n\r\nCouchbase enterprise version: 6.6\r\nNeo4j enterprise version: 4.1.3 \r\n\r\nI read this blog https://dzone.com/articles/couchbase-amp-jdbc-integrations-for-neo4j-3x but I am not getting clarity over Neo4jJSON Loader, please guide me for the same.",
      "link": "https://stackoverflow.com/questions/64981159/insert-update-docs-in-neo4j-using-couchbase",
      "title": "Insert/update docs in neo4j using Couchbase"
    },
    {
      "tags": ["neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 2205,
            "user_id": 1734996,
            "user_type": "registered",
            "accept_rate": 85,
            "profile_image": "https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name": "Graphileon",
            "link": "https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606191827,
          "creation_date": 1606191827,
          "answer_id": 64980219,
          "question_id": 64978491,
          "share_link": "https://stackoverflow.com/a/64980219",
          "body_markdown": "AFAIK, using sum() in a SET does not work.\r\n\r\nYou have to insert a WITH :\r\n\r\n WITH n, sum(b.szDet) AS DET\r\n SET n.szDet_t = DET\r\n\r\nshould work",
          "link": "https://stackoverflow.com/questions/64978491/having-an-issue-with-neo4j/64980219#64980219",
          "title": "Having an issue with Neo4j"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 13138432,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/3088480574498041/picture?type=large",
        "display_name": "Javatoneo",
        "link": "https://stackoverflow.com/users/13138432/javatoneo"
      },
      "last_editor": {
        "reputation": 6050,
        "user_id": 7371893,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
        "display_name": "&#226;ńōŋŷXmoůŜ",
        "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606337355,
      "creation_date": 1606176869,
      "last_edit_date": 1606337355,
      "question_id": 64978491,
      "share_link": "https://stackoverflow.com/q/64978491",
      "body_markdown": " MATCH (n:CALLS { compileunit:&#39;Way-Duy_User-Task-Manager.2020-11-12.java&#39;, release:1})-[*]-&gt;(b) \r\n set n.szDet_t = sum(b.szDet)\r\n return n, sum(b.szDet) as DET \r\n\r\nThe above mentioned code is not working, although similar lines are functioning perfectly.\r\n\r\nThis gets the right value but does NOT update det.\r\n\r\n MATCH (n:CALLS { compileunit:&#39;Way-Duy_User-Task-Manager.2020-11-12.java&#39;, release:1})-[*]-&gt;(b) \r\n return n.Label, sum(b.szDet) as DET \r\n\r\nI would appreciate help in getting this to work. This is Neo4j cypher.",
      "link": "https://stackoverflow.com/questions/64978491/having-an-issue-with-neo4j",
      "title": "Having an issue with Neo4j"
    },
    {
      "tags": ["node.js", "angular", "npm", "neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 426,
            "user_id": 5403764,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/bb7cc49da05dfded32aa7d79f18424c1?s=128&d=identicon&r=PG&f=1",
            "display_name": "Gaurav Varshney",
            "link": "https://stackoverflow.com/users/5403764/gaurav-varshney"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606201713,
          "post_id": 64978426,
          "comment_id": 114883433,
          "link": "https://stackoverflow.com/questions/64978426/error-running-npm-install-returns-this-is-a-bug-in-node-gyp#comment114883433_64978426"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 672,
            "user_id": 9599641,
            "user_type": "registered",
            "profile_image": "https://lh4.googleusercontent.com/-iNNFOpRXXEM/AAAAAAAAAAI/AAAAAAAAbVU/8cOV9eGkiUM/photo.jpg?sz=128",
            "display_name": "Kavinda Senarathne",
            "link": "https://stackoverflow.com/users/9599641/kavinda-senarathne"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606183693,
          "creation_date": 1606183693,
          "answer_id": 64979281,
          "question_id": 64978426,
          "share_link": "https://stackoverflow.com/a/64979281",
          "body_markdown": "This is a known canvas issue, probably caused by missing native libs.\r\nTry this see if it helps:\r\n\r\n sudo npm uninstall -g node-gyp\r\n sudo npm install -g node-gyp\r\n brew install pkg-config cairo libpng jpeg giflib\r\n npm i canvas",
          "link": "https://stackoverflow.com/questions/64978426/error-running-npm-install-returns-this-is-a-bug-in-node-gyp/64979281#64979281",
          "title": "Error running npm install, returns This is a bug in `node-gyp`"
        }
      ],
      "owner": {
        "reputation": 66,
        "user_id": 11671909,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/27ed6e076e4a285e12553677c06e14b6?s=128&d=identicon&r=PG&f=1",
        "display_name": "Fernando",
        "link": "https://stackoverflow.com/users/11671909/fernando"
      },
      "last_editor": {
        "reputation": 15209,
        "user_id": 1611459,
        "user_type": "registered",
        "accept_rate": 60,
        "profile_image": "https://www.gravatar.com/avatar/906a127a2ba621cc3a537acca3c1037d?s=128&d=identicon&r=PG",
        "display_name": "RobC",
        "link": "https://stackoverflow.com/users/1611459/robc"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 84,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606571667,
      "creation_date": 1606176334,
      "last_edit_date": 1606571667,
      "question_id": 64978426,
      "share_link": "https://stackoverflow.com/q/64978426",
      "body_markdown": "I am new to Angular and Node. I am trying to execute an project created using Angular, Neo4j.\r\nAt first, I tried to run it as it is. However, i am givem the following error after opening the browser:\r\n\r\n&gt; NullInjectorError: StaticInjectorError(AppModule)[RouterScroller -&gt; &gt;ViewportScroller]: \r\n&gt; StaticInjectorError(Platform: core)[RouterScroller -&gt; ViewportScroller]: \r\n&gt; NullInjectorError: No provider for ViewportScroller!\r\n&gt;\r\n&gt; ERROR Error: Uncaught (in promise): Neo4jError: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: 3\r\nNeo4jError: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: 3\r\n\r\nThen, I tried an clean install following this process:\r\n1) Delete the node_modules from project;\r\n2) Run `npm install --global windows-build-tools`\r\n3) Run `npm install`\r\n\r\nThen i am given this error:\r\n\r\n&gt;```none\r\n&gt; gyp ERR! UNCAUGHT EXCEPTION\r\n&gt; gyp ERR! stack Error: spawn C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\MSBuild\\15.0\\Bin\\MSBuild.exe ENOENT\r\n&gt; gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:269:19)\r\n&gt; gyp ERR! stack at onErrorNT (internal/child_process.js:465:16)\r\n&gt; gyp ERR! stack at processTicksAndRejections (internal/process/task_queues.js:80:21)\r\n&gt; gyp ERR! System Windows_NT 10.0.19041\r\n&gt; gyp ERR! command &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot; &quot;C:\\\\Users\\\\USER_NAME\\\\PROJECT\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&quot; &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot; &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot;\r\n&gt; gyp ERR! cwd C:\\Users\\USER_NAME\\PROJECT\\node_modules\\node-sass\r\n&gt; gyp ERR! node -v v14.15.1\r\n&gt; gyp ERR! node-gyp -v v3.8.0\r\n&gt; gyp ERR! This is a bug in `node-gyp`.\r\n&gt; gyp ERR! Try to update node-gyp and file an Issue if it does not help:\r\n&gt; gyp ERR! &lt;https://github.com/nodejs/node-gyp/issues&gt;\r\n&gt;```\r\n\r\nSorry for the wall of text. Any suggestions to solve this problem?\r\n\r\n---\r\n\r\n**Edit:**\r\n\r\nI&#39;ve also tried the following:\r\n\r\n1. Rebuilding the `node-gyp` bindings by running `node-gyp rebuild`, however that returns the following error:\r\n\r\n &gt;```none\r\n &gt; binding.gyp not found while trying to load binding.gyp\r\n &gt; gyp ERR! configure error\r\n &gt; gyp ERR! System Windows_NT 10.0.19041\r\n &gt; gyp ERR! node -v v14.15.1 gyp ERR! node-gyp -v v7.1.2\r\n &gt;```\r\n\r\n2. I can confirm that `node-gyp` is installed globally because I ran: `npm install -g node-gyp`\r\n\r\n3. I tried the gyp rebuild using python 2.7.18 to no avail. Still returning the same error.",
      "link": "https://stackoverflow.com/questions/64978426/error-running-npm-install-returns-this-is-a-bug-in-node-gyp",
      "title": "Error running npm install, returns This is a bug in `node-gyp`"
    },
    {
      "tags": ["neo4j", "cypher"],
      "comments": [
        {
          "owner": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1606338146,
          "post_id": 64976869,
          "comment_id": 114937964,
          "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path#comment114937964_64976869"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 6050,
                "user_id": 7371893,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
                "display_name": "&#226;ńōŋŷXmoůŜ",
                "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
              },
              "edited": false,
              "score": 1,
              "creation_date": 1606339225,
              "post_id": 65012824,
              "comment_id": 114938297,
              "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#comment114938297_65012824"
            },
            {
              "owner": {
                "reputation": 6130,
                "user_id": 5004822,
                "user_type": "registered",
                "accept_rate": 41,
                "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1",
                "display_name": "SledgeHammer",
                "link": "https://stackoverflow.com/users/5004822/sledgehammer"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606340048,
              "post_id": 65012824,
              "comment_id": 114938603,
              "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#comment114938603_65012824"
            },
            {
              "owner": {
                "reputation": 6130,
                "user_id": 5004822,
                "user_type": "registered",
                "accept_rate": 41,
                "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1",
                "display_name": "SledgeHammer",
                "link": "https://stackoverflow.com/users/5004822/sledgehammer"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606348104,
              "post_id": 65012824,
              "comment_id": 114940801,
              "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#comment114940801_65012824"
            },
            {
              "owner": {
                "reputation": 6130,
                "user_id": 5004822,
                "user_type": "registered",
                "accept_rate": 41,
                "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1",
                "display_name": "SledgeHammer",
                "link": "https://stackoverflow.com/users/5004822/sledgehammer"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606354379,
              "post_id": 65012824,
              "comment_id": 114942017,
              "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#comment114942017_65012824"
            },
            {
              "owner": {
                "reputation": 6130,
                "user_id": 5004822,
                "user_type": "registered",
                "accept_rate": 41,
                "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1",
                "display_name": "SledgeHammer",
                "link": "https://stackoverflow.com/users/5004822/sledgehammer"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606355584,
              "post_id": 65012824,
              "comment_id": 114942295,
              "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#comment114942295_65012824"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "last_editor": {
            "reputation": 6050,
            "user_id": 7371893,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1",
            "display_name": "&#226;ńōŋŷXmoůŜ",
            "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"
          },
          "comment_count": 5,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606344414,
          "last_edit_date": 1606344414,
          "creation_date": 1606339189,
          "answer_id": 65012824,
          "question_id": 64976869,
          "share_link": "https://stackoverflow.com/a/65012824",
          "body_markdown": "You can access the elements of the path and get the attributes one at a time. It is quite tedious but it gets the work done.\r\n\r\nelements[index] is starting node; elements[index+1] is relationship and elements[index+2] is the ending node.\r\nID(node) is the node id and type(node) is the relationship type\r\n\r\n MATCH path=shortestPath((p1:Person)-[*0..15]-(p2:Person)) \r\n WHERE toLower(p1.name) = toLower(&#39;Halle Berry&#39;) AND toLower(p2.name) = toLower(&#39;Tom Hanks&#39;) \r\n WITH apoc.path.elements(path) AS elements, nodes(path) AS nodes\r\n UNWIND range(0, size(elements)-2) AS index\r\n WITH nodes, elements, index WHERE index %2 = 0\r\n WITH nodes, ID(elements[index]) AS start, ID(elements[index+1]) AS identity, ID(elements[index+2]) AS end, type(elements[index+1]) as type, elements[index+1] as roles\r\n UNWIND roles as role\r\n WITH nodes, start, end, identity, type, apoc.coll.sort(role.roles) as roles\r\n RETURN collect({start: start, end: end, identity: identity, type: type, properties: {roles: roles}}) as relationships, nodes\r\n\r\n RESULT:\r\n ╒══════════════════════════════════════════════════════════════════════╤══════════════════════════════════════════════════════════════════════╕\r\n │&quot;relationships&quot; │&quot;nodes&quot; │\r\n ╞══════════════════════════════════════════════════════════════════════╪══════════════════════════════════════════════════════════════════════╡\r\n │[{&quot;identity&quot;:139,&quot;start&quot;:106,&quot;end&quot;:105,&quot;type&quot;:&quot;ACTED_IN&quot;,&quot;properties&quot;:│[{&quot;name&quot;:&quot;Halle Berry&quot;,&quot;born&quot;:1966},{&quot;title&quot;:&quot;Cloud Atlas&quot;,&quot;tagline&quot;:&quot;│\r\n │{&quot;roles&quot;:[&quot;Jocasta Ayrs&quot;,&quot;Luisa Rey&quot;,&quot;Meronym&quot;,&quot;Ovid&quot;]}},{&quot;identity&quot;:1│Everything is connected&quot;,&quot;released&quot;:2012},{&quot;name&quot;:&quot;Tom Hanks&quot;,&quot;born&quot;:1│\r\n │37,&quot;start&quot;:105,&quot;end&quot;:71,&quot;type&quot;:&quot;ACTED_IN&quot;,&quot;properties&quot;:{&quot;roles&quot;:[&quot;Derm│956}] │\r\n │ot Hoggins&quot;,&quot;Dr. Henry Goose&quot;,&quot;Isaac Sachs&quot;,&quot;Zachry&quot;]}}] │ │\r\n └──────────────────────────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────────────┘\r\n\r\n====EDITED===\r\nYou can UNWIND the roles then sort it. Lastly, collect them again as a list of dictionaries.\r\n\r\n MATCH path=shortestPath((p1:Person)-[*0..15]-(p2:Person)) \r\n WHERE toLower(p1.name) = toLower(&#39;Halle Berry&#39;) AND toLower(p2.name) = toLower(&#39;Tom Hanks&#39;) \r\n WITH relationships(path) AS relationships, nodes(path) AS nodes\r\n UNWIND relationships as role\r\n WITH apoc.coll.sort(role.roles) as roles, nodes \r\n RETURN collect({roles: roles}) as relationships, nodes\r\n\r\n RESULT:\r\n ╒══════════════════════════════════════════════════════════════════════╤══════════════════════════════════════════════════════════════════════╕\r\n │&quot;relationships&quot; │&quot;nodes&quot; │\r\n ╞══════════════════════════════════════════════════════════════════════╪══════════════════════════════════════════════════════════════════════╡\r\n │[{&quot;roles&quot;:[&quot;Jocasta Ayrs&quot;,&quot;Luisa Rey&quot;,&quot;Meronym&quot;,&quot;Ovid&quot;]},{&quot;roles&quot;:[&quot;De│[{&quot;name&quot;:&quot;Halle Berry&quot;,&quot;born&quot;:1966},{&quot;title&quot;:&quot;Cloud Atlas&quot;,&quot;tagline&quot;:&quot;│\r\n │rmot Hoggins&quot;,&quot;Dr. Henry Goose&quot;,&quot;Isaac Sachs&quot;,&quot;Zachry&quot;]}] │Everything is connected&quot;,&quot;released&quot;:2012},{&quot;name&quot;:&quot;Tom Hanks&quot;,&quot;born&quot;:1│\r\n │ │956}] │\r\n └──────────────────────────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────────────┘",
          "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path/65012824#65012824",
          "title": "Neo4j path query / sorting properties in path"
        }
      ],
      "owner": {
        "reputation": 6130,
        "user_id": 5004822,
        "user_type": "registered",
        "accept_rate": 41,
        "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1",
        "display_name": "SledgeHammer",
        "link": "https://stackoverflow.com/users/5004822/sledgehammer"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 32,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 65012824,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606344414,
      "creation_date": 1606167469,
      "question_id": 64976869,
      "share_link": "https://stackoverflow.com/q/64976869",
      "body_markdown": "Pretty simple shortest path query on the Movies data set:\r\n\r\n MATCH path=shortestPath((p1:Person)-[*0..15]-(p2:Person)) WHERE toLower(p1.name) = toLower(&#39;Halle Berry&#39;) AND toLower(p2.name) = toLower(&#39;Tom Hanks&#39;) \r\n RETURN relationships(path) AS relationships, nodes(path) AS nodes\r\n\r\nHow can I sort the roles array? I.e. on this particular movie, they had a bunch of roles. I can sort it on the app side, but would be nice to do it on the Neo side. When it comes to Nodes, I&#39;ve been doing this with UNWIND, but that doesn&#39;t seem to work on path properties.",
      "link": "https://stackoverflow.com/questions/64976869/neo4j-path-query-sorting-properties-in-path",
      "title": "Neo4j path query / sorting properties in path"
    },
    {
      "tags": ["azure", "neo4j", "azure-vm"],
      "comments": [
        {
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606143762,
          "post_id": 64968714,
          "comment_id": 114864476,
          "link": "https://stackoverflow.com/questions/64968714/neo4j-connection-refused-error-on-centos-azure-vm#comment114864476_64968714"
        },
        {
          "owner": {
            "reputation": 129,
            "user_id": 11759497,
            "user_type": "registered",
            "profile_image": "https://lh6.googleusercontent.com/-YWapOjfP_Is/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reLzj5fVqrgIP6sN0JF5eGc6G9eEA/photo.jpg?sz=128",
            "display_name": "Janani Hariharan",
            "link": "https://stackoverflow.com/users/11759497/janani-hariharan"
          },
          "reply_to_user": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606196411,
          "post_id": 64968714,
          "comment_id": 114882032,
          "link": "https://stackoverflow.com/questions/64968714/neo4j-connection-refused-error-on-centos-azure-vm#comment114882032_64968714"
        }
      ],
      "owner": {
        "reputation": 129,
        "user_id": 11759497,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-YWapOjfP_Is/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reLzj5fVqrgIP6sN0JF5eGc6G9eEA/photo.jpg?sz=128",
        "display_name": "Janani Hariharan",
        "link": "https://stackoverflow.com/users/11759497/janani-hariharan"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606135557,
      "creation_date": 1606135557,
      "question_id": 64968714,
      "share_link": "https://stackoverflow.com/q/64968714",
      "body_markdown": "I have installed the neo4j in centos azure vm\r\n\r\nI am trying to access it using the my local browser outside the vm. I am trying to create a 3 tier architecture where my neo4j will be sitting in one linux centos vm. But I am not able to access the neo4j.\r\n\r\nI have added the inbound rules for ports 8080,7474,7687,7473.\r\nKindly help me in hosting the neo4j in azure vm. Please let me know what is the issue or configuration needed.\r\n\r\n \r\n\r\n &gt; yum remove neo4j-4.2.0-1.noarch \r\n &gt; systemctl enable neo4j\r\n &gt; service neo4j start\r\n &gt; service neo4j status \r\n \r\n curl -v http://ip:7474/db/data\r\n Neo4j.conf\r\n\r\n # Bolt connector\r\n dbms.connector.bolt.enabled=true\r\n dbms.connector.bolt.tls_level=OPTIONAL\r\n dbms.connector.bolt.listen_address=:7687\r\n #dbms.connector.bolt.advertised_address=:7687\r\n \r\n # HTTP Connector. There can be zero or one HTTP connectors.\r\n dbms.connector.http.enabled=true\r\n dbms.connector.http.listen_address=:#{default.http.port}\r\n #dbms.connector.http.advertised_address=:7474\r\n \r\n # HTTPS Connector. There can be zero or one HTTPS connectors.\r\n dbms.connector.https.enabled=true\r\n #dbms.connector.https.listen_address=:7473\r\n #dbms.connector.https.advertised_address=:7473\r\n # To enable HTTP logging, uncomment this line\r\n dbms.logs.http.enabled=false\r\n\r\n\r\n",
      "link": "https://stackoverflow.com/questions/64968714/neo4j-connection-refused-error-on-centos-azure-vm",
      "title": "neo4j connection refused error on centos azure vm"
    },
    {
      "tags": ["kubernetes", "neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606134063,
          "post_id": 64967881,
          "comment_id": 114859460,
          "link": "https://stackoverflow.com/questions/64967881/deploy-neo4j-with-kubernetes#comment114859460_64967881"
        },
        {
          "owner": {
            "reputation": 71,
            "user_id": 3530701,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/026c57b78e3a8ceec5b8731f1217b429?s=128&d=identicon&r=PG&f=1",
            "display_name": "Nice91",
            "link": "https://stackoverflow.com/users/3530701/nice91"
          },
          "reply_to_user": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606135488,
          "post_id": 64967881,
          "comment_id": 114860131,
          "link": "https://stackoverflow.com/questions/64967881/deploy-neo4j-with-kubernetes#comment114860131_64967881"
        }
      ],
      "owner": {
        "reputation": 71,
        "user_id": 3530701,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/026c57b78e3a8ceec5b8731f1217b429?s=128&d=identicon&r=PG&f=1",
        "display_name": "Nice91",
        "link": "https://stackoverflow.com/users/3530701/nice91"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 36,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1606132298,
      "creation_date": 1606132298,
      "question_id": 64967881,
      "share_link": "https://stackoverflow.com/q/64967881",
      "body_markdown": "I want to deploy neo4j database on server by Kubernetes. After applying manifest files and click route, connection on neo4j browser raise error.\r\nI use &#39;neo4j&#39; for both username and password and With bolt and 7687 port returns:\r\n\r\n&gt; ServiceUnavailable: Failed to establish connection in 5000ms\r\n\r\n and with http and 7474 returns:\r\n&gt; ServiceUnavailable: NetworkError when attempting to fetch resource.\r\n\r\nI do&#39;nt know where is incorrect? \r\n\r\nManifest files containes the following:\r\n\r\ndeployment:\r\n```\r\napiVersion: apps/v1 \r\nkind: Deployment \r\nmetadata:\r\n labels:\r\n app: neo4j-db \r\n name: neo4j-db \r\nspec:\r\n replicas: 1\r\n Strategy:\r\n type: Recreate\r\n selector:\r\n matchLabels:\r\n app: neo4j-db\r\n template:\r\n metadata:\r\n labels: \r\n app: neo4j-db \r\n spec:\r\n containers:\r\n - image: neo4j:3.5.12 \r\n name: neo4j \r\n env: \r\n - name: NEO4J_dbms_security_procedures_unrestricted\r\n value: &quot;algo.*&quot;\r\n ports: ## Ports to map\r\n - containerPort: 7474\r\n name: http\r\n - containerPort: 7687\r\n name: bolt\r\n - containerPort: 7473\r\n name: https\r\n resources:\r\n limits:\r\n cpu: 500m\r\n ephemeral-storage: 500M\r\n memory: 500M\r\n requests:\r\n cpu: 500m\r\n ephemeral-storage: 500M\r\n memory: 500M\r\n volumeMounts: ## Volumes to mount\r\n - name: neo4j-data\r\n mountPath: &quot;/var/lib/neo4j/data&quot;\r\n volumes:\r\n - name: neo4j-data\r\n persistentVolumeClaim:\r\n claimName: neo4j-data-claim\r\n```\r\nservice:\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n name: neo4j-service\r\nspec:\r\n ports:\r\n - protocol: TCP\r\n port: 7474\r\n targetPort: 7474\r\n name: http\r\n - protocol: TCP\r\n port: 7473\r\n targetPort: 7473\r\n name: https\r\n - protocol: TCP\r\n port: 7687\r\n targetPort: 7687\r\n name: bolt\r\n selector:\r\n app: neo4j-db\r\n```\r\nroute:\r\n```\r\napiVersion: route.openshift.io/v1\r\nkind: Route\r\nmetadata:\r\n name: neo4j\r\n labels:\r\n app: neo4j\r\nspec:\r\n host: neo4j-db-noyantech.apps.ir-thr-at1.arvan.run\r\n to:\r\n kind: Service\r\n name: neo4j-service\r\n weight: 100\r\n tls:\r\n termination: edge\r\n insecureEdgeTerminationPolicy: Allow\r\n port:\r\n targetPort: http\r\n wildcardPolicy: None\r\n```\r\npvc:\r\n```\r\nkind: &quot;PersistentVolumeClaim&quot;\r\napiVersion: &quot;v1&quot;\r\nmetadata:\r\n name: neo4j-data-claim\r\n labels:\r\n app: neo4j-db\r\nspec:\r\n accessModes:\r\n - ReadWriteOnce\r\n resources:\r\n requests:\r\n storage: 5Gi\r\n```",
      "link": "https://stackoverflow.com/questions/64967881/deploy-neo4j-with-kubernetes",
      "title": "Deploy neo4j with kubernetes"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 854,
            "user_id": 1334067,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
            "display_name": "cechode",
            "link": "https://stackoverflow.com/users/1334067/cechode"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606105627,
          "creation_date": 1606105627,
          "answer_id": 64962551,
          "question_id": 64962352,
          "share_link": "https://stackoverflow.com/a/64962551",
          "body_markdown": "to return nodes who have more then 2 relationship between them you need to check the size of the collected rels. something like\r\n\r\n MATCH (x:Person)-[r:INVITE]-(:Party)\r\n WITH x, size(collect(r)) as inviteCount\r\n WHERE inviteCount &gt; 2\r\n RETURN x",
          "link": "https://stackoverflow.com/questions/64962352/is-it-possible-to-query-relations-from-two-node-which-the-number-of-relation-gre/64962551#64962551",
          "title": "Is it possible to query relations from two node which the number of relation greater than a certain value"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 56623,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606106781,
          "creation_date": 1606106781,
          "answer_id": 64962682,
          "question_id": 64962352,
          "share_link": "https://stackoverflow.com/a/64962682",
          "body_markdown": "[Aggregating functions](https://neo4j.com/docs/developer-manual/current/cypher/functions/aggregating/) like `COLLECT` and `COUNT` use non-aggregating terms in the same `WITH` (or `RETURN`) clause as &quot;grouping keys&quot;.\r\n\r\nSo, here is one way to get pairs of nodes that have more than 2 `INVITE` relationships (in a specific direction) between them:\r\n\r\n MATCH (from)-[r:INVITE]-&gt;(to)\r\n WITH from, to, COUNT(r) AS ref\r\n WHERE ref &gt; 2\r\n RETURN from, to\r\n\r\n*NOTE: Ideally (for clarity and efficiency), your nodes would have specific [labels](https://neo4j.com/docs/getting-started/3.5/graphdb-concepts/#graphdb-labels) and the `MATCH` pattern would specify those labels.*",
          "link": "https://stackoverflow.com/questions/64962352/is-it-possible-to-query-relations-from-two-node-which-the-number-of-relation-gre/64962682#64962682",
          "title": "Is it possible to query relations from two node which the number of relation greater than a certain value"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 5207698,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/1d7f0232c32a5407382681cca053cc55?s=128&d=identicon&r=PG&f=1",
        "display_name": "Ran",
        "link": "https://stackoverflow.com/users/5207698/ran"
      },
      "last_editor": {
        "reputation": 56623,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1606106781,
      "creation_date": 1606103727,
      "last_edit_date": 1606106546,
      "question_id": 64962352,
      "share_link": "https://stackoverflow.com/q/64962352",
      "body_markdown": "I am a newbie who just started learning graph database and I have a problem querying the relationships between nodes.\r\n\r\nMy graph is like this:\r\n\r\n![enter image description here][1]\r\n\r\n[1]: https://i.stack.imgur.com/96QMf.png\r\n\r\nThere are multiple relationships from one node to another, and the IDs of these relationships are different.\r\n\r\nHow to find relationships where the number of relationships between two nodes is greater than 2，or is there a problem with the model of this graph?\r\n\r\nJust like on the graph, I want to query node **d** and node **a**.\r\n\r\nI tried to use the following statement, but the result is incorrect:\r\n\r\n match (from)-[r:INVITE]-&gt;(to)\r\n with from, count(r) as ref\r\n where ref &gt;2\r\n return from\r\n\r\nIt seems to count the number of relations issued by all from, not the relationship between from--&gt;to.\r\n",
      "link": "https://stackoverflow.com/questions/64962352/is-it-possible-to-query-relations-from-two-node-which-the-number-of-relation-gre",
      "title": "Is it possible to query relations from two node which the number of relation greater than a certain value"
    },
    {
      "tags": ["neo4j"],
      "comments": [
        {
          "owner": {
            "reputation": 6221,
            "user_id": 277128,
            "user_type": "registered",
            "accept_rate": 79,
            "profile_image": "https://www.gravatar.com/avatar/f06979a03b9b522c80cb12def209c31a?s=128&d=identicon&r=PG",
            "display_name": "fbiville",
            "link": "https://stackoverflow.com/users/277128/fbiville"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1606127445,
          "post_id": 64961717,
          "comment_id": 114856564,
          "link": "https://stackoverflow.com/questions/64961717/combine-multiple-paths-into-one-in-neo4j#comment114856564_64961717"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606142864,
          "creation_date": 1606142864,
          "answer_id": 64970680,
          "question_id": 64961717,
          "share_link": "https://stackoverflow.com/a/64970680",
          "body_markdown": "There are two possible solutions really, combine path or create path with APOC.\r\n\r\nGiven the following graph : \r\n\r\n```\r\nCREATE (p:Person {name: &quot;John&quot;})-[:WORKS_FOR]-&gt;(c:Company {name: &quot;Acme&quot;})\r\nCREATE (c)-[:HAS_PHONE]-&gt;(pn:PhoneNumber {number : 123345})\r\nCREATE (pn)&lt;-[:PROVIDES]-(pr:TelcoProvider {name: &quot;Vodafone&quot;})\r\n```\r\n\r\nAnd the following query to retrieve paths : \r\n\r\n```\r\nMATCH p1=(p:Person)-[:WORKS_FOR]-&gt;(c)\r\nMATCH p2=(c)-[:HAS_PHONE]-&gt;(phone)\r\nMATCH p3=(phone)-[r:PROVIDES]-(provider)\r\nRETURN ...\r\n```\r\n\r\n**Combine Paths**\r\n\r\nFor this, you can use an accumulator starting with the first path, then reduce the remaining paths with `apoc.path.combine` : \r\n\r\n```\r\nMATCH p1=(p:Person)-[:WORKS_FOR]-&gt;(c)\r\nMATCH p2=(c)-[:HAS_PHONE]-&gt;(phone)\r\nMATCH p3=(phone)-[r:PROVIDES]-(provider)\r\nWITH p1, [p2,p3] AS paths\r\nRETURN reduce(acc = p1, x IN paths | apoc.path.combine(acc, x))\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Create Path**\r\n\r\nThe second solution is to create a path from the first node, and add all the relationships : \r\n\r\n```\r\nMATCH p1=(p:Person)-[r:WORKS_FOR]-&gt;(c)\r\nMATCH p2=(c)-[r2:HAS_PHONE]-&gt;(phone)\r\nMATCH p3=(phone)-[r3:PROVIDES]-(provider)\r\nRETURN apoc.path.create(p, [r,r2,r3])\r\n```\r\n\r\nWhich would yield the same result as above.\r\n\r\n\r\n [1]: https://i.stack.imgur.com/dTK7U.png",
          "link": "https://stackoverflow.com/questions/64961717/combine-multiple-paths-into-one-in-neo4j/64970680#64970680",
          "title": "Combine multiple paths into one in neo4j"
        }
      ],
      "owner": {
        "reputation": 4242,
        "user_id": 1006944,
        "user_type": "registered",
        "accept_rate": 74,
        "profile_image": "https://i.stack.imgur.com/SWvNb.jpg?s=128&g=1",
        "display_name": "Selvakumar Ponnusamy",
        "link": "https://stackoverflow.com/users/1006944/selvakumar-ponnusamy"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 35,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 64970680,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606142864,
      "creation_date": 1606097272,
      "question_id": 64961717,
      "share_link": "https://stackoverflow.com/q/64961717",
      "body_markdown": "I would like to combine paths from multiple match query. Consider a query \r\n\r\n MATCH path_1 = (t1:Type1)-[r1:]-&gt;(t2:Type2)\r\n MATCH path_2 = (t2)-[r2]-&gt;(t3:Type3) \r\n MATCH path_3 = (t1)-[r3]-&gt;(t4:Type4)\r\n RETURN path_1,path_2,path_3\r\n\r\n 1. How to combine all these three paths into one as like\r\n `apoc.path.combine(path_1,path_2) as path`, But it just combines two\r\n paths. I want to combine more than three paths.\r\n 2. How does Neo4j browser able to render a graph with the output given by above query? \r\n\r\n \r\n\r\n",
      "link": "https://stackoverflow.com/questions/64961717/combine-multiple-paths-into-one-in-neo4j",
      "title": "Combine multiple paths into one in neo4j"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 2205,
            "user_id": 1734996,
            "user_type": "registered",
            "accept_rate": 85,
            "profile_image": "https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name": "Graphileon",
            "link": "https://stackoverflow.com/users/1734996/graphileon"
          },
          "last_editor": {
            "reputation": 2205,
            "user_id": 1734996,
            "user_type": "registered",
            "accept_rate": 85,
            "profile_image": "https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name": "Graphileon",
            "link": "https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1606053986,
          "last_edit_date": 1606053986,
          "creation_date": 1606050930,
          "answer_id": 64954565,
          "question_id": 64953388,
          "share_link": "https://stackoverflow.com/a/64954565",
          "body_markdown": "Since you can have multiple relationships of the same type between any two given nodes, you can create a `:HAS_NAME` relationship for each period. And just match using (assuming you provide `queryStart` and `queryEnd` as parameters)\r\n\r\n MATCH (n)-[r:HAS_NAMe]-&gt;(m)\r\n WHERE ($queryEnd &gt; r.start AND $queryStart &lt; r.end) \r\n\r\nto retrieve the relationships.\r\n",
          "link": "https://stackoverflow.com/questions/64953388/query-neo4j-for-many-date-ranges/64954565#64954565",
          "title": "Query Neo4j for many date ranges"
        }
      ],
      "owner": {
        "reputation": 3393,
        "user_id": 1496675,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://www.gravatar.com/avatar/bd70e12f69f4a20fc7ea07cf6450b2ef?s=128&d=identicon&r=PG",
        "display_name": "rarry",
        "link": "https://stackoverflow.com/users/1496675/rarry"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606053986,
      "creation_date": 1606043104,
      "question_id": 64953388,
      "share_link": "https://stackoverflow.com/q/64953388",
      "body_markdown": "I am using neo4j database. For each relationship, I keep a pair of dates in properties that spacify when the relationship holds e.g.\r\n```\r\n{\r\n &quot;identity&quot;: 1,\r\n &quot;type&quot;: &quot;HAS_NAME&quot;,\r\n &quot;properties&quot;: {\r\n\t &quot;start&quot;: 1989,\r\n\t &quot;end&quot;: 1990\r\n }\r\n}\r\n```\r\nwhich means, that the relationship was true between 1989 and 1990. Now, I would like to extend properties to have many pairs of dates e.g.\r\n```\r\n{\r\n &quot;identity&quot;: 1,\r\n &quot;type&quot;: &quot;HAS_NAME&quot;,\r\n &quot;properties&quot;: {\r\n\t &quot;start1&quot;: 1989,\r\n\t &quot;end1&quot;: 1990,\r\n\t &quot;start2&quot;: 2001,\r\n\t &quot;end2&quot;: 2002,\r\n\t &quot;start3&quot;: 2010,\r\n\t &quot;end3&quot;: 2015,\r\n\t ...\r\n }\r\n}\r\n```\r\nwhich means, that the relationship was true between 1989 and 1990 and also between 2001 and 2002 and between 2010 and 2015. I would like to be able to query for relationships by dates, e.g. &quot;find all relationships that were true between `queryStart` and `queryEnd`&quot;. \r\n\r\nIn the above example, I could write\r\n```\r\nWHERE (queryEnd &gt; start1 AND queryStart &lt; end1) \r\nOR (queryEnd &gt; start2 AND queryStart &lt; end2) \r\nOR (queryEnd &gt; start3 AND queryStart &lt; end3)\r\n```\r\n\r\nHowever, I do not know how many pairs the relationship will have. Is there a standard approach to achieve that in neo4j? I do not have to keep those dates in properties.",
      "link": "https://stackoverflow.com/questions/64953388/query-neo4j-for-many-date-ranges",
      "title": "Query Neo4j for many date ranges"
    },
    {
      "tags": ["database", "graph", "neo4j"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 3281,
            "user_id": 6077914,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LXTjN.jpg?s=128&g=1",
            "display_name": "Raj",
            "link": "https://stackoverflow.com/users/6077914/raj"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606024991,
          "creation_date": 1606024991,
          "answer_id": 64951150,
          "question_id": 64949795,
          "share_link": "https://stackoverflow.com/a/64951150",
          "body_markdown": "You don&#39;t need to `match` again for creating relationships. You can use the variables directly to create relationships like:\r\n\r\n CREATE (lpam:Isbn{ident:&quot;La physique avec Maple&quot;,name:&quot;La physique avec Maple&quot;,type:&quot;isbn&quot;,isbnValue:&quot;2-7298-7948-X&quot;,isbnCanonique:&quot;&quot;,sumUp:&quot;Physique, Chimie, Fractales et Chaos&quot;});\r\n CREATE (p138:Page{ident:&quot;La physique avec Maplep138&quot;,name:&quot;p138&quot;,,type:&quot;page&quot;});\r\n CREATE (lpam)-[r:CONTAINS]-&gt;(p138) RETURN r;",
          "link": "https://stackoverflow.com/questions/64949795/neo4j-match-by-user-defined-variable/64951150#64951150",
          "title": "Neo4j match by user defined variable"
        }
      ],
      "owner": {
        "reputation": 69,
        "user_id": 339385,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/62b505343b3b7fb9d2cd57d02c3f236a?s=128&d=identicon&r=PG",
        "display_name": "moueza",
        "link": "https://stackoverflow.com/users/339385/moueza"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 16,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 64951150,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1606024991,
      "creation_date": 1606008151,
      "question_id": 64949795,
      "share_link": "https://stackoverflow.com/q/64949795",
      "body_markdown": "I match, based on ident:\r\n\r\n&gt; create (lpam:Isbn{ident:&quot;La physique avec Maple&quot;,name:&quot;La physique avec Maple&quot;,type:&quot;isbn&quot;,isbnValue:&quot;2-7298-7948-X&quot;,isbnCanonique:&quot;&quot;,sumUp:&quot;Physique, Chimie, Fractales et Chaos&quot;}); \r\n&gt; create (p138:Page{ident:&quot;La physique avec Maplep138&quot;,name:&quot;p138&quot;,,type:&quot;page&quot;}); \r\nMATCH (a), (b) WHERE a.ident = &quot;La physique avec Maple&quot; AND b.ident = &quot;La physique avec Maplep138&quot; CREATE (a)-[r:CONTAINS]-&gt;(b) RETURN r.\r\n\r\nident strings are too long, whereas lpam p138 are shorter, best for me.\r\n1)Can&#39;t I match based on the node variable lpam ? something like \r\n\r\n&gt; MATCH (a), (b) WHERE var(a) = &quot;lpam&quot; AND b.ident = &quot;La physique avec\r\n&gt; Maplep138&quot; CREATE (a)-[r:CONTAINS]-&gt;(b) RETURN r\r\n\r\n2)\r\n&gt; create (p138:Page.....\r\n\r\nWhat is the role of the variable (p138) if I can not match it ?",
      "link": "https://stackoverflow.com/questions/64949795/neo4j-match-by-user-defined-variable",
      "title": "Neo4j match by user defined variable"
    },
    {
      "tags": ["neo4j", "graph-databases", "genome"],
      "owner": {
        "reputation": 91547,
        "user_id": 651174,
        "user_type": "registered",
        "accept_rate": 92,
        "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG",
        "display_name": "David542",
        "link": "https://stackoverflow.com/users/651174/david542"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 6,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1605999483,
      "creation_date": 1605999483,
      "question_id": 64948975,
      "share_link": "https://stackoverflow.com/q/64948975",
      "body_markdown": "The query language for [`SMART`](https://en.wikipedia.org/wiki/SMILES_arbitrary_target_specification) and http://smart.embl-heidelberg.de/ allows the querying of molecule/atom &#39;objects&#39; and their relationship patterns, to give the most simplified version of it. Could something like this be built on top of a graph database such as `Neo4j`? Or are there features of the database that could not be modeled in a general-purpose graph database? If so, what would be some examples, or the possible difficulties of building something like this on Neo4j? Note this is a toy project (of course), and I&#39;m just seeing if it could be done using Neo4j as a starting point.",
      "link": "https://stackoverflow.com/questions/64948975/simplified-smiles-implementation",
      "title": "Simplified SMILES implementation"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 130,
                "user_id": 1525553,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
                "display_name": "Guilherme Costa",
                "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606035097,
              "post_id": 64951923,
              "comment_id": 114832094,
              "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node/64951923#comment114832094_64951923"
            },
            {
              "owner": {
                "reputation": 854,
                "user_id": 1334067,
                "user_type": "registered",
                "accept_rate": 67,
                "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
                "display_name": "cechode",
                "link": "https://stackoverflow.com/users/1334067/cechode"
              },
              "reply_to_user": {
                "reputation": 130,
                "user_id": 1525553,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
                "display_name": "Guilherme Costa",
                "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606037401,
              "post_id": 64951923,
              "comment_id": 114832525,
              "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node/64951923#comment114832525_64951923"
            },
            {
              "owner": {
                "reputation": 130,
                "user_id": 1525553,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
                "display_name": "Guilherme Costa",
                "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606038058,
              "post_id": 64951923,
              "comment_id": 114832684,
              "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node/64951923#comment114832684_64951923"
            },
            {
              "owner": {
                "reputation": 854,
                "user_id": 1334067,
                "user_type": "registered",
                "accept_rate": 67,
                "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
                "display_name": "cechode",
                "link": "https://stackoverflow.com/users/1334067/cechode"
              },
              "reply_to_user": {
                "reputation": 130,
                "user_id": 1525553,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
                "display_name": "Guilherme Costa",
                "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1606038315,
              "post_id": 64951923,
              "comment_id": 114832731,
              "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node/64951923#comment114832731_64951923"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 854,
            "user_id": 1334067,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
            "display_name": "cechode",
            "link": "https://stackoverflow.com/users/1334067/cechode"
          },
          "last_editor": {
            "reputation": 854,
            "user_id": 1334067,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
            "display_name": "cechode",
            "link": "https://stackoverflow.com/users/1334067/cechode"
          },
          "comment_count": 4,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1606038198,
          "last_edit_date": 1606038198,
          "creation_date": 1606032664,
          "answer_id": 64951923,
          "question_id": 64947597,
          "share_link": "https://stackoverflow.com/a/64951923",
          "body_markdown": "How about something like\r\n\r\n match (c:Country)\r\n with c\r\n MATCH (kid:Person)-[:IS_SON]-(par:Person)\r\n WITH c,kid, collect(distinct par) as parents\r\n match (kid)\r\n where all(x in parents WHERE (x)-[:WAS_BORN]-(c))\r\n return c, collect(kid) as kids\r\n\r\nthis should return a list or records each containing a person whos all of his parents were born in the USA",
          "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node/64951923#64951923",
          "title": "Search paths where all nodes are in a relationship with same node"
        }
      ],
      "owner": {
        "reputation": 130,
        "user_id": 1525553,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
        "display_name": "Guilherme Costa",
        "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
      },
      "last_editor": {
        "reputation": 130,
        "user_id": 1525553,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/64424816ff62399aafc2a61e6df79f42?s=128&d=identicon&r=PG",
        "display_name": "Guilherme Costa",
        "link": "https://stackoverflow.com/users/1525553/guilherme-costa"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 64951923,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606038198,
      "creation_date": 1605989609,
      "last_edit_date": 1606037972,
      "question_id": 64947597,
      "share_link": "https://stackoverflow.com/q/64947597",
      "body_markdown": "Using the below graph as an example: I am trying to determine all ***Persons*** which ***are_sons*** of ***Persons*** all ***born*** in the same country:\r\n\r\n[![Graph][1]][1]\r\n\r\nIs there an elegant way to achieve this with Cypher?\r\n\r\n\r\n [1]: https://i.stack.imgur.com/XabEK.jpg",
      "link": "https://stackoverflow.com/questions/64947597/search-paths-where-all-nodes-are-in-a-relationship-with-same-node",
      "title": "Search paths where all nodes are in a relationship with same node"
    },
    {
      "tags": ["neo4j", "cypher"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16775,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606143598,
          "creation_date": 1606143598,
          "answer_id": 64970857,
          "question_id": 64945298,
          "share_link": "https://stackoverflow.com/a/64970857",
          "body_markdown": "You can change your `UNWIND` for a `FOREACH` by using a `MERGE` instead of a `MATCH` in the second batch.\r\n\r\nThat would then solve the issue for the second unwind breaking your results in case of nulls\r\n\r\n```\r\nUNWIND $towns as town\r\nMERGE (a:area:Town {Name: town.name, uuid: town.uuid}) with a, town\r\nMATCH (p:parish{Name: town.parish}) with a, p, town\r\nMERGE (a)-[:in]-(p) with a, town\r\nFOREACH (category IN town.categories |\r\n MERGE (c:LocationCategory {uuid: category}) \r\n MERGE (a)-[:category]-(c)\r\n)\r\nRETURN a\r\n``` ",
          "link": "https://stackoverflow.com/questions/64945298/nested-unwind-not-returning-from-higher-unwind-in-cypher-query/64970857#64970857",
          "title": "Nested UNWIND not returning from higher UNWIND in Cypher query"
        }
      ],
      "owner": {
        "reputation": 81,
        "user_id": 11045534,
        "user_type": "registered",
        "profile_image": "https://lh5.googleusercontent.com/-WB_KgWspIVo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOKtwlXXhfl00hDyl9r-WMFLDRhHQ/mo/photo.jpg?sz=128",
        "display_name": "Deeswoc",
        "link": "https://stackoverflow.com/users/11045534/deeswoc"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606143598,
      "creation_date": 1605975473,
      "question_id": 64945298,
      "share_link": "https://stackoverflow.com/q/64945298",
      "body_markdown": "I have the following query\r\n\r\n UNWIND $towns as town\r\n MERGE (a:area:Town {Name: town.name, uuid: town.uuid}) with a, town\r\n MATCH (p:parish{Name: town.parish}) with a, p, town\r\n MERGE (a)-[:in]-(p) with a, town\r\n UNWIND town.categories as category\r\n MATCH (c:LocationCategory {uuid: category}) \r\n MERGE (a)-[:category]-(c) \r\n RETURN a\r\n\r\n`town.categories` can be null so I&#39;m guessing the second `UNWIND` doesn&#39;t return a row for the null values of the categories, fine. But I&#39;don&#39;t care about returning any row from the second unwind because it might not return any. But I want to return all the original `a` nodes. How do I break the second unwind so I can return `a` regularly as if it wasn&#39;t there?",
      "link": "https://stackoverflow.com/questions/64945298/nested-unwind-not-returning-from-higher-unwind-in-cypher-query",
      "title": "Nested UNWIND not returning from higher UNWIND in Cypher query"
    },
    {
      "tags": ["python", "graph", "neo4j"],
      "owner": {
        "reputation": 1,
        "user_id": 3432557,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/85888ac93631b5dd937b4a5ba7e5179b?s=128&d=identicon&r=PG&f=1",
        "display_name": "Zahra Mo.Beigi",
        "link": "https://stackoverflow.com/users/3432557/zahra-mo-beigi"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1605962686,
      "creation_date": 1605962686,
      "question_id": 64943190,
      "share_link": "https://stackoverflow.com/q/64943190",
      "body_markdown": "Firstly I may need to apologize because I may not be a good English writer.\r\nI am a new neo4j user. I want to create a **graph database** in python and store in neo4j. my database contains 125 separate graphs. I am going to get graphs one by one and test my algorithm on them. I found out that I can&#39;t create multiple graphs in neo4j community. So I decided to test **labeled nodes**. I mean graph 1 nodes have label &#39;one&#39; and etc. I tried to pass name and label using method parameters but I think it is a bad idea. because I get error. how can I pass name and label to my CREATE cypher query?\r\n\r\nmy code is:\r\n\r\n```def create_node(tx, node, node_weight, label):\r\n wlabel = p.number_to_words(label)\r\n tx.run(&quot;CREATE ($n : $lbl { node_weight : $nweight })&quot;, n=node, lbl=wlabel, nweight=node_weight)\r\n```\r\n&#39;label&#39; variable comes from a loop from 1 to 125.&#39;node&#39; variable comes from a loop from 1 to &#39;number of nodes&#39;. I know $n and $lbl are cause of error but I don&#39;t know any alternative way.\r\nI will appreciate any help.",
      "link": "https://stackoverflow.com/questions/64943190/pass-node-name-to-create-neo4j-node-using-python",
      "title": "pass node name to create neo4j node using python"
    },
    {
      "tags": ["graph", "neo4j", "cypher", "nodes", "relationship"],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 854,
            "user_id": 1334067,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://i.stack.imgur.com/gYPQU.jpg?s=128&g=1",
            "display_name": "cechode",
            "link": "https://stackoverflow.com/users/1334067/cechode"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1606036995,
          "creation_date": 1606036995,
          "answer_id": 64952492,
          "question_id": 64940321,
          "share_link": "https://stackoverflow.com/a/64952492",
          "body_markdown": "ok this is hands down ugly :) basically we ensure that all items required ( up the tree from the item we want to use ) and all the items that enable the item we want to user ( also up the tree ) are available within the list of items we have. is the count is zero then we can not use this item.\r\n\r\nhope if this is not your exact solution then it gets you some new ideas :)\r\n\r\n( on a side note this is something i much rather not solve in cypher but in Java as a procedure ( my 2 cents anyway ) ) \r\n\r\n match (i:Item)\r\n where i.name in [&#39;Item A&#39;,&#39;Item B&#39;,&#39;Item C&#39;]\r\n with collect (distinct i) as myItems\r\n\r\n match (canIUseThis:Item{name:&#39;Item E&#39;})\r\n WITH myItems, canIUseThis\r\n\r\n match (canIUseThis)&lt;-[:Enables *1..]-(x)\r\n WITH myItems, canIUseThis, COLLECT(DISTINCT x) as enablers\r\n \r\n match (canIUseThis)-[:Requires *1..]-&gt;(y)\r\n WITH myItems, canIUseThis, enablers, COLLECT(DISTINCT y) as reqs\r\n \r\n match (canIUseThis)\r\n where all(x in reqs where x in myItems) and all (x in enablers where x in myItems)\r\n return count(*) ",
          "link": "https://stackoverflow.com/questions/64940321/fetch-nodes-according-to-parents-and-two-way-relations/64952492#64952492",
          "title": "Fetch nodes according to parents and two way relations"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 14679636,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/be6ed76ae57a1a991fa3165f7fb70442?s=128&d=identicon&r=PG",
        "display_name": "LeaTex",
        "link": "https://stackoverflow.com/users/14679636/leatex"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1606036995,
      "creation_date": 1605938505,
      "question_id": 64940321,
      "share_link": "https://stackoverflow.com/q/64940321",
      "body_markdown": "I have to solve some problem with &quot;complex&quot; queries in Cypher. Maybe this is simple for an expert but I am a complete newbie.\r\n\r\nWith these relations, I need to know if given a list of items and a particular item, I could use it.\r\nSome items enables to use other items, and some items need (required) items.\r\n\r\n[items_relations][1]\r\n\r\nExamples (see image):\r\n- If I have Item A, could I use Item B? Yes\r\n- If I have Item B, could I use Item D? Yes\r\n- If I have Item B, could I use Item E? No, because Item C is also requerid.\r\n- If I have Item A and B, could I use Item E? No, because Item C is also requerid.\r\n- If I have Item A and B and C, could I use Item E? Yes.\r\n\r\nI know my list of items, not empty, ex: [&#39;Item A&#39;, &#39;Item B&#39;]\r\nand the item I need, ex: &#39;Item D&#39;\r\n\r\nReturn can be a Boolen or the needed item.\r\n\r\nThe graph can be created with this:\r\n```\r\nMERGE (n:Item {name: &#39;Item A&#39; });\r\nMERGE (n:Item {name: &#39;Item B&#39; });\r\nMERGE (n:Item {name: &#39;Item C&#39; });\r\nMERGE (n:Item {name: &#39;Item D&#39; });\r\nMERGE (n:Item {name: &#39;Item E&#39; });\r\n\r\nMATCH (it: Item { name: &#39;Item A&#39; })\r\n MATCH (otherIt: Item { name: &#39;Item B&#39; })\r\n MERGE (it)-[:Enables]-&gt;(otherIt);\r\n\r\nMATCH (it: Item { name: &#39;Item A&#39; })\r\n MATCH (otherIt: Item { name: &#39;Item C&#39; })\r\n MERGE (it)-[:Enables]-&gt;(otherIt);\r\n\r\nMATCH (it: Item { name: &#39;Item B&#39; })\r\n MATCH (otherIt: Item { name: &#39;Item D&#39; })\r\n MERGE (it)-[:Enables]-&gt;(otherIt);\r\n\r\nMATCH (it: Item { name: &#39;Item B&#39; })\r\n MATCH (otherIt: Item { name: &#39;Item E&#39; })\r\n MERGE (it)-[:Enables]-&gt;(otherIt);\r\n\r\nMATCH (it: Item { name: &#39;Item C&#39; })\r\n MATCH (otherIt: Item { name: &#39;Item E&#39; })\r\n MERGE (it)-[:Enables]-&gt;(otherIt);\r\n\r\nMATCH (it: Item {name: &#39;Item B&#39;})\r\n MATCH (req: Item {name: &#39;Item E&#39;})\r\n MERGE (req)-[:Requires]-&gt;(it);\r\n\r\nMATCH (it: Item {name: &#39;Item C&#39;})\r\n MATCH (req: Item {name: &#39;Item E&#39;})\r\n MERGE (req)-[:Requires]-&gt;(it);\r\n```\r\n\r\n\r\n [1]: https://i.stack.imgur.com/iU4wO.png",
      "link": "https://stackoverflow.com/questions/64940321/fetch-nodes-according-to-parents-and-two-way-relations",
      "title": "Fetch nodes according to parents and two way relations"
    }
  ]
}
